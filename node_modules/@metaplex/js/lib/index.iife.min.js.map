{"version":3,"file":"index.iife.min.js","sources":["../src/providers/conversion/ConversionRateProvider.ts","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/isAxiosError.js","../node_modules/axios/index.js","../src/providers/conversion/Coingecko.ts","../node_modules/form-data/lib/browser.js","../src/providers/storage/arweave/ArweaveStorage.ts","../src/Connection.ts","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/buffer/index.js","../src/Account.ts","../node_modules/bn.js/lib/bn.js","../node_modules/safe-buffer/index.js","../node_modules/base-x/src/index.js","../node_modules/bs58/index.js","../node_modules/text-encoding-utf-8/lib/encoding.lib.mjs","../node_modules/borsh/lib/index.js","../src/utils/borsh.ts","../node_modules/crypto-hash/browser.js","../src/utils/crypto.ts","../src/utils/metadata.ts","../src/utils/tupleNumeric.ts","../src/errors.ts","../src/Transaction.ts","../src/actions/transactions.ts","../src/Program.ts","../src/config.ts","../src/programs/metaplex/MetaplexProgram.ts","../src/programs/metaplex/accounts/BidRedemptionTicket.ts","../src/programs/auction/AuctionProgram.ts","../src/programs/auction/accounts/Auction.ts","../src/programs/auction/transactions/CreateAuction.ts","../src/programs/auction/accounts/BidderMetadata.ts","../src/programs/auction/accounts/BidderPot.ts","../src/programs/auction/accounts/AuctionExtended.ts","../src/programs/auction/transactions/CancelBid.ts","../src/programs/auction/transactions/CreateAuctionV2.ts","../src/programs/auction/transactions/PlaceBid.ts","../src/programs/auction/transactions/SetAuctionAuthority.ts","../src/programs/metaplex/accounts/AuctionManager.ts","../src/programs/metaplex/accounts/SafetyDepositConfig.ts","../src/programs/metaplex/accounts/PayoutTicket.ts","../src/programs/metaplex/accounts/PrizeTrackingTicket.ts","../src/programs/metaplex/accounts/WhitelistedCreator.ts","../src/programs/metaplex/accounts/Store.ts","../src/programs/metaplex/accounts/AuctionWinnerTokenTypeTracker.ts","../src/programs/vault/VaultProgram.ts","../src/programs/vault/accounts/Vault.ts","../src/programs/vault/accounts/SafetyDepositBox.ts","../src/programs/vault/accounts/ExternalPriceAccount.ts","../src/programs/vault/transactions/ActivateVault.ts","../src/programs/vault/transactions/CombineVault.ts","../src/programs/vault/transactions/InitVault.ts","../src/programs/vault/transactions/RedeemShares.ts","../src/programs/vault/transactions/SetVaultAuthority.ts","../src/programs/vault/transactions/UpdateExternalPriceAccount.ts","../src/programs/metadata/MetadataProgram.ts","../src/programs/vault/transactions/AddSharesToTreasury.ts","../src/programs/vault/transactions/AddTokenToInactiveVault.ts","../src/programs/vault/transactions/MintFractionalShares.ts","../src/programs/vault/transactions/WithdrawSharesFromTreasury.ts","../src/programs/vault/transactions/WithdrawTokenFromSafetyDepositBox.ts","../src/programs/metadata/accounts/Edition.ts","../src/programs/metadata/accounts/EditionMarker.ts","../src/programs/metadata/accounts/MasterEdition.ts","../src/programs/shared/accounts/TokenAccount.ts","../src/programs/shared/transactions/CreateMint.ts","../src/programs/shared/transactions/CreateTokenAccount.ts","../src/programs/shared/transactions/CreateAssociatedTokenAccount.ts","../src/programs/shared/transactions/MintTo.ts","../src/programs/metadata/accounts/Metadata.ts","../src/programs/metadata/transactions/CreateMetadata.ts","../src/programs/metadata/transactions/UpdateMetadata.ts","../src/programs/metadata/transactions/CreateMasterEdition.ts","../src/programs/metadata/transactions/MintNewEditionFromMasterEditionViaToken.ts","../src/programs/metadata/transactions/UpdatePrimarySaleHappenedViaToken.ts","../src/programs/metadata/transactions/SignMetadata.ts","../src/programs/metaplex/transactions/RedeemBid.ts","../src/programs/metaplex/transactions/SetStore.ts","../src/programs/metaplex/transactions/SetWhitelistedCreator.ts","../src/programs/metaplex/transactions/StartAuction.ts","../src/programs/metaplex/transactions/InitAuctionManagerV2.ts","../src/programs/metaplex/transactions/ClaimBid.ts","../src/programs/metaplex/transactions/RedeemFullRightsTransferBid.ts","../src/programs/shared/transactions/PayForFiles.ts","../src/actions/shared/index.ts","../src/utils/transactions-batch.ts","../src/actions/closeVault.ts","../src/actions/cancelBid.ts","../src/actions/placeBid.ts","../src/actions/redeemBid.ts","../src/actions/claimBid.ts","../node_modules/retry/lib/retry_operation.js","../node_modules/retry/lib/retry.js","../node_modules/async-retry/lib/index.js","../node_modules/retry/index.js","../src/actions/initStore.ts","../src/actions/mintNFT.ts","../src/actions/mintEditionFromMaster.ts","../src/actions/createVault.ts","../src/actions/createExternalPriceAccount.ts","../src/actions/createMetadata.ts","../src/actions/createMasterEdition.ts","../src/actions/signMetadata.ts","../src/actions/updateMetadata.ts","../src/actions/instantSale.ts","../src/actions/burnToken.ts","../src/actions/sendToken.ts","../src/wallet/index.ts"],"sourcesContent":["// We are keeping an organized enum of all currencies to allow for easier refactoring should\n// we decide to change the way that metaplex names currencies internally\nexport enum Currency {\n  USD = 'usd',\n  EUR = 'eur',\n  AR = 'ar',\n  SOL = 'sol',\n}\n\nexport type ConversionRatePair = {\n  from: Currency;\n  to: Currency;\n  rate: number;\n};\n\nexport interface ConversionRateProvider {\n  getRate(from: Currency | Currency[], to: Currency | Currency[]): Promise<ConversionRatePair[]>;\n}\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        config.transitional && config.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar pkg = require('./../../package.json');\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\nvar currentVerArr = pkg.version.split('.');\n\n/**\n * Compare package versions\n * @param {string} version\n * @param {string?} thanVersion\n * @returns {boolean}\n */\nfunction isOlderVersion(version, thanVersion) {\n  var pkgVersionArr = thanVersion ? thanVersion.split('.') : currentVerArr;\n  var destVer = version.split('.');\n  for (var i = 0; i < 3; i++) {\n    if (pkgVersionArr[i] > destVer[i]) {\n      return true;\n    } else if (pkgVersionArr[i] < destVer[i]) {\n      return false;\n    }\n  }\n  return false;\n}\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator\n * @param {string?} version\n * @param {string} message\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  var isDeprecated = version && isOlderVersion(version);\n\n  function formatMessage(opt, desc) {\n    return '[Axios v' + pkg.version + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed in ' + version));\n    }\n\n    if (isDeprecated && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  isOlderVersion: isOlderVersion,\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      forcedJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      clarifyTimeoutError: validators.transitional(validators.boolean, '1.0.0')\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","module.exports = require('./lib/axios');","import { ConversionRateProvider, Currency, ConversionRatePair } from './ConversionRateProvider';\nimport axios from 'axios';\n\nexport class Coingecko implements ConversionRateProvider {\n  // this method translates currency strings to the format that coingecko requires\n  static translateCurrency(currency: Currency): string {\n    switch (currency) {\n      case Currency.AR:\n        return 'arweave';\n      case Currency.SOL:\n        return 'solana';\n      case Currency.USD:\n        return 'usd';\n      case Currency.EUR:\n        return 'eur';\n      default:\n        throw new Error('Invalid currency supplied to Coingecko conversion rate provider');\n    }\n  }\n\n  async getRate(from: Currency | Currency[], to: Currency | Currency[]) {\n    const fromArray = typeof from === 'string' ? [from] : from;\n    const toArray = typeof to === 'string' ? [to] : to;\n    const fromIds = fromArray.map((currency) => Coingecko.translateCurrency(currency)).join(',');\n    const toIds = toArray.map((currency) => Coingecko.translateCurrency(currency)).join(',');\n    const url = `https://api.coingecko.com/api/v3/simple/price?ids=${fromIds}&vs_currencies=${toIds}`;\n    const response = await axios(url);\n    const data = await response.data;\n    return fromArray.reduce<ConversionRatePair[]>((previousPairs, fromCurrency) => {\n      return [\n        ...previousPairs,\n        ...toArray.map((toCurrency) => ({\n          from: fromCurrency,\n          to: toCurrency,\n          rate: data[Coingecko.translateCurrency(fromCurrency)][\n            Coingecko.translateCurrency(toCurrency)\n          ],\n        })),\n      ];\n    }, []);\n  }\n}\n","/* eslint-env browser */\nmodule.exports = typeof self == 'object' ? self.FormData : window.FormData;\n","import { Storage, UploadResult } from '../Storage';\nimport { Buffer } from 'buffer';\nimport axios from 'axios';\nimport FormData from 'form-data';\n\nconst ARWEAVE_URL = 'https://arweave.net';\nconst LAMPORT_MULTIPLIER = 10 ** 9;\nconst WINSTON_MULTIPLIER = 10 ** 12;\n\nexport interface ArweaveUploadResult extends UploadResult {\n  messages?: {\n    filename: string;\n    status: 'success' | 'fail';\n    transactionId?: string;\n    error?: string;\n  }[];\n}\n\nexport interface ArweaveStorageCtorFields {\n  endpoint: string;\n  env: 'mainnet-beta' | 'testnet' | 'devnet';\n}\n\nexport class ArweaveStorage implements Storage {\n  readonly endpoint: string;\n  readonly env: string;\n\n  constructor({ endpoint, env }: ArweaveStorageCtorFields) {\n    this.endpoint = endpoint;\n    this.env = env;\n  }\n\n  async getAssetCostToStore(files: Map<string, Buffer>, arweaveRate: number, solanaRate: number) {\n    const buffers = Array.from(files.values());\n    const totalBytes = buffers.reduce((sum, f) => (sum += f.byteLength), 0);\n    const txnFeeInWinstons = parseInt(await (await axios(`${ARWEAVE_URL}/price/0`)).data);\n    const byteCostInWinstons = parseInt(\n      await (\n        await axios(`${ARWEAVE_URL}/price/${totalBytes.toString()}`)\n      ).data,\n    );\n    const totalArCost =\n      (txnFeeInWinstons * buffers.length + byteCostInWinstons) / WINSTON_MULTIPLIER;\n    // To figure out how many lamports are required, multiply ar byte cost by this number\n    const arMultiplier = arweaveRate / solanaRate;\n    // We also always make a manifest file, which, though tiny, needs payment.\n    return LAMPORT_MULTIPLIER * totalArCost * arMultiplier * 1.1;\n  }\n\n  async upload(\n    files: Map<string, Buffer>,\n    mintKey: string,\n    txid: string,\n  ): Promise<ArweaveUploadResult> {\n    const fileEntries = Array.from(files.entries());\n    const tags = fileEntries.reduce(\n      (acc: Record<string, Array<{ name: string; value: string }>>, [fileName]) => {\n        acc[fileName] = [{ name: 'mint', value: mintKey }];\n        return acc;\n      },\n      {},\n    );\n\n    const body = new FormData();\n\n    body.append('tags', JSON.stringify(tags));\n    body.append('transaction', txid);\n    body.append('env', this.env);\n    fileEntries.map(([, file]) => {\n      body.append('file[]', file);\n    });\n\n    // TODO: I hate to do this, but it seems to be like an upstream problem:\n    // https://github.com/jimmywarting/FormData/issues/133\n    // I'll make sure to track it. - Danny\n    const response = await axios.post(this.endpoint, body);\n\n    if (response.data.error) {\n      return Promise.reject(new Error(response.data.error));\n    }\n\n    return response.data;\n  }\n}\n","import { clusterApiUrl, Commitment, Connection as SolanaConnection } from '@solana/web3.js';\n\nexport enum ChainId {\n  MainnetBeta = 101,\n  Testnet = 102,\n  Devnet = 103,\n}\n\nexport const ENV: Record<string, { endpoint: string; ChainId: ChainId }> = {\n  devnet: {\n    endpoint: clusterApiUrl('devnet'),\n    ChainId: ChainId.Devnet,\n  },\n  'mainnet-beta': {\n    endpoint: 'https://api.metaplex.solana.com/',\n    ChainId: ChainId.MainnetBeta,\n  },\n  'mainnet-beta (Solana)': {\n    endpoint: 'https://api.mainnet-beta.solana.com',\n    ChainId: ChainId.MainnetBeta,\n  },\n  'mainnet-beta (Serum)': {\n    endpoint: 'https://solana-api.projectserum.com/',\n    ChainId: ChainId.MainnetBeta,\n  },\n  testnet: {\n    endpoint: clusterApiUrl('testnet'),\n    ChainId: ChainId.Testnet,\n  },\n};\n\nexport class Connection extends SolanaConnection {\n  constructor(endpoint: keyof typeof ENV | string = 'mainnet-beta', commitment?: Commitment) {\n    if (endpoint in ENV) endpoint = ENV[endpoint].endpoint;\n    super(endpoint, commitment);\n  }\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","import { AccountInfo, Commitment, PublicKey, Connection } from '@solana/web3.js';\nimport { AnyPublicKey } from '@metaplex/types';\nimport { Buffer } from 'buffer';\n\nexport type AccountConstructor<T> = {\n  new (pubkey: AnyPublicKey, info: AccountInfo<Buffer>): T;\n};\n\nexport class Account<T = unknown> {\n  readonly pubkey: PublicKey;\n  readonly info: AccountInfo<Buffer>;\n  data: T;\n\n  constructor(pubkey: AnyPublicKey, info?: AccountInfo<Buffer>) {\n    this.pubkey = new PublicKey(pubkey);\n    this.info = info;\n  }\n\n  static from<T>(this: AccountConstructor<T>, account: Account<unknown>) {\n    return new this(account.pubkey, account.info);\n  }\n\n  static async load<T>(\n    this: AccountConstructor<T>,\n    connection: Connection,\n    pubkey: AnyPublicKey,\n  ): Promise<T> {\n    const info = await Account.getInfo(connection, pubkey);\n\n    return new this(pubkey, info);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  static isCompatible(data: Buffer): boolean {\n    throw new Error(`method 'isCompatible' is not implemented`);\n  }\n\n  static async getInfo(connection: Connection, pubkey: AnyPublicKey) {\n    const info = await connection.getAccountInfo(new PublicKey(pubkey));\n    if (!info) {\n      throw new Error(`Unable to find account: ${pubkey}`);\n    }\n\n    return { ...info, data: Buffer.from(info?.data) };\n  }\n\n  static async getInfos(\n    connection: Connection,\n    pubkeys: AnyPublicKey[],\n    commitment: Commitment = 'recent',\n  ) {\n    const BATCH_SIZE = 99; // Must batch above this limit.\n\n    const promises: Promise<Map<AnyPublicKey, AccountInfo<Buffer>> | undefined>[] = [];\n    for (let i = 0; i < pubkeys.length; i += BATCH_SIZE) {\n      promises.push(\n        Account.getMultipleAccounts(\n          connection,\n          pubkeys.slice(i, Math.min(pubkeys.length, i + BATCH_SIZE)),\n          commitment,\n        ),\n      );\n    }\n\n    const results = new Map<AnyPublicKey, AccountInfo<Buffer>>();\n    (await Promise.all(promises)).forEach((result) =>\n      [...(result?.entries() ?? [])].forEach(([k, v]) => results.set(k, v)),\n    );\n    return results;\n  }\n\n  private static async getMultipleAccounts(\n    connection: Connection,\n    pubkeys: AnyPublicKey[],\n    commitment: Commitment,\n  ) {\n    const args = connection._buildArgs([pubkeys.map((k) => k.toString())], commitment, 'base64');\n    const unsafeRes = await (connection as any)._rpcRequest('getMultipleAccounts', args);\n    if (unsafeRes.error) {\n      throw new Error('failed to get info about accounts ' + unsafeRes.error.message);\n    }\n    if (!unsafeRes.result.value) return;\n    const infos = (unsafeRes.result.value as AccountInfo<string[]>[])\n      .filter(Boolean)\n      .map((info) => ({\n        ...info,\n        data: Buffer.from(info.data[0], 'base64'),\n      })) as AccountInfo<Buffer>[];\n    return infos.reduce((acc, info, index) => {\n      acc.set(pubkeys[index], info);\n      return acc;\n    }, new Map<AnyPublicKey, AccountInfo<Buffer>>());\n  }\n\n  assertOwner(pubkey: AnyPublicKey) {\n    return this.info?.owner.equals(new PublicKey(pubkey));\n  }\n\n  toJSON() {\n    return {\n      pubkey: this.pubkey.toString(),\n      info: {\n        executable: !!this.info?.executable,\n        owner: this.info?.owner ? new PublicKey(this.info?.owner) : null,\n        lamports: this.info?.lamports,\n        data: this.info?.data.toJSON(),\n      },\n      data: this.data,\n    };\n  }\n\n  toString() {\n    return JSON.stringify(this.toJSON());\n  }\n}\n","(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {\n      Buffer = window.Buffer;\n    } else {\n      Buffer = require('buffer').Buffer;\n    }\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n      this.negative = 1;\n    }\n\n    if (start < number.length) {\n      if (base === 16) {\n        this._parseHex(number, start, endian);\n      } else {\n        this._parseBase(number, base, start);\n        if (endian === 'le') {\n          this._initArray(this.toArray(), base, endian);\n        }\n      }\n    }\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [number & 0x3ffffff];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [0];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this._strip();\n  };\n\n  function parseHex4Bits (string, index) {\n    var c = string.charCodeAt(index);\n    // '0' - '9'\n    if (c >= 48 && c <= 57) {\n      return c - 48;\n    // 'A' - 'F'\n    } else if (c >= 65 && c <= 70) {\n      return c - 55;\n    // 'a' - 'f'\n    } else if (c >= 97 && c <= 102) {\n      return c - 87;\n    } else {\n      assert(false, 'Invalid character in ' + string);\n    }\n  }\n\n  function parseHexByte (string, lowerBound, index) {\n    var r = parseHex4Bits(string, index);\n    if (index - 1 >= lowerBound) {\n      r |= parseHex4Bits(string, index - 1) << 4;\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start, endian) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    // 24-bits chunks\n    var off = 0;\n    var j = 0;\n\n    var w;\n    if (endian === 'be') {\n      for (i = number.length - 1; i >= start; i -= 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    } else {\n      var parseLength = number.length - start;\n      for (i = parseLength % 2 === 0 ? start + 1 : start; i < number.length; i += 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    }\n\n    this._strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var b = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        b = c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        b = c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        b = c;\n      }\n      assert(c >= 0 && b < mul, 'Invalid character');\n      r += b;\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [0];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    this._strip();\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  function move (dest, src) {\n    dest.words = src.words;\n    dest.length = src.length;\n    dest.negative = src.negative;\n    dest.red = src.red;\n  }\n\n  BN.prototype._move = function _move (dest) {\n    move(dest, this);\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype._strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  // Check Symbol.for because not everywhere where Symbol defined\n  // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol#Browser_compatibility\n  if (typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') {\n    try {\n      BN.prototype[Symbol.for('nodejs.util.inspect.custom')] = inspect;\n    } catch (e) {\n      BN.prototype.inspect = inspect;\n    }\n  } else {\n    BN.prototype.inspect = inspect;\n  }\n\n  function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  }\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modrn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16, 2);\n  };\n\n  if (Buffer) {\n    BN.prototype.toBuffer = function toBuffer (endian, length) {\n      return this.toArrayLike(Buffer, endian, length);\n    };\n  }\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  var allocate = function allocate (ArrayType, size) {\n    if (ArrayType.allocUnsafe) {\n      return ArrayType.allocUnsafe(size);\n    }\n    return new ArrayType(size);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    this._strip();\n\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    var res = allocate(ArrayType, reqLength);\n    var postfix = endian === 'le' ? 'LE' : 'BE';\n    this['_toArrayLike' + postfix](res, byteLength);\n    return res;\n  };\n\n  BN.prototype._toArrayLikeLE = function _toArrayLikeLE (res, byteLength) {\n    var position = 0;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position++] = word & 0xff;\n      if (position < res.length) {\n        res[position++] = (word >> 8) & 0xff;\n      }\n      if (position < res.length) {\n        res[position++] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position < res.length) {\n          res[position++] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position < res.length) {\n      res[position++] = carry;\n\n      while (position < res.length) {\n        res[position++] = 0;\n      }\n    }\n  };\n\n  BN.prototype._toArrayLikeBE = function _toArrayLikeBE (res, byteLength) {\n    var position = res.length - 1;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position--] = word & 0xff;\n      if (position >= 0) {\n        res[position--] = (word >> 8) & 0xff;\n      }\n      if (position >= 0) {\n        res[position--] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position >= 0) {\n          res[position--] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position >= 0) {\n      res[position--] = carry;\n\n      while (position >= 0) {\n        res[position--] = 0;\n      }\n    }\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] >>> wbit) & 0x01;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this._strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this._strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this._strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    // Temporary disable, see https://github.com/indutny/bn.js/issues/211\n    // var fftm = new FFTM();\n    // return fftm.mulp(self, num, out);\n    return bigMulTo(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out._strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this._strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) <= num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this._strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this._strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q._strip();\n    }\n    a._strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modrn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modrn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || (r2 === 1 && cmp === 0)) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modrn = function modrn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return isNegNum ? -acc : acc;\n  };\n\n  // WARNING: DEPRECATED\n  BN.prototype.modn = function modn (num) {\n    return this.modrn(num);\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    this._strip();\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this._strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      if (r.strip !== undefined) {\n        // r is a BN v4 instance\n        r.strip();\n      } else {\n        // r is a BN v5 instance\n        r._strip();\n      }\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n\n    move(a, a.umod(this.m)._forceRed(this));\n    return a;\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","'use strict'\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n// @ts-ignore\nvar _Buffer = require('safe-buffer').Buffer\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256)\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i)\n    var xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  var BASE = ALPHABET.length\n  var LEADER = ALPHABET.charAt(0)\n  var FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (Array.isArray(source) || source instanceof Uint8Array) { source = _Buffer.from(source) }\n    if (!_Buffer.isBuffer(source)) { throw new TypeError('Expected Buffer') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0\n    var length = 0\n    var pbegin = 0\n    var pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    var b58 = new Uint8Array(size)\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin]\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return _Buffer.alloc(0) }\n    var psz = 0\n        // Skip leading spaces.\n    if (source[psz] === ' ') { return }\n        // Skip and count leading '1's.\n    var zeroes = 0\n    var length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size)\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)]\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n        // Skip trailing spaces.\n    if (source[psz] === ' ') { return }\n        // Skip leading zeroes in b256.\n    var it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    var vch = _Buffer.allocUnsafe(zeroes + (size - it4))\n    vch.fill(0x00, 0, zeroes)\n    var j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nmodule.exports = base\n","var basex = require('base-x')\nvar ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n\nmodule.exports = basex(ALPHABET)\n","'use strict';\n\n// This is free and unencumbered software released into the public domain.\n// See LICENSE.md for more information.\n\n//\n// Utilities\n//\n\n/**\n * @param {number} a The number to test.\n * @param {number} min The minimum value in the range, inclusive.\n * @param {number} max The maximum value in the range, inclusive.\n * @return {boolean} True if a >= min and a <= max.\n */\nfunction inRange(a, min, max) {\n  return min <= a && a <= max;\n}\n\n/**\n * @param {*} o\n * @return {Object}\n */\nfunction ToDictionary(o) {\n  if (o === undefined) return {};\n  if (o === Object(o)) return o;\n  throw TypeError('Could not convert argument to dictionary');\n}\n\n/**\n * @param {string} string Input string of UTF-16 code units.\n * @return {!Array.<number>} Code points.\n */\nfunction stringToCodePoints(string) {\n  // https://heycam.github.io/webidl/#dfn-obtain-unicode\n\n  // 1. Let S be the DOMString value.\n  var s = String(string);\n\n  // 2. Let n be the length of S.\n  var n = s.length;\n\n  // 3. Initialize i to 0.\n  var i = 0;\n\n  // 4. Initialize U to be an empty sequence of Unicode characters.\n  var u = [];\n\n  // 5. While i < n:\n  while (i < n) {\n\n    // 1. Let c be the code unit in S at index i.\n    var c = s.charCodeAt(i);\n\n    // 2. Depending on the value of c:\n\n    // c < 0xD800 or c > 0xDFFF\n    if (c < 0xD800 || c > 0xDFFF) {\n      // Append to U the Unicode character with code point c.\n      u.push(c);\n    }\n\n    // 0xDC00  c  0xDFFF\n    else if (0xDC00 <= c && c <= 0xDFFF) {\n      // Append to U a U+FFFD REPLACEMENT CHARACTER.\n      u.push(0xFFFD);\n    }\n\n    // 0xD800  c  0xDBFF\n    else if (0xD800 <= c && c <= 0xDBFF) {\n      // 1. If i = n1, then append to U a U+FFFD REPLACEMENT\n      // CHARACTER.\n      if (i === n - 1) {\n        u.push(0xFFFD);\n      }\n      // 2. Otherwise, i < n1:\n      else {\n        // 1. Let d be the code unit in S at index i+1.\n        var d = string.charCodeAt(i + 1);\n\n        // 2. If 0xDC00  d  0xDFFF, then:\n        if (0xDC00 <= d && d <= 0xDFFF) {\n          // 1. Let a be c & 0x3FF.\n          var a = c & 0x3FF;\n\n          // 2. Let b be d & 0x3FF.\n          var b = d & 0x3FF;\n\n          // 3. Append to U the Unicode character with code point\n          // 2^16+2^10*a+b.\n          u.push(0x10000 + (a << 10) + b);\n\n          // 4. Set i to i+1.\n          i += 1;\n        }\n\n        // 3. Otherwise, d < 0xDC00 or d > 0xDFFF. Append to U a\n        // U+FFFD REPLACEMENT CHARACTER.\n        else  {\n          u.push(0xFFFD);\n        }\n      }\n    }\n\n    // 3. Set i to i+1.\n    i += 1;\n  }\n\n  // 6. Return U.\n  return u;\n}\n\n/**\n * @param {!Array.<number>} code_points Array of code points.\n * @return {string} string String of UTF-16 code units.\n */\nfunction codePointsToString(code_points) {\n  var s = '';\n  for (var i = 0; i < code_points.length; ++i) {\n    var cp = code_points[i];\n    if (cp <= 0xFFFF) {\n      s += String.fromCharCode(cp);\n    } else {\n      cp -= 0x10000;\n      s += String.fromCharCode((cp >> 10) + 0xD800,\n                               (cp & 0x3FF) + 0xDC00);\n    }\n  }\n  return s;\n}\n\n\n//\n// Implementation of Encoding specification\n// https://encoding.spec.whatwg.org/\n//\n\n//\n// 3. Terminology\n//\n\n/**\n * End-of-stream is a special token that signifies no more tokens\n * are in the stream.\n * @const\n */ var end_of_stream = -1;\n\n/**\n * A stream represents an ordered sequence of tokens.\n *\n * @constructor\n * @param {!(Array.<number>|Uint8Array)} tokens Array of tokens that provide the\n * stream.\n */\nfunction Stream(tokens) {\n  /** @type {!Array.<number>} */\n  this.tokens = [].slice.call(tokens);\n}\n\nStream.prototype = {\n  /**\n   * @return {boolean} True if end-of-stream has been hit.\n   */\n  endOfStream: function() {\n    return !this.tokens.length;\n  },\n\n  /**\n   * When a token is read from a stream, the first token in the\n   * stream must be returned and subsequently removed, and\n   * end-of-stream must be returned otherwise.\n   *\n   * @return {number} Get the next token from the stream, or\n   * end_of_stream.\n   */\n   read: function() {\n    if (!this.tokens.length)\n      return end_of_stream;\n     return this.tokens.shift();\n   },\n\n  /**\n   * When one or more tokens are prepended to a stream, those tokens\n   * must be inserted, in given order, before the first token in the\n   * stream.\n   *\n   * @param {(number|!Array.<number>)} token The token(s) to prepend to the stream.\n   */\n  prepend: function(token) {\n    if (Array.isArray(token)) {\n      var tokens = /**@type {!Array.<number>}*/(token);\n      while (tokens.length)\n        this.tokens.unshift(tokens.pop());\n    } else {\n      this.tokens.unshift(token);\n    }\n  },\n\n  /**\n   * When one or more tokens are pushed to a stream, those tokens\n   * must be inserted, in given order, after the last token in the\n   * stream.\n   *\n   * @param {(number|!Array.<number>)} token The tokens(s) to prepend to the stream.\n   */\n  push: function(token) {\n    if (Array.isArray(token)) {\n      var tokens = /**@type {!Array.<number>}*/(token);\n      while (tokens.length)\n        this.tokens.push(tokens.shift());\n    } else {\n      this.tokens.push(token);\n    }\n  }\n};\n\n//\n// 4. Encodings\n//\n\n// 4.1 Encoders and decoders\n\n/** @const */\nvar finished = -1;\n\n/**\n * @param {boolean} fatal If true, decoding errors raise an exception.\n * @param {number=} opt_code_point Override the standard fallback code point.\n * @return {number} The code point to insert on a decoding error.\n */\nfunction decoderError(fatal, opt_code_point) {\n  if (fatal)\n    throw TypeError('Decoder error');\n  return opt_code_point || 0xFFFD;\n}\n\n/** @interface */\nfunction Decoder() {}\nDecoder.prototype = {\n  /**\n   * @param {Stream} stream The stream of bytes being decoded.\n   * @param {number} bite The next byte read from the stream.\n   * @return {?(number|!Array.<number>)} The next code point(s)\n   *     decoded, or null if not enough data exists in the input\n   *     stream to decode a complete code point, or |finished|.\n   */\n  handler: function(stream, bite) {}\n};\n\n/** @interface */\nfunction Encoder() {}\nEncoder.prototype = {\n  /**\n   * @param {Stream} stream The stream of code points being encoded.\n   * @param {number} code_point Next code point read from the stream.\n   * @return {(number|!Array.<number>)} Byte(s) to emit, or |finished|.\n   */\n  handler: function(stream, code_point) {}\n};\n\n//\n// 7. API\n//\n\n/** @const */ var DEFAULT_ENCODING = 'utf-8';\n\n// 7.1 Interface TextDecoder\n\n/**\n * @constructor\n * @param {string=} encoding The label of the encoding;\n *     defaults to 'utf-8'.\n * @param {Object=} options\n */\nfunction TextDecoder(encoding, options) {\n  if (!(this instanceof TextDecoder)) {\n    return new TextDecoder(encoding, options);\n  }\n  encoding = encoding !== undefined ? String(encoding).toLowerCase() : DEFAULT_ENCODING;\n  if (encoding !== DEFAULT_ENCODING) {\n    throw new Error('Encoding not supported. Only utf-8 is supported');\n  }\n  options = ToDictionary(options);\n\n  /** @private @type {boolean} */\n  this._streaming = false;\n  /** @private @type {boolean} */\n  this._BOMseen = false;\n  /** @private @type {?Decoder} */\n  this._decoder = null;\n  /** @private @type {boolean} */\n  this._fatal = Boolean(options['fatal']);\n  /** @private @type {boolean} */\n  this._ignoreBOM = Boolean(options['ignoreBOM']);\n\n  Object.defineProperty(this, 'encoding', {value: 'utf-8'});\n  Object.defineProperty(this, 'fatal', {value: this._fatal});\n  Object.defineProperty(this, 'ignoreBOM', {value: this._ignoreBOM});\n}\n\nTextDecoder.prototype = {\n  /**\n   * @param {ArrayBufferView=} input The buffer of bytes to decode.\n   * @param {Object=} options\n   * @return {string} The decoded string.\n   */\n  decode: function decode(input, options) {\n    var bytes;\n    if (typeof input === 'object' && input instanceof ArrayBuffer) {\n      bytes = new Uint8Array(input);\n    } else if (typeof input === 'object' && 'buffer' in input &&\n               input.buffer instanceof ArrayBuffer) {\n      bytes = new Uint8Array(input.buffer,\n                             input.byteOffset,\n                             input.byteLength);\n    } else {\n      bytes = new Uint8Array(0);\n    }\n\n    options = ToDictionary(options);\n\n    if (!this._streaming) {\n      this._decoder = new UTF8Decoder({fatal: this._fatal});\n      this._BOMseen = false;\n    }\n    this._streaming = Boolean(options['stream']);\n\n    var input_stream = new Stream(bytes);\n\n    var code_points = [];\n\n    /** @type {?(number|!Array.<number>)} */\n    var result;\n\n    while (!input_stream.endOfStream()) {\n      result = this._decoder.handler(input_stream, input_stream.read());\n      if (result === finished)\n        break;\n      if (result === null)\n        continue;\n      if (Array.isArray(result))\n        code_points.push.apply(code_points, /**@type {!Array.<number>}*/(result));\n      else\n        code_points.push(result);\n    }\n    if (!this._streaming) {\n      do {\n        result = this._decoder.handler(input_stream, input_stream.read());\n        if (result === finished)\n          break;\n        if (result === null)\n          continue;\n        if (Array.isArray(result))\n          code_points.push.apply(code_points, /**@type {!Array.<number>}*/(result));\n        else\n          code_points.push(result);\n      } while (!input_stream.endOfStream());\n      this._decoder = null;\n    }\n\n    if (code_points.length) {\n      // If encoding is one of utf-8, utf-16be, and utf-16le, and\n      // ignore BOM flag and BOM seen flag are unset, run these\n      // subsubsteps:\n      if (['utf-8'].indexOf(this.encoding) !== -1 &&\n          !this._ignoreBOM && !this._BOMseen) {\n        // If token is U+FEFF, set BOM seen flag.\n        if (code_points[0] === 0xFEFF) {\n          this._BOMseen = true;\n          code_points.shift();\n        } else {\n          // Otherwise, if token is not end-of-stream, set BOM seen\n          // flag and append token to output.\n          this._BOMseen = true;\n        }\n      }\n    }\n\n    return codePointsToString(code_points);\n  }\n};\n\n// 7.2 Interface TextEncoder\n\n/**\n * @constructor\n * @param {string=} encoding The label of the encoding;\n *     defaults to 'utf-8'.\n * @param {Object=} options\n */\nfunction TextEncoder(encoding, options) {\n  if (!(this instanceof TextEncoder))\n    return new TextEncoder(encoding, options);\n  encoding = encoding !== undefined ? String(encoding).toLowerCase() : DEFAULT_ENCODING;\n  if (encoding !== DEFAULT_ENCODING) {\n    throw new Error('Encoding not supported. Only utf-8 is supported');\n  }\n  options = ToDictionary(options);\n\n  /** @private @type {boolean} */\n  this._streaming = false;\n  /** @private @type {?Encoder} */\n  this._encoder = null;\n  /** @private @type {{fatal: boolean}} */\n  this._options = {fatal: Boolean(options['fatal'])};\n\n  Object.defineProperty(this, 'encoding', {value: 'utf-8'});\n}\n\nTextEncoder.prototype = {\n  /**\n   * @param {string=} opt_string The string to encode.\n   * @param {Object=} options\n   * @return {Uint8Array} Encoded bytes, as a Uint8Array.\n   */\n  encode: function encode(opt_string, options) {\n    opt_string = opt_string ? String(opt_string) : '';\n    options = ToDictionary(options);\n\n    // NOTE: This option is nonstandard. None of the encodings\n    // permitted for encoding (i.e. UTF-8, UTF-16) are stateful,\n    // so streaming is not necessary.\n    if (!this._streaming)\n      this._encoder = new UTF8Encoder(this._options);\n    this._streaming = Boolean(options['stream']);\n\n    var bytes = [];\n    var input_stream = new Stream(stringToCodePoints(opt_string));\n    /** @type {?(number|!Array.<number>)} */\n    var result;\n    while (!input_stream.endOfStream()) {\n      result = this._encoder.handler(input_stream, input_stream.read());\n      if (result === finished)\n        break;\n      if (Array.isArray(result))\n        bytes.push.apply(bytes, /**@type {!Array.<number>}*/(result));\n      else\n        bytes.push(result);\n    }\n    if (!this._streaming) {\n      while (true) {\n        result = this._encoder.handler(input_stream, input_stream.read());\n        if (result === finished)\n          break;\n        if (Array.isArray(result))\n          bytes.push.apply(bytes, /**@type {!Array.<number>}*/(result));\n        else\n          bytes.push(result);\n      }\n      this._encoder = null;\n    }\n    return new Uint8Array(bytes);\n  }\n};\n\n//\n// 8. The encoding\n//\n\n// 8.1 utf-8\n\n/**\n * @constructor\n * @implements {Decoder}\n * @param {{fatal: boolean}} options\n */\nfunction UTF8Decoder(options) {\n  var fatal = options.fatal;\n\n  // utf-8's decoder's has an associated utf-8 code point, utf-8\n  // bytes seen, and utf-8 bytes needed (all initially 0), a utf-8\n  // lower boundary (initially 0x80), and a utf-8 upper boundary\n  // (initially 0xBF).\n  var /** @type {number} */ utf8_code_point = 0,\n      /** @type {number} */ utf8_bytes_seen = 0,\n      /** @type {number} */ utf8_bytes_needed = 0,\n      /** @type {number} */ utf8_lower_boundary = 0x80,\n      /** @type {number} */ utf8_upper_boundary = 0xBF;\n\n  /**\n   * @param {Stream} stream The stream of bytes being decoded.\n   * @param {number} bite The next byte read from the stream.\n   * @return {?(number|!Array.<number>)} The next code point(s)\n   *     decoded, or null if not enough data exists in the input\n   *     stream to decode a complete code point.\n   */\n  this.handler = function(stream, bite) {\n    // 1. If byte is end-of-stream and utf-8 bytes needed is not 0,\n    // set utf-8 bytes needed to 0 and return error.\n    if (bite === end_of_stream && utf8_bytes_needed !== 0) {\n      utf8_bytes_needed = 0;\n      return decoderError(fatal);\n    }\n\n    // 2. If byte is end-of-stream, return finished.\n    if (bite === end_of_stream)\n      return finished;\n\n    // 3. If utf-8 bytes needed is 0, based on byte:\n    if (utf8_bytes_needed === 0) {\n\n      // 0x00 to 0x7F\n      if (inRange(bite, 0x00, 0x7F)) {\n        // Return a code point whose value is byte.\n        return bite;\n      }\n\n      // 0xC2 to 0xDF\n      if (inRange(bite, 0xC2, 0xDF)) {\n        // Set utf-8 bytes needed to 1 and utf-8 code point to byte\n        //  0xC0.\n        utf8_bytes_needed = 1;\n        utf8_code_point = bite - 0xC0;\n      }\n\n      // 0xE0 to 0xEF\n      else if (inRange(bite, 0xE0, 0xEF)) {\n        // 1. If byte is 0xE0, set utf-8 lower boundary to 0xA0.\n        if (bite === 0xE0)\n          utf8_lower_boundary = 0xA0;\n        // 2. If byte is 0xED, set utf-8 upper boundary to 0x9F.\n        if (bite === 0xED)\n          utf8_upper_boundary = 0x9F;\n        // 3. Set utf-8 bytes needed to 2 and utf-8 code point to\n        // byte  0xE0.\n        utf8_bytes_needed = 2;\n        utf8_code_point = bite - 0xE0;\n      }\n\n      // 0xF0 to 0xF4\n      else if (inRange(bite, 0xF0, 0xF4)) {\n        // 1. If byte is 0xF0, set utf-8 lower boundary to 0x90.\n        if (bite === 0xF0)\n          utf8_lower_boundary = 0x90;\n        // 2. If byte is 0xF4, set utf-8 upper boundary to 0x8F.\n        if (bite === 0xF4)\n          utf8_upper_boundary = 0x8F;\n        // 3. Set utf-8 bytes needed to 3 and utf-8 code point to\n        // byte  0xF0.\n        utf8_bytes_needed = 3;\n        utf8_code_point = bite - 0xF0;\n      }\n\n      // Otherwise\n      else {\n        // Return error.\n        return decoderError(fatal);\n      }\n\n      // Then (byte is in the range 0xC2 to 0xF4) set utf-8 code\n      // point to utf-8 code point << (6  utf-8 bytes needed) and\n      // return continue.\n      utf8_code_point = utf8_code_point << (6 * utf8_bytes_needed);\n      return null;\n    }\n\n    // 4. If byte is not in the range utf-8 lower boundary to utf-8\n    // upper boundary, run these substeps:\n    if (!inRange(bite, utf8_lower_boundary, utf8_upper_boundary)) {\n\n      // 1. Set utf-8 code point, utf-8 bytes needed, and utf-8\n      // bytes seen to 0, set utf-8 lower boundary to 0x80, and set\n      // utf-8 upper boundary to 0xBF.\n      utf8_code_point = utf8_bytes_needed = utf8_bytes_seen = 0;\n      utf8_lower_boundary = 0x80;\n      utf8_upper_boundary = 0xBF;\n\n      // 2. Prepend byte to stream.\n      stream.prepend(bite);\n\n      // 3. Return error.\n      return decoderError(fatal);\n    }\n\n    // 5. Set utf-8 lower boundary to 0x80 and utf-8 upper boundary\n    // to 0xBF.\n    utf8_lower_boundary = 0x80;\n    utf8_upper_boundary = 0xBF;\n\n    // 6. Increase utf-8 bytes seen by one and set utf-8 code point\n    // to utf-8 code point + (byte  0x80) << (6  (utf-8 bytes\n    // needed  utf-8 bytes seen)).\n    utf8_bytes_seen += 1;\n    utf8_code_point += (bite - 0x80) << (6 * (utf8_bytes_needed - utf8_bytes_seen));\n\n    // 7. If utf-8 bytes seen is not equal to utf-8 bytes needed,\n    // continue.\n    if (utf8_bytes_seen !== utf8_bytes_needed)\n      return null;\n\n    // 8. Let code point be utf-8 code point.\n    var code_point = utf8_code_point;\n\n    // 9. Set utf-8 code point, utf-8 bytes needed, and utf-8 bytes\n    // seen to 0.\n    utf8_code_point = utf8_bytes_needed = utf8_bytes_seen = 0;\n\n    // 10. Return a code point whose value is code point.\n    return code_point;\n  };\n}\n\n/**\n * @constructor\n * @implements {Encoder}\n * @param {{fatal: boolean}} options\n */\nfunction UTF8Encoder(options) {\n  var fatal = options.fatal;\n  /**\n   * @param {Stream} stream Input stream.\n   * @param {number} code_point Next code point read from the stream.\n   * @return {(number|!Array.<number>)} Byte(s) to emit.\n   */\n  this.handler = function(stream, code_point) {\n    // 1. If code point is end-of-stream, return finished.\n    if (code_point === end_of_stream)\n      return finished;\n\n    // 2. If code point is in the range U+0000 to U+007F, return a\n    // byte whose value is code point.\n    if (inRange(code_point, 0x0000, 0x007f))\n      return code_point;\n\n    // 3. Set count and offset based on the range code point is in:\n    var count, offset;\n    // U+0080 to U+07FF:    1 and 0xC0\n    if (inRange(code_point, 0x0080, 0x07FF)) {\n      count = 1;\n      offset = 0xC0;\n    }\n    // U+0800 to U+FFFF:    2 and 0xE0\n    else if (inRange(code_point, 0x0800, 0xFFFF)) {\n      count = 2;\n      offset = 0xE0;\n    }\n    // U+10000 to U+10FFFF: 3 and 0xF0\n    else if (inRange(code_point, 0x10000, 0x10FFFF)) {\n      count = 3;\n      offset = 0xF0;\n    }\n\n    // 4.Let bytes be a byte sequence whose first byte is (code\n    // point >> (6  count)) + offset.\n    var bytes = [(code_point >> (6 * count)) + offset];\n\n    // 5. Run these substeps while count is greater than 0:\n    while (count > 0) {\n\n      // 1. Set temp to code point >> (6  (count  1)).\n      var temp = code_point >> (6 * (count - 1));\n\n      // 2. Append to bytes 0x80 | (temp & 0x3F).\n      bytes.push(0x80 | (temp & 0x3F));\n\n      // 3. Decrease count by one.\n      count -= 1;\n    }\n\n    // 6. Return bytes bytes, in order.\n    return bytes;\n  };\n}\n\nexport {TextEncoder, TextDecoder};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deserializeUnchecked = exports.deserialize = exports.serialize = exports.BinaryReader = exports.BinaryWriter = exports.BorshError = exports.baseDecode = exports.baseEncode = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst bs58_1 = __importDefault(require(\"bs58\"));\n// TODO: Make sure this polyfill not included when not required\nconst encoding = __importStar(require(\"text-encoding-utf-8\"));\nconst TextDecoder = (typeof global.TextDecoder !== 'function') ? encoding.TextDecoder : global.TextDecoder;\nconst textDecoder = new TextDecoder('utf-8', { fatal: true });\nfunction baseEncode(value) {\n    if (typeof (value) === 'string') {\n        value = Buffer.from(value, 'utf8');\n    }\n    return bs58_1.default.encode(Buffer.from(value));\n}\nexports.baseEncode = baseEncode;\nfunction baseDecode(value) {\n    return Buffer.from(bs58_1.default.decode(value));\n}\nexports.baseDecode = baseDecode;\nconst INITIAL_LENGTH = 1024;\nclass BorshError extends Error {\n    constructor(message) {\n        super(message);\n        this.fieldPath = [];\n        this.originalMessage = message;\n    }\n    addToFieldPath(fieldName) {\n        this.fieldPath.splice(0, 0, fieldName);\n        // NOTE: Modifying message directly as jest doesn't use .toString()\n        this.message = this.originalMessage + ': ' + this.fieldPath.join('.');\n    }\n}\nexports.BorshError = BorshError;\n/// Binary encoder.\nclass BinaryWriter {\n    constructor() {\n        this.buf = Buffer.alloc(INITIAL_LENGTH);\n        this.length = 0;\n    }\n    maybeResize() {\n        if (this.buf.length < 16 + this.length) {\n            this.buf = Buffer.concat([this.buf, Buffer.alloc(INITIAL_LENGTH)]);\n        }\n    }\n    writeU8(value) {\n        this.maybeResize();\n        this.buf.writeUInt8(value, this.length);\n        this.length += 1;\n    }\n    writeU16(value) {\n        this.maybeResize();\n        this.buf.writeUInt16LE(value, this.length);\n        this.length += 2;\n    }\n    writeU32(value) {\n        this.maybeResize();\n        this.buf.writeUInt32LE(value, this.length);\n        this.length += 4;\n    }\n    writeU64(value) {\n        this.maybeResize();\n        this.writeBuffer(Buffer.from(new bn_js_1.default(value).toArray('le', 8)));\n    }\n    writeU128(value) {\n        this.maybeResize();\n        this.writeBuffer(Buffer.from(new bn_js_1.default(value).toArray('le', 16)));\n    }\n    writeU256(value) {\n        this.maybeResize();\n        this.writeBuffer(Buffer.from(new bn_js_1.default(value).toArray('le', 32)));\n    }\n    writeU512(value) {\n        this.maybeResize();\n        this.writeBuffer(Buffer.from(new bn_js_1.default(value).toArray('le', 64)));\n    }\n    writeBuffer(buffer) {\n        // Buffer.from is needed as this.buf.subarray can return plain Uint8Array in browser\n        this.buf = Buffer.concat([Buffer.from(this.buf.subarray(0, this.length)), buffer, Buffer.alloc(INITIAL_LENGTH)]);\n        this.length += buffer.length;\n    }\n    writeString(str) {\n        this.maybeResize();\n        const b = Buffer.from(str, 'utf8');\n        this.writeU32(b.length);\n        this.writeBuffer(b);\n    }\n    writeFixedArray(array) {\n        this.writeBuffer(Buffer.from(array));\n    }\n    writeArray(array, fn) {\n        this.maybeResize();\n        this.writeU32(array.length);\n        for (const elem of array) {\n            this.maybeResize();\n            fn(elem);\n        }\n    }\n    toArray() {\n        return this.buf.subarray(0, this.length);\n    }\n}\nexports.BinaryWriter = BinaryWriter;\nfunction handlingRangeError(target, propertyKey, propertyDescriptor) {\n    const originalMethod = propertyDescriptor.value;\n    propertyDescriptor.value = function (...args) {\n        try {\n            return originalMethod.apply(this, args);\n        }\n        catch (e) {\n            if (e instanceof RangeError) {\n                const code = e.code;\n                if (['ERR_BUFFER_OUT_OF_BOUNDS', 'ERR_OUT_OF_RANGE'].indexOf(code) >= 0) {\n                    throw new BorshError('Reached the end of buffer when deserializing');\n                }\n            }\n            throw e;\n        }\n    };\n}\nclass BinaryReader {\n    constructor(buf) {\n        this.buf = buf;\n        this.offset = 0;\n    }\n    readU8() {\n        const value = this.buf.readUInt8(this.offset);\n        this.offset += 1;\n        return value;\n    }\n    readU16() {\n        const value = this.buf.readUInt16LE(this.offset);\n        this.offset += 2;\n        return value;\n    }\n    readU32() {\n        const value = this.buf.readUInt32LE(this.offset);\n        this.offset += 4;\n        return value;\n    }\n    readU64() {\n        const buf = this.readBuffer(8);\n        return new bn_js_1.default(buf, 'le');\n    }\n    readU128() {\n        const buf = this.readBuffer(16);\n        return new bn_js_1.default(buf, 'le');\n    }\n    readU256() {\n        const buf = this.readBuffer(32);\n        return new bn_js_1.default(buf, 'le');\n    }\n    readU512() {\n        const buf = this.readBuffer(64);\n        return new bn_js_1.default(buf, 'le');\n    }\n    readBuffer(len) {\n        if ((this.offset + len) > this.buf.length) {\n            throw new BorshError(`Expected buffer length ${len} isn't within bounds`);\n        }\n        const result = this.buf.slice(this.offset, this.offset + len);\n        this.offset += len;\n        return result;\n    }\n    readString() {\n        const len = this.readU32();\n        const buf = this.readBuffer(len);\n        try {\n            // NOTE: Using TextDecoder to fail on invalid UTF-8\n            return textDecoder.decode(buf);\n        }\n        catch (e) {\n            throw new BorshError(`Error decoding UTF-8 string: ${e}`);\n        }\n    }\n    readFixedArray(len) {\n        return new Uint8Array(this.readBuffer(len));\n    }\n    readArray(fn) {\n        const len = this.readU32();\n        const result = Array();\n        for (let i = 0; i < len; ++i) {\n            result.push(fn());\n        }\n        return result;\n    }\n}\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU8\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU16\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU32\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU64\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU128\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU256\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU512\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readString\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readFixedArray\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readArray\", null);\nexports.BinaryReader = BinaryReader;\nfunction capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\nfunction serializeField(schema, fieldName, value, fieldType, writer) {\n    try {\n        // TODO: Handle missing values properly (make sure they never result in just skipped write)\n        if (typeof fieldType === 'string') {\n            writer[`write${capitalizeFirstLetter(fieldType)}`](value);\n        }\n        else if (fieldType instanceof Array) {\n            if (typeof fieldType[0] === 'number') {\n                if (value.length !== fieldType[0]) {\n                    throw new BorshError(`Expecting byte array of length ${fieldType[0]}, but got ${value.length} bytes`);\n                }\n                writer.writeFixedArray(value);\n            }\n            else {\n                writer.writeArray(value, (item) => { serializeField(schema, fieldName, item, fieldType[0], writer); });\n            }\n        }\n        else if (fieldType.kind !== undefined) {\n            switch (fieldType.kind) {\n                case 'option': {\n                    if (value === null || value === undefined) {\n                        writer.writeU8(0);\n                    }\n                    else {\n                        writer.writeU8(1);\n                        serializeField(schema, fieldName, value, fieldType.type, writer);\n                    }\n                    break;\n                }\n                default: throw new BorshError(`FieldType ${fieldType} unrecognized`);\n            }\n        }\n        else {\n            serializeStruct(schema, value, writer);\n        }\n    }\n    catch (error) {\n        if (error instanceof BorshError) {\n            error.addToFieldPath(fieldName);\n        }\n        throw error;\n    }\n}\nfunction serializeStruct(schema, obj, writer) {\n    const structSchema = schema.get(obj.constructor);\n    if (!structSchema) {\n        throw new BorshError(`Class ${obj.constructor.name} is missing in schema`);\n    }\n    if (structSchema.kind === 'struct') {\n        structSchema.fields.map(([fieldName, fieldType]) => {\n            serializeField(schema, fieldName, obj[fieldName], fieldType, writer);\n        });\n    }\n    else if (structSchema.kind === 'enum') {\n        const name = obj[structSchema.field];\n        for (let idx = 0; idx < structSchema.values.length; ++idx) {\n            const [fieldName, fieldType] = structSchema.values[idx];\n            if (fieldName === name) {\n                writer.writeU8(idx);\n                serializeField(schema, fieldName, obj[fieldName], fieldType, writer);\n                break;\n            }\n        }\n    }\n    else {\n        throw new BorshError(`Unexpected schema kind: ${structSchema.kind} for ${obj.constructor.name}`);\n    }\n}\n/// Serialize given object using schema of the form:\n/// { class_name -> [ [field_name, field_type], .. ], .. }\nfunction serialize(schema, obj) {\n    const writer = new BinaryWriter();\n    serializeStruct(schema, obj, writer);\n    return writer.toArray();\n}\nexports.serialize = serialize;\nfunction deserializeField(schema, fieldName, fieldType, reader) {\n    try {\n        if (typeof fieldType === 'string') {\n            return reader[`read${capitalizeFirstLetter(fieldType)}`]();\n        }\n        if (fieldType instanceof Array) {\n            if (typeof fieldType[0] === 'number') {\n                return reader.readFixedArray(fieldType[0]);\n            }\n            return reader.readArray(() => deserializeField(schema, fieldName, fieldType[0], reader));\n        }\n        if (fieldType.kind === 'option') {\n            const option = reader.readU8();\n            if (option) {\n                return deserializeField(schema, fieldName, fieldType.type, reader);\n            }\n            return undefined;\n        }\n        return deserializeStruct(schema, fieldType, reader);\n    }\n    catch (error) {\n        if (error instanceof BorshError) {\n            error.addToFieldPath(fieldName);\n        }\n        throw error;\n    }\n}\nfunction deserializeStruct(schema, classType, reader) {\n    const structSchema = schema.get(classType);\n    if (!structSchema) {\n        throw new BorshError(`Class ${classType.name} is missing in schema`);\n    }\n    if (structSchema.kind === 'struct') {\n        const result = {};\n        for (const [fieldName, fieldType] of schema.get(classType).fields) {\n            result[fieldName] = deserializeField(schema, fieldName, fieldType, reader);\n        }\n        return new classType(result);\n    }\n    if (structSchema.kind === 'enum') {\n        const idx = reader.readU8();\n        if (idx >= structSchema.values.length) {\n            throw new BorshError(`Enum index: ${idx} is out of range`);\n        }\n        const [fieldName, fieldType] = structSchema.values[idx];\n        const fieldValue = deserializeField(schema, fieldName, fieldType, reader);\n        return new classType({ [fieldName]: fieldValue });\n    }\n    throw new BorshError(`Unexpected schema kind: ${structSchema.kind} for ${classType.constructor.name}`);\n}\n/// Deserializes object from bytes using schema.\nfunction deserialize(schema, classType, buffer) {\n    const reader = new BinaryReader(buffer);\n    const result = deserializeStruct(schema, classType, reader);\n    if (reader.offset < buffer.length) {\n        throw new BorshError(`Unexpected ${buffer.length - reader.offset} bytes after deserialized data`);\n    }\n    return result;\n}\nexports.deserialize = deserialize;\n/// Deserializes object from bytes using schema, without checking the length read\nfunction deserializeUnchecked(schema, classType, buffer) {\n    const reader = new BinaryReader(buffer);\n    return deserializeStruct(schema, classType, reader);\n}\nexports.deserializeUnchecked = deserializeUnchecked;\n","import { PublicKey } from '@solana/web3.js';\nimport { deserializeUnchecked, serialize, deserialize, BinaryReader, BinaryWriter } from 'borsh';\nimport base58 from 'bs58';\n\nexport const extendBorsh = () => {\n  (BinaryReader.prototype as any).readPubkey = function () {\n    const reader = this as unknown as BinaryReader;\n    const array = reader.readFixedArray(32);\n    return new PublicKey(array);\n  };\n  (BinaryWriter.prototype as any).writePubkey = function (value: PublicKey) {\n    const writer = this as unknown as BinaryWriter;\n    writer.writeFixedArray(value.toBuffer());\n  };\n  (BinaryReader.prototype as any).readPubkeyAsString = function () {\n    const reader = this as unknown as BinaryReader;\n    const array = reader.readFixedArray(32);\n    return base58.encode(array); // pubkey string\n  };\n  (BinaryWriter.prototype as any).writePubkeyAsString = function (\n    value: string, // pubkey string\n  ) {\n    const writer = this as unknown as BinaryWriter;\n    writer.writeFixedArray(base58.decode(value));\n  };\n};\n\nextendBorsh();\n\ntype DataConstructor<T, A> = {\n  readonly SCHEMA;\n  new (args: A): T;\n};\n\nexport class Data<T = {}> {\n  constructor(args: T = {} as T) {\n    Object.assign(this, args);\n  }\n\n  static struct<T, A>(this: DataConstructor<T, A>, fields: any) {\n    return struct(this, fields);\n  }\n\n  static serialize<T, A>(this: DataConstructor<T, A>, args: A = {} as A) {\n    return Buffer.from(serialize(this.SCHEMA, new this(args)));\n  }\n\n  static deserialize<T, A>(this: DataConstructor<T, A>, data: Buffer) {\n    return deserializeUnchecked(this.SCHEMA, this, data);\n  }\n}\n\nexport const struct = <T>(type: any, fields: any) => {\n  return new Map<any, any>([[type, { kind: 'struct', fields }]]);\n};\n\nexport { deserialize, deserializeUnchecked, serialize };\n","/* eslint-env browser */\n/* global globalThis:readonly */\n'use strict';\n\n// Ponyfill for `globalThis`\nconst _globalThis = (() => {\n\tif (typeof globalThis !== 'undefined') {\n\t\treturn globalThis;\n\t}\n\n\tif (typeof self !== 'undefined') {\n\t\treturn self;\n\t}\n\n\t/* istanbul ignore next */\n\tif (typeof window !== 'undefined') {\n\t\treturn window;\n\t}\n\n\t/* istanbul ignore next */\n\tif (typeof global !== 'undefined') {\n\t\treturn global;\n\t}\n})();\n\nconst bufferToHex = buffer => {\n\tconst view = new DataView(buffer);\n\n\tlet hexCodes = '';\n\tfor (let i = 0; i < view.byteLength; i += 4) {\n\t\thexCodes += view.getUint32(i).toString(16).padStart(8, '0');\n\t}\n\n\treturn hexCodes;\n};\n\nconst create = algorithm => async (buffer, options) => {\n\tif (typeof buffer === 'string') {\n\t\tbuffer = new _globalThis.TextEncoder().encode(buffer);\n\t}\n\n\toptions = {\n\t\toutputFormat: 'hex',\n\t\t...options\n\t};\n\n\tconst hash = await _globalThis.crypto.subtle.digest(algorithm, buffer);\n\n\treturn options.outputFormat === 'hex' ? bufferToHex(hash) : hash;\n};\n\nexports.sha1 = create('SHA-1');\nexports.sha256 = create('SHA-256');\nexports.sha384 = create('SHA-384');\nexports.sha512 = create('SHA-512');\n","import { sha256 } from 'crypto-hash';\nimport { Buffer } from 'buffer';\n\nexport const getFileHash = async (file: Buffer) => Buffer.from(await sha256(file.toString()));\n","import axios, { AxiosResponse } from 'axios';\nimport { MetadataJson } from './../types';\n\nexport const lookup = async (url: string): Promise<MetadataJson> => {\n  try {\n    const { data } = await axios.get<any, AxiosResponse<MetadataJson>>(url);\n\n    return data;\n  } catch {\n    throw new Error(`unable to get metadata json from url ${url}`);\n  }\n};\n","import BN from 'bn.js';\n\nexport enum TupleNumericType {\n  U8 = 1,\n  U16 = 2,\n  U32 = 4,\n  U64 = 8,\n}\n\nexport const getBNFromData = (data: Uint8Array, offset: number, dataType: TupleNumericType): BN => {\n  switch (dataType) {\n    case TupleNumericType.U8:\n      return new BN(data[offset], 'le');\n    case TupleNumericType.U16:\n      return new BN(data.slice(offset, offset + 2), 'le');\n    case TupleNumericType.U32:\n      return new BN(data.slice(offset, offset + 4), 'le');\n    case TupleNumericType.U64:\n      return new BN(data.slice(offset, offset + 8), 'le');\n  }\n};\n","export enum ErrorCode {\n  ERROR_INVALID_OWNER,\n  ERROR_INVALID_ACCOUNT_DATA,\n  ERROR_DEPRECATED_ACCOUNT_DATA,\n}\n\nexport class MetaplexError extends Error {\n  errorCode: ErrorCode;\n\n  constructor(errorCode: ErrorCode, message: string) {\n    super(message);\n    this.errorCode = errorCode;\n  }\n}\n\nexport const ERROR_INVALID_OWNER: () => MetaplexError = () => {\n  return new MetaplexError(ErrorCode.ERROR_INVALID_OWNER, 'Invalid owner');\n};\n\nexport const ERROR_INVALID_ACCOUNT_DATA: () => MetaplexError = () => {\n  return new MetaplexError(ErrorCode.ERROR_INVALID_ACCOUNT_DATA, 'Invalid data');\n};\n\nexport const ERROR_DEPRECATED_ACCOUNT_DATA: () => MetaplexError = () => {\n  return new MetaplexError(ErrorCode.ERROR_DEPRECATED_ACCOUNT_DATA, 'Account data is deprecated');\n};\n","import { Transaction as SolanaTransaction, TransactionCtorFields } from '@solana/web3.js';\n\nexport class Transaction extends SolanaTransaction {\n  constructor(options?: TransactionCtorFields) {\n    super(options);\n  }\n\n  static fromCombined(transactions: Transaction[], options: TransactionCtorFields = {}) {\n    const combinedTransaction = new Transaction(options);\n    transactions.forEach((transaction) =>\n      transaction.instructions.forEach((instruction) => {\n        combinedTransaction.add(instruction);\n      }),\n    );\n    return combinedTransaction;\n  }\n}\n","import { Keypair, SendOptions } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { Transaction } from '../Transaction';\n\ninterface ISendTransactionParams {\n  connection: Connection;\n  wallet: Wallet;\n  txs: Transaction[];\n  signers?: Keypair[];\n  options?: SendOptions;\n}\n\nexport const sendTransaction = async ({\n  connection,\n  wallet,\n  txs,\n  signers = [],\n  options,\n}: ISendTransactionParams): Promise<string> => {\n  let tx = Transaction.fromCombined(txs, { feePayer: wallet.publicKey });\n  tx.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;\n\n  if (signers.length) {\n    tx.partialSign(...signers);\n  }\n  tx = await wallet.signTransaction(tx);\n\n  return connection.sendRawTransaction(tx.serialize(), options);\n};\n","import {\n  PublicKey,\n  Connection,\n  GetProgramAccountsConfig,\n  Commitment,\n  AccountInfo,\n} from '@solana/web3.js';\nimport { Account } from './Account';\nimport { Buffer } from 'buffer';\n\nexport abstract class Program {\n  static readonly PUBKEY: PublicKey;\n\n  static async findProgramAddress(seeds: (Buffer | Uint8Array)[]) {\n    return (await PublicKey.findProgramAddress(seeds, this.PUBKEY))[0];\n  }\n\n  static async getProgramAccounts(\n    connection: Connection,\n    configOrCommitment?: GetProgramAccountsConfig | Commitment,\n  ) {\n    const extra: Pick<GetProgramAccountsConfig, 'dataSlice' | 'filters'> = {};\n    let commitment;\n    if (configOrCommitment) {\n      if (typeof configOrCommitment === 'string') {\n        commitment = configOrCommitment;\n      } else {\n        commitment = configOrCommitment.commitment;\n        if (configOrCommitment.dataSlice) {\n          extra.dataSlice = configOrCommitment.dataSlice;\n        }\n        if (configOrCommitment.filters) {\n          extra.filters = configOrCommitment.filters;\n        }\n      }\n    }\n    const args = connection._buildArgs([this.PUBKEY.toBase58()], commitment, 'base64', extra);\n    const unsafeRes = await (connection as any)._rpcRequest('getProgramAccounts', args);\n\n    return (\n      unsafeRes.result as Array<{\n        account: AccountInfo<[string, string]>;\n        pubkey: string;\n      }>\n    )\n      .map(({ account: { data, executable, lamports, owner }, pubkey }) => ({\n        account: {\n          data: Buffer.from(data[0], 'base64'),\n          executable,\n          lamports,\n          owner: new PublicKey(owner),\n        } as AccountInfo<Buffer>,\n        pubkey: new PublicKey(pubkey),\n      }))\n      .map(({ pubkey, account }) => new Account(pubkey, account));\n  }\n}\n","// TODO: need to be able to overwrite dynamically\nexport const config = {\n  arweaveWallet: 'HvwC9QSAzvGXhhVrgPmauVwFWcYZhne3hVot9EbHuFTm',\n  programs: {\n    // Metaplex\n    auction: 'auctxRXPeJoc4817jDhf4HbjnhEcr1cCXenosMhK5R8',\n    metadata: 'metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s',\n    metaplex: 'p1exdMJcjVao65QdewkaZRUnU6VPSXhus9n2GzWfh98',\n    vault: 'vau1zxA2LbssAUEF7Gpw91zMM1LvXrvpzJtmZ58rPsn',\n    packs: 'BNRmGgciUJuyznkYHnmitA9an1BcDDiU9JmjEQwvBYVR',\n    // External\n    memo: 'MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr',\n    token: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n  },\n  maxCreatorLimit: 5,\n};\n","import { PublicKey } from '@solana/web3.js';\nimport { Program } from '../../Program';\nimport { config } from '../../config';\n\nexport enum MetaplexKey {\n  Uninitialized = 0,\n  OriginalAuthorityLookupV1 = 1,\n  BidRedemptionTicketV1 = 2,\n  StoreV1 = 3,\n  WhitelistedCreatorV1 = 4,\n  PayoutTicketV1 = 5,\n  SafetyDepositValidationTicketV1 = 6,\n  AuctionManagerV1 = 7,\n  PrizeTrackingTicketV1 = 8,\n  SafetyDepositConfigV1 = 9,\n  AuctionManagerV2 = 10,\n  BidRedemptionTicketV2 = 11,\n  AuctionWinnerTokenTypeTrackerV1 = 12,\n}\n\nexport class MetaplexProgram extends Program {\n  static readonly PREFIX = 'metaplex';\n  static readonly TOTALS = 'totals';\n  static readonly PUBKEY = new PublicKey(config.programs.metaplex);\n}\n","import { AccountInfo } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport bs58 from 'bs58';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Account } from '../../../Account';\nimport { MetaplexKey, MetaplexProgram } from '../MetaplexProgram';\nimport {\n  ERROR_DEPRECATED_ACCOUNT_DATA,\n  ERROR_INVALID_ACCOUNT_DATA,\n  ERROR_INVALID_OWNER,\n} from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\nexport interface BidRedemptionTicketV2Data {\n  key: MetaplexKey;\n  winnerIndex?: BN;\n  auctionManager: StringPublicKey;\n  data: number[];\n}\n\nexport const WINNER_INDEX_OFFSETS = [2, 10];\n\nexport class BidRedemptionTicket extends Account<BidRedemptionTicketV2Data> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (BidRedemptionTicket.isBidRedemptionTicketV1(this.info.data)) {\n      throw ERROR_DEPRECATED_ACCOUNT_DATA();\n    } else if (BidRedemptionTicket.isBidRedemptionTicketV2(this.info.data)) {\n      const data = this.info.data.toJSON().data;\n\n      const winnerIndex = data[1] !== 0 && new BN(data.slice(1, 9), 'le');\n      const offset = WINNER_INDEX_OFFSETS[+!!winnerIndex];\n\n      this.data = {\n        key: MetaplexKey.BidRedemptionTicketV2,\n        winnerIndex,\n        data,\n        auctionManager: bs58.encode(data.slice(offset, offset + 32)),\n      };\n    } else {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n  }\n\n  static isCompatible(data: Buffer) {\n    return (\n      BidRedemptionTicket.isBidRedemptionTicketV1(data) ||\n      BidRedemptionTicket.isBidRedemptionTicketV2(data)\n    );\n  }\n\n  static isBidRedemptionTicketV1(data: Buffer) {\n    return data[0] === MetaplexKey.BidRedemptionTicketV1;\n  }\n\n  static isBidRedemptionTicketV2(data: Buffer) {\n    return data[0] === MetaplexKey.BidRedemptionTicketV2;\n  }\n}\n","import { PublicKey } from '@solana/web3.js';\nimport { config } from '../../config';\nimport { Program } from '../../Program';\n\nexport class AuctionProgram extends Program {\n  static readonly PREFIX = 'auction';\n  static readonly EXTENDED = 'extended';\n  static readonly PUBKEY = new PublicKey(config.programs.auction);\n}\n","import { ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Buffer } from 'buffer';\nimport { Account } from '../../../Account';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { BidderMetadata } from './BidderMetadata';\nimport { BidderPot } from './BidderPot';\n\nexport enum AuctionState {\n  Created = 0,\n  Started,\n  Ended,\n}\n\nexport enum BidStateType {\n  EnglishAuction = 0,\n  OpenEdition = 1,\n}\n\nexport enum PriceFloorType {\n  None = 0,\n  Minimum = 1,\n  BlindedPrice = 2,\n}\n\ntype BidArgs = { key: StringPublicKey; amount: BN };\nexport class Bid extends Borsh.Data<BidArgs> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'pubkeyAsString'],\n    ['amount', 'u64'],\n  ]);\n\n  key: StringPublicKey;\n  amount: BN;\n}\n\ntype BidStateArgs = { type: BidStateType; bids: Bid[]; max: BN };\nexport class BidState extends Borsh.Data<BidStateArgs> {\n  static readonly SCHEMA = new Map([\n    ...Bid.SCHEMA,\n    ...this.struct([\n      ['type', 'u8'],\n      ['bids', [Bid]],\n      ['max', 'u64'],\n    ]),\n  ]);\n\n  type: BidStateType;\n  bids: Bid[];\n  max: BN;\n\n  getWinnerAt(winnerIndex: number): StringPublicKey | null {\n    const convertedIndex = this.bids.length - winnerIndex - 1;\n\n    if (convertedIndex >= 0 && convertedIndex < this.bids.length) {\n      return this.bids[convertedIndex].key;\n    } else {\n      return null;\n    }\n  }\n\n  getAmountAt(winnerIndex: number): BN | null {\n    const convertedIndex = this.bids.length - winnerIndex - 1;\n\n    if (convertedIndex >= 0 && convertedIndex < this.bids.length) {\n      return this.bids[convertedIndex].amount;\n    } else {\n      return null;\n    }\n  }\n\n  getWinnerIndex(bidder: StringPublicKey): number | null {\n    if (!this.bids) return null;\n\n    const index = this.bids.findIndex((b) => b.key === bidder);\n    // auction stores data in reverse order\n    if (index !== -1) {\n      const zeroBased = this.bids.length - index - 1;\n      return zeroBased < this.max.toNumber() ? zeroBased : null;\n    } else return null;\n  }\n}\n\ntype PriceFloorArgs = { type: PriceFloorType; hash?: Uint8Array; minPrice?: BN };\nexport class PriceFloor extends Borsh.Data {\n  static readonly SCHEMA = this.struct([\n    ['type', 'u8'],\n    ['hash', [32]],\n  ]);\n\n  type: PriceFloorType;\n  // It's an array of 32 u8s, when minimum, only first 8 are used (a u64), when blinded price, the entire\n  // thing is a hash and not actually a public key, and none is all zeroes\n  hash: Uint8Array;\n  minPrice?: BN;\n\n  constructor(args: PriceFloorArgs) {\n    super();\n    this.type = args.type;\n    this.hash = args.hash || new Uint8Array(32);\n    if (this.type === PriceFloorType.Minimum) {\n      if (args.minPrice) {\n        this.hash.set(args.minPrice.toArrayLike(Buffer, 'le', 8), 0);\n      } else {\n        this.minPrice = new BN((args.hash || new Uint8Array(0)).slice(0, 8), 'le');\n      }\n    }\n  }\n}\n\ntype Args = {\n  authority: StringPublicKey;\n  tokenMint: StringPublicKey;\n  lastBid: BN | null;\n  endedAt: BN | null;\n  endAuctionAt: BN | null;\n  auctionGap: BN | null;\n  priceFloor: PriceFloor;\n  state: AuctionState;\n  bidState: BidState;\n  totalUncancelledBids: BN;\n};\nexport class AuctionData extends Borsh.Data<Args> {\n  static readonly SCHEMA = new Map([\n    ...BidState.SCHEMA,\n    ...PriceFloor.SCHEMA,\n    ...this.struct([\n      ['authority', 'pubkeyAsString'],\n      ['tokenMint', 'pubkeyAsString'],\n      ['lastBid', { kind: 'option', type: 'u64' }],\n      ['endedAt', { kind: 'option', type: 'u64' }],\n      ['endAuctionAt', { kind: 'option', type: 'u64' }],\n      ['auctionGap', { kind: 'option', type: 'u64' }],\n      ['priceFloor', PriceFloor],\n      ['state', 'u8'],\n      ['bidState', BidState],\n    ]),\n  ]);\n\n  /// Pubkey of the authority with permission to modify this auction.\n  authority: StringPublicKey;\n  /// Token mint for the SPL token being used to bid\n  tokenMint: StringPublicKey;\n  /// The time the last bid was placed, used to keep track of auction timing.\n  lastBid: BN | null;\n  /// Slot time the auction was officially ended by.\n  endedAt: BN | null;\n  /// End time is the cut-off point that the auction is forced to end by.\n  endAuctionAt: BN | null;\n  /// Gap time is the amount of time in slots after the previous bid at which the auction ends.\n  auctionGap: BN | null;\n  /// Minimum price for any bid to meet.\n  priceFloor: PriceFloor;\n  /// The state the auction is in, whether it has started or ended.\n  state: AuctionState;\n  /// Auction Bids, each user may have one bid open at a time.\n  bidState: BidState;\n  /// Used for precalculation on the front end, not a backend key\n  bidRedemptionKey?: StringPublicKey;\n}\n\nexport class Auction extends Account<AuctionData> {\n  static readonly EXTENDED_DATA_SIZE = 8 + 9 + 2 + 200;\n\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(AuctionProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    this.data = AuctionData.deserialize(this.info.data);\n  }\n\n  static getPDA(vault: AnyPublicKey) {\n    return AuctionProgram.findProgramAddress([\n      Buffer.from(AuctionProgram.PREFIX),\n      AuctionProgram.PUBKEY.toBuffer(),\n      new PublicKey(vault).toBuffer(),\n    ]);\n  }\n\n  static async findMany(connection: Connection, filters: { authority?: AnyPublicKey } = {}) {\n    return (\n      await AuctionProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for assigned to authority\n          filters.authority && {\n            memcmp: {\n              offset: 0,\n              bytes: new PublicKey(filters.authority).toBase58(),\n            },\n          },\n        ].filter(Boolean),\n      })\n    )\n      .map((account) => {\n        try {\n          return Auction.from(account);\n        } catch (err) {}\n      })\n      .filter(Boolean);\n  }\n\n  async getBidderPots(connection: Connection) {\n    return (\n      await AuctionProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for BidderPot by data size\n          {\n            dataSize: BidderPot.DATA_SIZE,\n          },\n          // Filter for assigned to this auction\n          {\n            memcmp: {\n              offset: 32 + 32,\n              bytes: this.pubkey.toBase58(),\n            },\n          },\n        ],\n      })\n    ).map((account) => BidderPot.from(account));\n  }\n\n  async getBidderMetadata(connection: Connection) {\n    return (\n      await AuctionProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for BidderMetadata by data size\n          {\n            dataSize: BidderMetadata.DATA_SIZE,\n          },\n          // Filter for assigned to this auction\n          {\n            memcmp: {\n              offset: 32,\n              bytes: this.pubkey.toBase58(),\n            },\n          },\n        ],\n      })\n    ).map((account) => BidderMetadata.from(account));\n  }\n}\n","import { StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { Transaction } from '../../../Transaction';\nimport { PriceFloor } from '../accounts/Auction';\n\nexport enum WinnerLimitType {\n  Unlimited = 0,\n  Capped = 1,\n}\n\ntype WinnerLimitArgs = {\n  type: WinnerLimitType;\n  usize: BN;\n};\n\nexport class WinnerLimit extends Borsh.Data<WinnerLimitArgs> {\n  static readonly SCHEMA = this.struct([\n    ['type', 'u8'],\n    ['usize', 'u64'],\n  ]);\n\n  type: WinnerLimitType;\n  usize: BN;\n}\n\nexport type Args = {\n  winners: WinnerLimit;\n  endAuctionAt: BN | null;\n  auctionGap: BN | null;\n  tokenMint: StringPublicKey;\n  authority: StringPublicKey;\n  resource: StringPublicKey;\n  priceFloor: PriceFloor;\n  tickSize: BN | null;\n  gapTickSizePercentage: number | null;\n};\n\nexport class CreateAuctionArgs extends Borsh.Data<Args> {\n  static readonly SCHEMA = new Map([\n    ...WinnerLimit.SCHEMA,\n    ...PriceFloor.SCHEMA,\n    ...this.struct([\n      ['instruction', 'u8'],\n      ['winners', WinnerLimit],\n      ['endAuctionAt', { kind: 'option', type: 'u64' }],\n      ['auctionGap', { kind: 'option', type: 'u64' }],\n      ['tokenMint', 'pubkeyAsString'],\n      ['authority', 'pubkeyAsString'],\n      ['resource', 'pubkeyAsString'],\n      ['priceFloor', PriceFloor],\n      ['tickSize', { kind: 'option', type: 'u64' }],\n      ['gapTickSizePercentage', { kind: 'option', type: 'u8' }],\n    ]),\n  ]);\n\n  instruction = 1;\n  /// How many winners are allowed for this auction. See AuctionData.\n  winners: WinnerLimit;\n  /// End time is the cut-off point that the auction is forced to end by. See AuctionData.\n  endAuctionAt: BN | null;\n  /// Gap time is how much time after the previous bid where the auction ends. See AuctionData.\n  auctionGap: BN | null;\n  /// Token mint for the SPL token used for bidding.\n  tokenMint: StringPublicKey;\n  /// Authority\n  authority: StringPublicKey;\n  /// The resource being auctioned. See AuctionData.\n  resource: StringPublicKey;\n  /// Set a price floor.\n  priceFloor: PriceFloor;\n  /// Add a tick size increment\n  tickSize: BN | null;\n  /// Add a minimum percentage increase each bid must meet.\n  gapTickSizePercentage: number | null;\n}\n\ntype CreateAuctionParams = {\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  creator: PublicKey;\n  args: CreateAuctionArgs;\n};\n\nexport class CreateAuction extends Transaction {\n  constructor(options: TransactionCtorFields, params: CreateAuctionParams) {\n    super(options);\n    const { args, auction, auctionExtended, creator } = params;\n\n    const data = CreateAuctionArgs.serialize(args);\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: creator,\n            isSigner: true,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auctionExtended,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: AuctionProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { AccountInfo, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Account } from '../../../Account';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = {\n  bidderPubkey: StringPublicKey;\n  auctionPubkey: StringPublicKey;\n  lastBid: BN;\n  lastBidTimestamp: BN;\n  cancelled: boolean;\n};\nexport class BidderMetadataData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['bidderPubkey', 'pubkeyAsString'],\n    ['auctionPubkey', 'pubkeyAsString'],\n    ['lastBid', 'u64'],\n    ['lastBidTimestamp', 'u64'],\n    ['cancelled', 'u8'],\n  ]);\n\n  // Relationship with the bidder who's metadata this covers.\n  bidderPubkey: StringPublicKey;\n  // Relationship with the auction this bid was placed on.\n  auctionPubkey: StringPublicKey;\n  // Amount that the user bid.\n  lastBid: BN;\n  // Tracks the last time this user bid.\n  lastBidTimestamp: BN;\n  // Whether the last bid the user made was cancelled. This should also be enough to know if the\n  // user is a winner, as if cancelled it implies previous bids were also cancelled.\n  cancelled: boolean;\n}\n\nexport class BidderMetadata extends Account<BidderMetadataData> {\n  static readonly DATA_SIZE = 32 + 32 + 8 + 8 + 1;\n\n  constructor(key: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(key, info);\n\n    if (!this.assertOwner(AuctionProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!BidderMetadata.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = BidderMetadataData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data.length === BidderMetadata.DATA_SIZE;\n  }\n\n  static getPDA(auction: AnyPublicKey, bidder: AnyPublicKey) {\n    return AuctionProgram.findProgramAddress([\n      Buffer.from(AuctionProgram.PREFIX),\n      AuctionProgram.PUBKEY.toBuffer(),\n      new PublicKey(auction).toBuffer(),\n      new PublicKey(bidder).toBuffer(),\n      Buffer.from('metadata'),\n    ]);\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { AccountInfo, PublicKey } from '@solana/web3.js';\nimport { Account } from '../../../Account';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = {\n  bidderPot: StringPublicKey;\n  bidderAct: StringPublicKey;\n  auctionAct: StringPublicKey;\n  emptied: boolean;\n};\nexport class BidderPotData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['bidderPot', 'pubkeyAsString'],\n    ['bidderAct', 'pubkeyAsString'],\n    ['auctionAct', 'pubkeyAsString'],\n    ['emptied', 'u8'],\n  ]);\n\n  /// Points at actual pot that is a token account\n  bidderPot: StringPublicKey;\n  bidderAct: StringPublicKey;\n  auctionAct: StringPublicKey;\n  emptied: boolean;\n}\n\nexport class BidderPot extends Account<BidderPotData> {\n  static readonly DATA_SIZE = 32 + 32 + 32 + 1;\n\n  constructor(key: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(key, info);\n\n    if (!this.assertOwner(AuctionProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!BidderPot.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = BidderPotData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data.length === BidderPot.DATA_SIZE;\n  }\n\n  static getPDA(auction: AnyPublicKey, bidder: AnyPublicKey) {\n    return AuctionProgram.findProgramAddress([\n      Buffer.from(AuctionProgram.PREFIX),\n      AuctionProgram.PUBKEY.toBuffer(),\n      new PublicKey(auction).toBuffer(),\n      new PublicKey(bidder).toBuffer(),\n    ]);\n  }\n}\n","import { AccountInfo, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { AnyPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { Account } from '../../../Account';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { Buffer } from 'buffer';\n\ntype Args = {\n  totalUncancelledBids: BN;\n  tickSize: BN | null;\n  gapTickSizePercentage: number | null;\n  instantSalePrice: BN | null;\n  name: number[] | null;\n};\nexport class AuctionDataExtended extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['totalUncancelledBids', 'u64'],\n    ['tickSize', { kind: 'option', type: 'u64' }],\n    ['gapTickSizePercentage', { kind: 'option', type: 'u8' }],\n    ['instantSalePrice', { kind: 'option', type: 'u64' }],\n    ['name', { kind: 'option', type: [32] }],\n  ]);\n\n  totalUncancelledBids: BN;\n  tickSize: BN | null;\n  gapTickSizePercentage: number | null;\n  instantSalePrice: BN | null;\n  name: number[] | null;\n}\n\nexport class AuctionExtended extends Account<AuctionDataExtended> {\n  static readonly DATA_SIZE = 8 + 9 + 2 + 200;\n\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(AuctionProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!AuctionExtended.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = AuctionDataExtended.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data.length === AuctionExtended.DATA_SIZE;\n  }\n\n  static getPDA(vault: AnyPublicKey) {\n    return AuctionProgram.findProgramAddress([\n      Buffer.from(AuctionProgram.PREFIX),\n      AuctionProgram.PUBKEY.toBuffer(),\n      new PublicKey(vault).toBuffer(),\n      Buffer.from(AuctionProgram.EXTENDED),\n    ]);\n  }\n}\n","import { StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_CLOCK_PUBKEY,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { AuctionProgram } from '../AuctionProgram';\n\nexport class CancelBidArgs extends Borsh.Data<{ resource: StringPublicKey }> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['resource', 'pubkeyAsString'],\n  ]);\n\n  instruction = 0;\n  resource: StringPublicKey;\n}\n\ntype CancelBidParams = {\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  bidderPot: PublicKey;\n  bidderMeta: PublicKey;\n  bidder: PublicKey;\n  bidderToken: PublicKey;\n  bidderPotToken: PublicKey;\n  tokenMint: PublicKey;\n  resource: PublicKey;\n};\n\nexport class CancelBid extends Transaction {\n  constructor(options: TransactionCtorFields, params: CancelBidParams) {\n    super(options);\n    const {\n      auction,\n      auctionExtended,\n      bidderPot,\n      bidderMeta,\n      bidder,\n      bidderToken,\n      bidderPotToken,\n      tokenMint,\n      resource,\n    } = params;\n\n    const data = CancelBidArgs.serialize({ resource: resource.toString() });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: bidder,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: bidderToken,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderPot,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderPotToken,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderMeta,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auctionExtended,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: tokenMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: SYSVAR_CLOCK_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: AuctionProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { Transaction } from '../../../Transaction';\nimport { PriceFloor } from '../accounts/Auction';\nimport { Args as CreateAuctionArgsType, WinnerLimit } from './CreateAuction';\n\ntype Args = CreateAuctionArgsType & {\n  instantSalePrice: BN | null;\n  name: number[] | null;\n};\n\nexport class CreateAuctionV2Args extends Borsh.Data<Args> {\n  static readonly SCHEMA = new Map([\n    ...WinnerLimit.SCHEMA,\n    ...PriceFloor.SCHEMA,\n    ...this.struct([\n      ['instruction', 'u8'],\n      ['winners', WinnerLimit],\n      ['endAuctionAt', { kind: 'option', type: 'u64' }],\n      ['auctionGap', { kind: 'option', type: 'u64' }],\n      ['tokenMint', 'pubkeyAsString'],\n      ['authority', 'pubkeyAsString'],\n      ['resource', 'pubkeyAsString'],\n      ['priceFloor', PriceFloor],\n      ['tickSize', { kind: 'option', type: 'u64' }],\n      ['gapTickSizePercentage', { kind: 'option', type: 'u8' }],\n      ['instantSalePrice', { kind: 'option', type: 'u64' }],\n      ['name', { kind: 'option', type: [32] }],\n    ]),\n  ]);\n\n  instruction = 7;\n  /// How many winners are allowed for this auction. See AuctionData.\n  winners: WinnerLimit;\n  /// End time is the cut-off point that the auction is forced to end by. See AuctionData.\n  endAuctionAt: BN | null;\n  /// Gap time is how much time after the previous bid where the auction ends. See AuctionData.\n  auctionGap: BN | null;\n  /// Token mint for the SPL token used for bidding.\n  tokenMint: StringPublicKey;\n  /// Authority\n  authority: StringPublicKey;\n  /// The resource being auctioned. See AuctionData.\n  resource: StringPublicKey;\n  /// Set a price floor.\n  priceFloor: PriceFloor;\n  /// Add a tick size increment\n  tickSize: BN | null;\n  /// Add a minimum percentage increase each bid must meet.\n  gapTickSizePercentage: number | null;\n  /// Add a instant sale price.\n  instantSalePrice: BN | null;\n  /// Auction name\n  name: number[] | null;\n}\n\ntype CreateAuctionV2Params = {\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  creator: PublicKey;\n  args: CreateAuctionV2Args;\n};\n\nexport class CreateAuctionV2 extends Transaction {\n  constructor(options: TransactionCtorFields, params: CreateAuctionV2Params) {\n    super(options);\n    const { args, auction, auctionExtended, creator } = params;\n\n    const data = CreateAuctionV2Args.serialize(args);\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: creator,\n            isSigner: true,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auctionExtended,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: AuctionProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_CLOCK_PUBKEY,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { Transaction } from '../../../Transaction';\nimport { StringPublicKey } from '@metaplex/types';\nimport BN from 'bn.js';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\n\nexport class PlaceBidArgs extends Borsh.Data<{ resource: StringPublicKey; amount: BN }> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['amount', 'u64'],\n    ['resource', 'pubkeyAsString'],\n  ]);\n\n  instruction = 6;\n  resource: StringPublicKey;\n  amount: BN;\n}\n\ntype PlaceBidParams = {\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  bidderPot: PublicKey;\n  bidderMeta: PublicKey;\n  bidder: PublicKey;\n  bidderToken: PublicKey;\n  bidderPotToken: PublicKey;\n  tokenMint: PublicKey;\n  transferAuthority: PublicKey;\n  resource: PublicKey;\n  amount: BN;\n};\n\nexport class PlaceBid extends Transaction {\n  constructor(options: TransactionCtorFields, params: PlaceBidParams) {\n    super(options);\n    const { feePayer } = options;\n    const {\n      auction,\n      auctionExtended,\n      bidderPot,\n      bidderMeta,\n      bidder,\n      bidderToken,\n      bidderPotToken,\n      tokenMint,\n      transferAuthority,\n      resource,\n      amount,\n    } = params;\n\n    const data = PlaceBidArgs.serialize({ resource: resource.toString(), amount });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: bidder,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: bidderToken,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderPot,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderPotToken,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderMeta,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auctionExtended,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: tokenMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_CLOCK_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: AuctionProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { Transaction } from '../../../Transaction';\n\nexport class SetAuctionAuthorityArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = 5;\n}\n\ntype SetAuctionAuthorityParams = {\n  auction: PublicKey;\n  currentAuthority: PublicKey;\n  newAuthority: PublicKey;\n};\n\nexport class SetAuctionAuthority extends Transaction {\n  constructor(options: TransactionCtorFields, params: SetAuctionAuthorityParams) {\n    super(options);\n    const { auction, currentAuthority, newAuthority } = params;\n\n    const data = SetAuctionAuthorityArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: currentAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: newAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: AuctionProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport bs58 from 'bs58';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { Account } from '../../../Account';\nimport { BidRedemptionTicket, WINNER_INDEX_OFFSETS } from './BidRedemptionTicket';\nimport { MetaplexKey, MetaplexProgram } from '../MetaplexProgram';\nimport {\n  ERROR_DEPRECATED_ACCOUNT_DATA,\n  ERROR_INVALID_ACCOUNT_DATA,\n  ERROR_INVALID_OWNER,\n} from '@metaplex/errors';\nimport { Auction } from '../../auction';\nimport { Buffer } from 'buffer';\n\nexport enum AuctionManagerStatus {\n  Initialized,\n  Validated,\n  Running,\n  Disbursing,\n  Finished,\n}\n\nexport class AuctionManagerStateV2 extends Borsh.Data<{\n  status: AuctionManagerStatus;\n  safetyConfigItemsValidated: BN;\n  bidsPushedToAcceptPayment: BN;\n  hasParticipation: boolean;\n}> {\n  static readonly SCHEMA = this.struct([\n    ['status', 'u8'],\n    ['safetyConfigItemsValidated', 'u64'],\n    ['bidsPushedToAcceptPayment', 'u64'],\n    ['hasParticipation', 'u8'],\n  ]);\n\n  status: AuctionManagerStatus = AuctionManagerStatus.Initialized;\n  safetyConfigItemsValidated: BN = new BN(0);\n  bidsPushedToAcceptPayment: BN = new BN(0);\n  hasParticipation = false;\n}\n\ntype Args = {\n  store: StringPublicKey;\n  authority: StringPublicKey;\n  auction: StringPublicKey;\n  vault: StringPublicKey;\n  acceptPayment: StringPublicKey;\n  state: AuctionManagerStateV2;\n};\nexport class AuctionManagerV2Data extends Borsh.Data<Args> {\n  static readonly SCHEMA = new Map([\n    ...AuctionManagerStateV2.SCHEMA,\n    ...this.struct([\n      ['key', 'u8'],\n      ['store', 'pubkeyAsString'],\n      ['authority', 'pubkeyAsString'],\n      ['auction', 'pubkeyAsString'],\n      ['vault', 'pubkeyAsString'],\n      ['acceptPayment', 'pubkeyAsString'],\n      ['state', AuctionManagerStateV2],\n    ]),\n  ]);\n\n  key: MetaplexKey;\n  store: StringPublicKey;\n  authority: StringPublicKey;\n  auction: StringPublicKey;\n  vault: StringPublicKey;\n  acceptPayment: StringPublicKey;\n  state: AuctionManagerStateV2;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetaplexKey.AuctionManagerV2;\n  }\n}\n\nexport class AuctionManager extends Account<AuctionManagerV2Data> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (AuctionManager.isAuctionManagerV1(this.info.data)) {\n      throw ERROR_DEPRECATED_ACCOUNT_DATA();\n    } else if (AuctionManager.isAuctionManagerV2(this.info.data)) {\n      this.data = AuctionManagerV2Data.deserialize(this.info.data);\n    } else {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n  }\n\n  static isCompatible(data: Buffer) {\n    return AuctionManager.isAuctionManagerV1(data) || AuctionManager.isAuctionManagerV2(data);\n  }\n\n  static isAuctionManagerV1(data: Buffer) {\n    return data[0] === MetaplexKey.AuctionManagerV1;\n  }\n\n  static isAuctionManagerV2(data: Buffer) {\n    return data[0] === MetaplexKey.AuctionManagerV2;\n  }\n\n  static getPDA(auction: AnyPublicKey) {\n    return MetaplexProgram.findProgramAddress([\n      Buffer.from(MetaplexProgram.PREFIX),\n      new PublicKey(auction).toBuffer(),\n    ]);\n  }\n\n  static async findMany(\n    connection: Connection,\n    filters: { store?: AnyPublicKey; authority?: AnyPublicKey } = {},\n  ) {\n    return (\n      await MetaplexProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for AuctionManagerV2 by key\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(Buffer.from([MetaplexKey.AuctionManagerV2])),\n            },\n          },\n          // Filter for assigned to store\n          filters.store && {\n            memcmp: {\n              offset: 1,\n              bytes: new PublicKey(filters.store).toBase58(),\n            },\n          },\n          // Filter for assigned to authority\n          filters.authority && {\n            memcmp: {\n              offset: 33,\n              bytes: new PublicKey(filters.authority).toBase58(),\n            },\n          },\n        ].filter(Boolean),\n      })\n    ).map((account) => AuctionManager.from(account));\n  }\n\n  async getAuction(connection: Connection) {\n    return Auction.load(connection, this.data.auction);\n  }\n\n  async getBidRedemptionTickets(connection: Connection, haveWinnerIndex = true) {\n    return (\n      await MetaplexProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for BidRedemptionTicketV2 by key\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(Buffer.from([MetaplexKey.BidRedemptionTicketV2])),\n            },\n          },\n          // Filter for assigned to this auction manager\n          {\n            memcmp: {\n              offset: WINNER_INDEX_OFFSETS[+haveWinnerIndex],\n              bytes: this.pubkey.toBase58(),\n            },\n          },\n        ],\n      })\n    ).map((account) => BidRedemptionTicket.from(account));\n  }\n}\n","import { AccountInfo, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport bs58 from 'bs58';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { getBNFromData, TupleNumericType } from '@metaplex/utils';\nimport { Account } from '../../../Account';\nimport { MetaplexKey, MetaplexProgram } from '../MetaplexProgram';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\nexport enum WinningConfigType {\n  /// You may be selling your one-of-a-kind NFT for the first time, but not it's accompanying Metadata,\n  /// of which you would like to retain ownership. You get 100% of the payment the first sale, then\n  /// royalties forever after.\n  ///\n  /// You may be re-selling something like a Limited/Open Edition print from another auction,\n  /// a master edition record token by itself (Without accompanying metadata/printing ownership), etc.\n  /// This means artists will get royalty fees according to the top level royalty % on the metadata\n  /// split according to their percentages of contribution.\n  ///\n  /// No metadata ownership is transferred in this instruction, which means while you may be transferring\n  /// the token for a limited/open edition away, you would still be (nominally) the owner of the limited edition\n  /// metadata, though it confers no rights or privileges of any kind.\n  TokenOnlyTransfer,\n  /// Means you are auctioning off the master edition record and it's metadata ownership as well as the\n  /// token itself. The other person will be able to mint authorization tokens and make changes to the\n  /// artwork.\n  FullRightsTransfer,\n  /// Means you are using authorization tokens to print off editions during the auction using\n  /// from a MasterEditionV1\n  PrintingV1,\n  /// Means you are using the MasterEditionV2 to print off editions\n  PrintingV2,\n  /// Means you are using a MasterEditionV2 as a participation prize.\n  Participation,\n}\n\nexport enum WinningConstraint {\n  NoParticipationPrize = 0,\n  ParticipationPrizeGiven = 1,\n}\n\nexport enum NonWinningConstraint {\n  NoParticipationPrize = 0,\n  GivenForFixedPrice = 1,\n  GivenForBidPrice = 2,\n}\n\nexport interface AmountRange {\n  amount: BN;\n  length: BN;\n}\n\nexport interface ParticipationConfigV2 {\n  winnerConstraint: WinningConstraint;\n  nonWinningConstraint: NonWinningConstraint;\n  fixedPrice: BN | null;\n}\n\nexport interface ParticipationStateV2 {\n  collectedToAcceptPayment: BN;\n}\n\nexport interface SafetyDepositConfigData {\n  key: MetaplexKey;\n  auctionManager: StringPublicKey;\n  order: BN;\n  winningConfigType: WinningConfigType;\n  amountType: TupleNumericType;\n  lengthType: TupleNumericType;\n  amountRanges: AmountRange[];\n  participationConfig: ParticipationConfigV2 | null;\n  participationState: ParticipationStateV2 | null;\n}\n\nexport class SafetyDepositConfig extends Account<SafetyDepositConfigData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!SafetyDepositConfig.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetaplexKey.SafetyDepositConfigV1;\n  }\n\n  static async getPDA(auctionManager: AnyPublicKey, safetyDeposit: AnyPublicKey) {\n    return MetaplexProgram.findProgramAddress([\n      Buffer.from(MetaplexProgram.PREFIX),\n      MetaplexProgram.PUBKEY.toBuffer(),\n      new PublicKey(auctionManager).toBuffer(),\n      new PublicKey(safetyDeposit).toBuffer(),\n    ]);\n  }\n}\n\nconst deserialize = (buffer: Buffer) => {\n  const data: SafetyDepositConfigData = {\n    key: MetaplexKey.SafetyDepositConfigV1,\n    auctionManager: bs58.encode(buffer.slice(1, 33)),\n    order: new BN(buffer.slice(33, 41), 'le'),\n    winningConfigType: buffer[41],\n    amountType: buffer[42],\n    lengthType: buffer[43],\n    amountRanges: [],\n    participationConfig: null,\n    participationState: null,\n  };\n\n  const lengthOfArray = new BN(buffer.slice(44, 48), 'le');\n  let offset = 48;\n\n  for (let i = 0; i < lengthOfArray.toNumber(); i++) {\n    const amount = getBNFromData(buffer, offset, data.amountType);\n    offset += data.amountType;\n    const length = getBNFromData(buffer, offset, data.lengthType);\n    offset += data.lengthType;\n    data.amountRanges.push({ amount, length });\n  }\n\n  if (buffer[offset] == 0) {\n    offset += 1;\n    data.participationConfig = null;\n  } else {\n    // pick up participation config manually\n    const winnerConstraint = buffer[offset + 1];\n    const nonWinningConstraint = buffer[offset + 2];\n    let fixedPrice: BN | null = null;\n    offset += 3;\n\n    if (buffer[offset] == 1) {\n      fixedPrice = new BN(buffer.slice(offset + 1, offset + 9), 'le');\n      offset += 9;\n    } else {\n      offset += 1;\n    }\n    data.participationConfig = {\n      winnerConstraint,\n      nonWinningConstraint,\n      fixedPrice,\n    };\n  }\n\n  if (buffer[offset] == 0) {\n    offset += 1;\n    data.participationState = null;\n  } else {\n    // pick up participation state manually\n    const collectedToAcceptPayment = new BN(buffer.slice(offset + 1, offset + 9), 'le');\n    offset += 9;\n    data.participationState = {\n      collectedToAcceptPayment,\n    };\n  }\n\n  return data;\n};\n","import { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport bs58 from 'bs58';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { Account } from '../../../Account';\nimport { MetaplexKey, MetaplexProgram } from '../MetaplexProgram';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = { recipient: StringPublicKey; amountPaid: BN };\nexport class PayoutTicketData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['recipient', 'pubkeyAsString'],\n    ['amountPaid', 'u64'],\n  ]);\n\n  key: MetaplexKey;\n  recipient: StringPublicKey;\n  amountPaid: BN;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetaplexKey.PayoutTicketV1;\n  }\n}\n\nexport class PayoutTicket extends Account<PayoutTicketData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!PayoutTicket.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = PayoutTicketData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetaplexKey.PayoutTicketV1;\n  }\n\n  static async getPayoutTicketsByRecipient(connection: Connection, recipient: AnyPublicKey) {\n    return (\n      await MetaplexProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for PayoutTicketV1 by key\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(Buffer.from([MetaplexKey.PayoutTicketV1])),\n            },\n          },\n          // Filter for assigned to recipient\n          {\n            memcmp: {\n              offset: 1,\n              bytes: new PublicKey(recipient).toBase58(),\n            },\n          },\n        ],\n      })\n    ).map((account) => PayoutTicket.from(account));\n  }\n}\n","import { AccountInfo, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { AnyPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { Account } from '../../../Account';\nimport { MetaplexKey, MetaplexProgram } from '../MetaplexProgram';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = {\n  metadata: string;\n  supplySnapshot: BN;\n  expectedRedemptions: BN;\n  redemptions: BN;\n};\nexport class PrizeTrackingTicketData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['metadata', 'pubkeyAsString'],\n    ['supplySnapshot', 'u64'],\n    ['expectedRedemptions', 'u64'],\n    ['redemptions', 'u64'],\n  ]);\n\n  key: MetaplexKey = MetaplexKey.PrizeTrackingTicketV1;\n  metadata: string;\n  supplySnapshot: BN;\n  expectedRedemptions: BN;\n  redemptions: BN;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetaplexKey.PrizeTrackingTicketV1;\n  }\n}\n\nexport class PrizeTrackingTicket extends Account<PrizeTrackingTicketData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!PrizeTrackingTicket.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = PrizeTrackingTicketData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetaplexKey.PrizeTrackingTicketV1;\n  }\n\n  static async getPDA(auctionManager: AnyPublicKey, mint: AnyPublicKey) {\n    return MetaplexProgram.findProgramAddress([\n      Buffer.from(MetaplexProgram.PREFIX),\n      MetaplexProgram.PUBKEY.toBuffer(),\n      new PublicKey(auctionManager).toBuffer(),\n      new PublicKey(mint).toBuffer(),\n    ]);\n  }\n}\n","import { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { MetaplexProgram, MetaplexKey } from '../MetaplexProgram';\nimport { AccountInfo, PublicKey } from '@solana/web3.js';\nimport { Account } from '../../../Account';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = { address: string; activated: boolean };\nexport class WhitelistedCreatorData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['address', 'pubkeyAsString'],\n    ['activated', 'u8'],\n  ]);\n\n  key: MetaplexKey = MetaplexKey.WhitelistedCreatorV1;\n  address: StringPublicKey;\n  activated = true;\n\n  // Populated from name service\n  twitter?: string;\n  name?: string;\n  image?: string;\n  description?: string;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetaplexKey.WhitelistedCreatorV1;\n  }\n}\n\nexport class WhitelistedCreator extends Account<WhitelistedCreatorData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!WhitelistedCreator.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = WhitelistedCreatorData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetaplexKey.WhitelistedCreatorV1;\n  }\n\n  static async getPDA(store: AnyPublicKey, creator: AnyPublicKey) {\n    return MetaplexProgram.findProgramAddress([\n      Buffer.from(MetaplexProgram.PREFIX),\n      MetaplexProgram.PUBKEY.toBuffer(),\n      new PublicKey(store).toBuffer(),\n      new PublicKey(creator).toBuffer(),\n    ]);\n  }\n}\n","import { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { MetaplexProgram, MetaplexKey } from '../MetaplexProgram';\nimport { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport bs58 from 'bs58';\nimport { WhitelistedCreator } from './WhitelistedCreator';\nimport { AuctionManager } from './AuctionManager';\nimport { Account } from '../../../Account';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = {\n  public: boolean;\n  auctionProgram: StringPublicKey;\n  tokenVaultProgram: StringPublicKey;\n  tokenMetadataProgram: StringPublicKey;\n  tokenProgram: StringPublicKey;\n};\nexport class StoreData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['public', 'u8'],\n    ['auctionProgram', 'pubkeyAsString'],\n    ['tokenVaultProgram', 'pubkeyAsString'],\n    ['tokenMetadataProgram', 'pubkeyAsString'],\n    ['tokenProgram', 'pubkeyAsString'],\n  ]);\n\n  key: MetaplexKey = MetaplexKey.StoreV1;\n  public = true;\n  auctionProgram: StringPublicKey;\n  tokenVaultProgram: StringPublicKey;\n  tokenMetadataProgram: StringPublicKey;\n  tokenProgram: StringPublicKey;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetaplexKey.StoreV1;\n  }\n}\n\nexport class Store extends Account<StoreData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!Store.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = StoreData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetaplexKey.StoreV1;\n  }\n\n  static async getPDA(owner: AnyPublicKey) {\n    return MetaplexProgram.findProgramAddress([\n      Buffer.from(MetaplexProgram.PREFIX),\n      MetaplexProgram.PUBKEY.toBuffer(),\n      new PublicKey(owner).toBuffer(),\n    ]);\n  }\n\n  // TODO: we need some filter for current store\n  async getWhitelistedCreators(connection: Connection) {\n    return (\n      await MetaplexProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for WhitelistedCreatorV1 keys\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(Buffer.from([MetaplexKey.WhitelistedCreatorV1])),\n            },\n          },\n        ],\n      })\n    ).map((account) => WhitelistedCreator.from(account));\n  }\n\n  async getAuctionManagers(connection: Connection) {\n    return (\n      await MetaplexProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for AuctionManagerV2 by key\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(Buffer.from([MetaplexKey.AuctionManagerV2])),\n            },\n          },\n          // Filter for assigned to this store\n          {\n            memcmp: {\n              offset: 1,\n              bytes: this.pubkey.toBase58(),\n            },\n          },\n        ],\n      })\n    ).map((account) => AuctionManager.from(account));\n  }\n}\n","import { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { AnyPublicKey } from '@metaplex/types';\nimport { getBNFromData, TupleNumericType } from '@metaplex/utils';\nimport { AccountInfo, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Buffer } from 'buffer';\nimport { Account } from '../../../Account';\nimport { MetaplexKey, MetaplexProgram } from '../MetaplexProgram';\nimport { AmountRange } from './SafetyDepositConfig';\n\nexport interface AuctionWinnerTokenTypeTrackerData {\n  key: MetaplexKey;\n  amountType: TupleNumericType;\n  lengthType: TupleNumericType;\n  amountRanges: AmountRange[];\n}\n\nexport class AuctionWinnerTokenTypeTracker extends Account<AuctionWinnerTokenTypeTrackerData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!AuctionWinnerTokenTypeTracker.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetaplexKey.AuctionWinnerTokenTypeTrackerV1;\n  }\n\n  static async getPDA(auctionManager: AnyPublicKey) {\n    return MetaplexProgram.findProgramAddress([\n      Buffer.from(MetaplexProgram.PREFIX),\n      MetaplexProgram.PUBKEY.toBuffer(),\n      new PublicKey(auctionManager).toBuffer(),\n      Buffer.from(MetaplexProgram.TOTALS),\n    ]);\n  }\n}\n\nconst deserialize = (buffer: Buffer) => {\n  const data: AuctionWinnerTokenTypeTrackerData = {\n    key: MetaplexKey.SafetyDepositConfigV1,\n    amountType: buffer[1],\n    lengthType: buffer[2],\n    amountRanges: [],\n  };\n\n  const lengthOfArray = new BN(buffer.slice(3, 7), 'le');\n  let offset = 7;\n\n  for (let i = 0; i < lengthOfArray.toNumber(); i++) {\n    const amount = getBNFromData(buffer, offset, data.amountType);\n    offset += data.amountType;\n    const length = getBNFromData(buffer, offset, data.lengthType);\n    offset += data.lengthType;\n    data.amountRanges.push({ amount, length });\n  }\n\n  return data;\n};\n","import { PublicKey } from '@solana/web3.js';\nimport { Program } from '../../Program';\nimport { config } from '../../config';\n\nexport enum VaultKey {\n  Uninitialized = 0,\n  VaultV1 = 3,\n  SafetyDepositBoxV1 = 1,\n  ExternalPriceAccountV1 = 2,\n}\n\nexport enum VaultInstructions {\n  InitVault,\n  AddTokenToInactiveVault,\n  ActivateVault,\n  CombineVault,\n  RedeemShares,\n  WithdrawTokenFromSafetyDepositBox,\n  MintFractionalShares,\n  WithdrawSharesFromTreasury,\n  AddSharesToTreasury,\n  UpdateExternalPriceAccount,\n  SetVaultAuthority,\n}\n\nexport class VaultProgram extends Program {\n  static readonly PREFIX = 'vault';\n  static readonly PUBKEY = new PublicKey(config.programs.vault);\n}\n","import { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport bs58 from 'bs58';\nimport { Account } from '../../../Account';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { SafetyDepositBox } from './SafetyDepositBox';\nimport { VaultKey, VaultProgram } from '../VaultProgram';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\nexport class AmountArgs extends Borsh.Data<{\n  instruction: number;\n  amount: BN;\n}> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['amount', 'u64'],\n  ]);\n\n  instruction: number;\n  amount: BN;\n}\n\nexport class NumberOfShareArgs extends Borsh.Data<{\n  instruction: number;\n  numberOfShares: BN;\n}> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['numberOfShares', 'u64'],\n  ]);\n\n  instruction: number;\n  numberOfShares: BN;\n}\n\nexport enum VaultState {\n  Inactive = 0,\n  Active = 1,\n  Combined = 2,\n  Deactivated = 3,\n}\n\ntype Args = {\n  tokenProgram: StringPublicKey;\n  fractionMint: StringPublicKey;\n  authority: StringPublicKey;\n  fractionTreasury: StringPublicKey;\n  redeemTreasury: StringPublicKey;\n  allowFurtherShareCreation: boolean;\n  pricingLookupAddress: StringPublicKey;\n  tokenTypeCount: number;\n  state: VaultState;\n  lockedPricePerShare: BN;\n};\nexport class VaultData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['tokenProgram', 'pubkeyAsString'],\n    ['fractionMint', 'pubkeyAsString'],\n    ['authority', 'pubkeyAsString'],\n    ['fractionTreasury', 'pubkeyAsString'],\n    ['redeemTreasury', 'pubkeyAsString'],\n    ['allowFurtherShareCreation', 'u8'],\n    ['pricingLookupAddress', 'pubkeyAsString'],\n    ['tokenTypeCount', 'u8'],\n    ['state', 'u8'],\n    ['lockedPricePerShare', 'u64'],\n  ]);\n\n  key: VaultKey;\n  /// Store token program used\n  tokenProgram: StringPublicKey;\n  /// Mint that produces the fractional shares\n  fractionMint: StringPublicKey;\n  /// Authority who can make changes to the vault\n  authority: StringPublicKey;\n  /// treasury where fractional shares are held for redemption by authority\n  fractionTreasury: StringPublicKey;\n  /// treasury where monies are held for fractional share holders to redeem(burn) shares once buyout is made\n  redeemTreasury: StringPublicKey;\n  /// Can authority mint more shares from fraction_mint after activation\n  allowFurtherShareCreation: boolean;\n\n  /// Must point at an ExternalPriceAccount, which gives permission and price for buyout.\n  pricingLookupAddress: StringPublicKey;\n  /// In inactive state, we use this to set the order key on Safety Deposit Boxes being added and\n  /// then we increment it and save so the next safety deposit box gets the next number.\n  /// In the Combined state during token redemption by authority, we use it as a decrementing counter each time\n  /// The authority of the vault withdrawals a Safety Deposit contents to count down how many\n  /// are left to be opened and closed down. Once this hits zero, and the fraction mint has zero shares,\n  /// then we can deactivate the vault.\n  tokenTypeCount: number;\n  state: VaultState;\n\n  /// Once combination happens, we copy price per share to vault so that if something nefarious happens\n  /// to external price account, like price change, we still have the math 'saved' for use in our calcs\n  lockedPricePerShare: BN;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = VaultKey.VaultV1;\n  }\n}\n\nexport class Vault extends Account<VaultData> {\n  static MAX_VAULT_SIZE = 1 + 32 + 32 + 32 + 32 + 1 + 32 + 1 + 32 + 1 + 1 + 8;\n  static MAX_EXTERNAL_ACCOUNT_SIZE = 1 + 8 + 32 + 1;\n\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(VaultProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!Vault.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = VaultData.deserialize(this.info.data);\n  }\n\n  static async getPDA(pubkey: AnyPublicKey) {\n    return VaultProgram.findProgramAddress([\n      Buffer.from(VaultProgram.PREFIX),\n      VaultProgram.PUBKEY.toBuffer(),\n      new PublicKey(pubkey).toBuffer(),\n    ]);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === VaultKey.VaultV1;\n  }\n\n  async getSafetyDepositBoxes(connection: Connection) {\n    return (\n      await VaultProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for SafetyDepositBoxV1 by key\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(Buffer.from([VaultKey.SafetyDepositBoxV1])),\n            },\n          },\n          // Filter for assigned to this vault\n          {\n            memcmp: {\n              offset: 1,\n              bytes: this.pubkey.toBase58(),\n            },\n          },\n        ],\n      })\n    ).map((account) => SafetyDepositBox.from(account));\n  }\n}\n","import { AccountInfo, PublicKey } from '@solana/web3.js';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { Account } from '../../../Account';\nimport { VaultKey, VaultProgram } from '../VaultProgram';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = {\n  vault: StringPublicKey;\n  tokenMint: StringPublicKey;\n  store: StringPublicKey;\n  order: number;\n};\nexport class SafetyDepositBoxData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['vault', 'pubkeyAsString'],\n    ['tokenMint', 'pubkeyAsString'],\n    ['store', 'pubkeyAsString'],\n    ['order', 'u8'],\n  ]);\n\n  /// Each token type in a vault has it's own box that contains it's mint and a look-back\n  key: VaultKey;\n  /// VaultKey pointing to the parent vault\n  vault: StringPublicKey;\n  /// This particular token's mint\n  tokenMint: StringPublicKey;\n  /// Account that stores the tokens under management\n  store: StringPublicKey;\n  /// the order in the array of registries\n  order: number;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = VaultKey.SafetyDepositBoxV1;\n  }\n}\n\nexport class SafetyDepositBox extends Account<SafetyDepositBoxData> {\n  constructor(key: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(key, info);\n\n    if (!this.assertOwner(VaultProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!SafetyDepositBox.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = SafetyDepositBoxData.deserialize(this.info.data);\n  }\n\n  static async getPDA(vault: AnyPublicKey, mint: AnyPublicKey) {\n    return VaultProgram.findProgramAddress([\n      Buffer.from(VaultProgram.PREFIX),\n      new PublicKey(vault).toBuffer(),\n      new PublicKey(mint).toBuffer(),\n    ]);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === VaultKey.SafetyDepositBoxV1;\n  }\n}\n","import { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { AccountInfo } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Buffer } from 'buffer';\nimport { Account } from '../../../Account';\nimport { VaultKey, VaultProgram } from '../VaultProgram';\n\ntype Args = {\n  pricePerShare: BN;\n  priceMint: StringPublicKey;\n  allowedToCombine: boolean;\n};\nexport class ExternalPriceAccountData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['pricePerShare', 'u64'],\n    ['priceMint', 'pubkeyAsString'],\n    ['allowedToCombine', 'u8'],\n  ]);\n\n  key: VaultKey;\n  pricePerShare: BN;\n  /// Mint of the currency we are pricing the shares against, should be same as redeem_treasury.\n  /// Most likely will be USDC mint most of the time.\n  priceMint: StringPublicKey;\n  /// Whether or not combination has been allowed for this vault.\n  allowedToCombine: boolean;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = VaultKey.ExternalPriceAccountV1;\n  }\n}\n\nexport class ExternalPriceAccount extends Account<ExternalPriceAccountData> {\n  constructor(key: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(key, info);\n\n    if (!this.assertOwner(VaultProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!ExternalPriceAccount.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = ExternalPriceAccountData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === VaultKey.ExternalPriceAccountV1;\n  }\n}\n","import { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { NumberOfShareArgs } from '../accounts/Vault';\nimport { VaultProgram } from '../VaultProgram';\n\ntype ActivateVaultParams = {\n  vault: PublicKey;\n  fractionMint: PublicKey;\n  fractionTreasury: PublicKey;\n  fractionMintAuthority: PublicKey;\n  vaultAuthority: PublicKey;\n  numberOfShares: BN;\n};\n\nexport class ActivateVault extends Transaction {\n  constructor(options: TransactionCtorFields, params: ActivateVaultParams) {\n    super(options);\n    const {\n      vault,\n      vaultAuthority,\n      fractionMint,\n      fractionTreasury,\n      fractionMintAuthority,\n      numberOfShares,\n    } = params;\n\n    const data = NumberOfShareArgs.serialize({\n      instruction: VaultInstructions.ActivateVault,\n      numberOfShares,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMintAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { VaultProgram } from '../VaultProgram';\n\nexport class CombineVaultArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = VaultInstructions.CombineVault;\n}\n\ntype CombineVaultParams = {\n  vault: PublicKey;\n  fractionMint: PublicKey;\n  fractionTreasury: PublicKey;\n  outstandingShareTokenAccount: PublicKey;\n  payingTokenAccount: PublicKey;\n  redeemTreasury: PublicKey;\n  vaultAuthority: PublicKey;\n  transferAuthority: PublicKey;\n  externalPriceAccount: PublicKey;\n  burnAuthority: PublicKey;\n  newVaultAuthority?: PublicKey;\n};\n\nexport class CombineVault extends Transaction {\n  constructor(options: TransactionCtorFields, params: CombineVaultParams) {\n    super(options);\n    const {\n      vault,\n      vaultAuthority,\n      fractionMint,\n      fractionTreasury,\n      outstandingShareTokenAccount,\n      payingTokenAccount,\n      redeemTreasury,\n      newVaultAuthority,\n      transferAuthority,\n      externalPriceAccount,\n      burnAuthority,\n    } = params;\n\n    const data = CombineVaultArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: outstandingShareTokenAccount,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: payingTokenAccount,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: redeemTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: newVaultAuthority || vaultAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: burnAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: externalPriceAccount,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { VaultProgram } from '../VaultProgram';\n\nexport class InitVaultArgs extends Borsh.Data<{ allowFurtherShareCreation: boolean }> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['allowFurtherShareCreation', 'u8'],\n  ]);\n\n  instruction = VaultInstructions.InitVault;\n  allowFurtherShareCreation = false;\n}\n\ntype InitVaultParams = {\n  vault: PublicKey;\n  vaultAuthority: PublicKey;\n  fractionalMint: PublicKey;\n  redeemTreasury: PublicKey;\n  fractionalTreasury: PublicKey;\n  pricingLookupAddress: PublicKey;\n  allowFurtherShareCreation: boolean;\n};\n\nexport class InitVault extends Transaction {\n  constructor(options: TransactionCtorFields, params: InitVaultParams) {\n    super(options);\n    const {\n      vault,\n      vaultAuthority,\n      fractionalMint,\n      redeemTreasury,\n      fractionalTreasury,\n      pricingLookupAddress,\n      allowFurtherShareCreation,\n    } = params;\n\n    const data = InitVaultArgs.serialize({ allowFurtherShareCreation });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: fractionalMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: redeemTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionalTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: pricingLookupAddress,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { VaultProgram } from '../VaultProgram';\n\nexport class RedeemSharesArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = VaultInstructions.RedeemShares;\n}\n\ntype RedeemSharsParams = {\n  burnAuthority: PublicKey;\n  fractionMint: PublicKey;\n  outstandingSharesAccount: PublicKey;\n  proceedsAccount: PublicKey;\n  redeemTreasury: PublicKey;\n  transferAuthority: PublicKey;\n  vault: PublicKey;\n};\n\nexport class RedeemShares extends Transaction {\n  constructor(options: TransactionCtorFields, params: RedeemSharsParams) {\n    super(options);\n    const {\n      vault,\n      burnAuthority,\n      fractionMint,\n      outstandingSharesAccount,\n      proceedsAccount,\n      redeemTreasury,\n      transferAuthority,\n    } = params;\n\n    const data = RedeemSharesArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: outstandingSharesAccount,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: proceedsAccount,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: redeemTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n\n          {\n            pubkey: burnAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { VaultProgram } from '../VaultProgram';\n\nexport class SetVaultAuthorityArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = VaultInstructions.SetVaultAuthority;\n}\n\ntype SetVaultAuthorityParams = {\n  vault: PublicKey;\n  currentAuthority: PublicKey;\n  newAuthority: PublicKey;\n};\n\nexport class SetVaultAuthority extends Transaction {\n  constructor(options: TransactionCtorFields, params: SetVaultAuthorityParams) {\n    super(options);\n    const { vault, currentAuthority, newAuthority } = params;\n\n    const data = SetVaultAuthorityArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: currentAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: newAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { ExternalPriceAccountData } from '../accounts/ExternalPriceAccount';\nimport { VaultProgram } from '../VaultProgram';\n\nexport class UpdateExternalPriceAccountArgs extends Borsh.Data<{\n  externalPriceAccount: ExternalPriceAccountData;\n}> {\n  static readonly SCHEMA = new Map([\n    ...ExternalPriceAccountData.SCHEMA,\n    ...this.struct([\n      ['instruction', 'u8'],\n      ['externalPriceAccount', ExternalPriceAccountData],\n    ]),\n  ]);\n\n  instruction = VaultInstructions.UpdateExternalPriceAccount;\n  externalPriceAccount: ExternalPriceAccountData;\n}\n\ntype UpdateExternalPriceAccountParams = {\n  externalPriceAccount: PublicKey;\n  externalPriceAccountData: ExternalPriceAccountData;\n};\n\nexport class UpdateExternalPriceAccount extends Transaction {\n  constructor(options: TransactionCtorFields, params: UpdateExternalPriceAccountParams) {\n    super(options);\n    const { externalPriceAccount, externalPriceAccountData } = params;\n\n    const data = UpdateExternalPriceAccountArgs.serialize({\n      externalPriceAccount: externalPriceAccountData,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: externalPriceAccount,\n            isSigner: false,\n            isWritable: true,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { PublicKey } from '@solana/web3.js';\nimport { Program } from '../../Program';\nimport { config } from '../../config';\n\nexport enum MetadataKey {\n  Uninitialized = 0,\n  MetadataV1 = 4,\n  EditionV1 = 1,\n  MasterEditionV1 = 2,\n  MasterEditionV2 = 6,\n  EditionMarker = 7,\n}\n\nexport class MetadataProgram extends Program {\n  static readonly PREFIX = 'metadata';\n  static readonly PUBKEY = new PublicKey(config.programs.metadata);\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { NumberOfShareArgs } from '../accounts/Vault';\nimport { VaultProgram } from '../VaultProgram';\n\ntype AddSharesToTreasuryParams = {\n  vault: PublicKey;\n  source: PublicKey;\n  fractionTreasury: PublicKey;\n  vaultAuthority: PublicKey;\n  transferAuthority: PublicKey;\n  numberOfShares: BN;\n};\n\nexport class AddSharesToTreasury extends Transaction {\n  constructor(options: TransactionCtorFields, params: ParamsWithStore<AddSharesToTreasuryParams>) {\n    super(options);\n    const { vault, vaultAuthority, source, transferAuthority, fractionTreasury, numberOfShares } =\n      params;\n\n    const data = NumberOfShareArgs.serialize({\n      instruction: VaultInstructions.AddSharesToTreasury,\n      numberOfShares,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: source,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { AmountArgs } from '../accounts/Vault';\nimport { Transaction } from '../../../Transaction';\nimport { VaultProgram } from '../VaultProgram';\nimport { VaultInstructions } from '../VaultProgram';\n\ntype AddTokenToInactiveVaultParams = {\n  vault: PublicKey;\n  vaultAuthority: PublicKey;\n  tokenAccount: PublicKey;\n  tokenStoreAccount: PublicKey;\n  transferAuthority: PublicKey;\n  safetyDepositBox: PublicKey;\n  amount: BN;\n};\n\nexport class AddTokenToInactiveVault extends Transaction {\n  constructor(options: TransactionCtorFields, params: AddTokenToInactiveVaultParams) {\n    super(options);\n    const { feePayer } = options;\n    const {\n      vault,\n      vaultAuthority,\n      tokenAccount,\n      tokenStoreAccount,\n      transferAuthority,\n      safetyDepositBox,\n      amount,\n    } = params;\n\n    const data = AmountArgs.serialize({\n      instruction: VaultInstructions.AddTokenToInactiveVault,\n      amount,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: safetyDepositBox,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: tokenAccount,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: tokenStoreAccount,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { NumberOfShareArgs } from '../accounts/Vault';\nimport { VaultProgram } from '../VaultProgram';\n\ntype MintFractionalSharesParams = {\n  vault: PublicKey;\n  fractionMint: PublicKey;\n  fractionMintAuthority: PublicKey;\n  fractionTreasury: PublicKey;\n  vaultAuthority: PublicKey;\n  numberOfShares: BN;\n};\n\nexport class MintFractionalShares extends Transaction {\n  constructor(options: TransactionCtorFields, params: ParamsWithStore<MintFractionalSharesParams>) {\n    super(options);\n    const {\n      vault,\n      vaultAuthority,\n      fractionMint,\n      fractionTreasury,\n      fractionMintAuthority,\n      numberOfShares,\n    } = params;\n\n    const data = NumberOfShareArgs.serialize({\n      instruction: VaultInstructions.MintFractionalShares,\n      numberOfShares,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: fractionTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: fractionMintAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { NumberOfShareArgs } from '../accounts/Vault';\nimport { VaultProgram } from '../VaultProgram';\n\ntype WithdrawSharesFromTreasuryParams = {\n  vault: PublicKey;\n  destination: PublicKey;\n  fractionTreasury: PublicKey;\n  vaultAuthority: PublicKey;\n  transferAuthority: PublicKey;\n  numberOfShares: BN;\n};\n\nexport class WithdrawSharesFromTreasury extends Transaction {\n  constructor(\n    options: TransactionCtorFields,\n    params: ParamsWithStore<WithdrawSharesFromTreasuryParams>,\n  ) {\n    super(options);\n    const {\n      vault,\n      vaultAuthority,\n      destination,\n      transferAuthority,\n      fractionTreasury,\n      numberOfShares,\n    } = params;\n\n    const data = NumberOfShareArgs.serialize({\n      instruction: VaultInstructions.WithdrawSharesFromTreasury,\n      numberOfShares,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: destination,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { AmountArgs } from '../accounts/Vault';\nimport { VaultProgram } from '../VaultProgram';\n\ntype WithdrawTokenFromSafetyDepositBoxParams = {\n  vault: PublicKey;\n  destination: PublicKey;\n  safetyDepositBox: PublicKey;\n  fractionMint: PublicKey;\n  vaultAuthority: PublicKey;\n  transferAuthority: PublicKey;\n  amount: BN;\n};\n\nexport class WithdrawTokenFromSafetyDepositBox extends Transaction {\n  constructor(\n    options: TransactionCtorFields,\n    params: ParamsWithStore<WithdrawTokenFromSafetyDepositBoxParams>,\n  ) {\n    super(options);\n    const {\n      vault,\n      vaultAuthority,\n      store,\n      destination,\n      fractionMint,\n      transferAuthority,\n      safetyDepositBox,\n      amount,\n    } = params;\n\n    const data = AmountArgs.serialize({\n      instruction: VaultInstructions.WithdrawTokenFromSafetyDepositBox,\n      amount,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: destination,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: safetyDepositBox,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { MetadataProgram, MetadataKey } from '../MetadataProgram';\nimport { AccountInfo, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Account } from '../../../Account';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = { key: MetadataKey; parent: StringPublicKey; edition: BN };\nexport class EditionData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['parent', 'pubkeyAsString'],\n    ['edition', 'u64'],\n  ]);\n  key: MetadataKey;\n  /// Points at MasterEdition struct\n  parent: StringPublicKey;\n  /// Starting at 0 for master record, this is incremented for each edition minted.\n  edition: BN;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetadataKey.EditionV1;\n  }\n}\n\nexport class Edition extends Account<EditionData> {\n  static readonly EDITION_PREFIX = 'edition';\n\n  constructor(key: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(key, info);\n\n    if (!this.assertOwner(MetadataProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!Edition.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = EditionData.deserialize(this.info.data);\n  }\n\n  static async getPDA(mint: AnyPublicKey) {\n    return MetadataProgram.findProgramAddress([\n      Buffer.from(MetadataProgram.PREFIX),\n      MetadataProgram.PUBKEY.toBuffer(),\n      new PublicKey(mint).toBuffer(),\n      Buffer.from(Edition.EDITION_PREFIX),\n    ]);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetadataKey.EditionV1;\n  }\n}\n","import { AccountInfo, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { AnyPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { Account } from '../../../Account';\nimport { Edition } from './Edition';\nimport { MetadataKey, MetadataProgram } from '../MetadataProgram';\nimport { Buffer } from 'buffer';\n\ntype Args = { key: MetadataKey; ledger: number[] };\nexport class EditionMarkerData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['ledger', [31]],\n  ]);\n\n  key: MetadataKey;\n  ledger: number[];\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetadataKey.EditionMarker;\n  }\n\n  editionTaken(edition: number) {\n    const editionOffset = edition % EditionMarker.DATA_SIZE;\n    const indexOffset = Math.floor(editionOffset / 8);\n\n    if (indexOffset > 30) {\n      throw Error('Bad index for edition');\n    }\n\n    const positionInBitsetFromRight = 7 - (editionOffset % 8);\n    const mask = Math.pow(2, positionInBitsetFromRight);\n    const appliedMask = this.ledger[indexOffset] & mask;\n\n    return appliedMask != 0;\n  }\n}\n\nexport class EditionMarker extends Account<EditionMarkerData> {\n  static readonly DATA_SIZE = 248;\n\n  constructor(key: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(key, info);\n\n    if (!this.assertOwner(MetadataProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!EditionMarker.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = EditionMarkerData.deserialize(this.info.data);\n  }\n\n  static async getPDA(mint: AnyPublicKey, edition: BN) {\n    const editionNumber = Math.floor(edition.toNumber() / 248);\n\n    return MetadataProgram.findProgramAddress([\n      Buffer.from(MetadataProgram.PREFIX),\n      MetadataProgram.PUBKEY.toBuffer(),\n      new PublicKey(mint).toBuffer(),\n      Buffer.from(Edition.EDITION_PREFIX),\n      Buffer.from(editionNumber.toString()),\n    ]);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetadataKey.EditionMarker;\n  }\n}\n","import { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport bs58 from 'bs58';\nimport { Account } from '../../../Account';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { Edition } from './Edition';\nimport { MetadataKey, MetadataProgram } from '../MetadataProgram';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype ArgsV1 = {\n  key: MetadataKey;\n  supply: BN;\n  maxSupply?: BN;\n  printingMint: StringPublicKey;\n  oneTimePrintingAuthorizationMint: StringPublicKey;\n};\nexport class MasterEditionV1Data extends Borsh.Data<ArgsV1> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['supply', 'u64'],\n    ['maxSupply', { kind: 'option', type: 'u64' }],\n    ['printingMint', 'pubkeyAsString'],\n    ['oneTimePrintingAuthorizationMint', 'pubkeyAsString'],\n  ]);\n\n  key: MetadataKey;\n  supply: BN;\n  maxSupply?: BN;\n  /// Can be used to mint tokens that give one-time permission to mint a single limited edition.\n  printingMint: StringPublicKey;\n  /// If you don't know how many printing tokens you are going to need, but you do know\n  /// you are going to need some amount in the future, you can use a token from this mint.\n  /// Coming back to token metadata with one of these tokens allows you to mint (one time)\n  /// any number of printing tokens you want. This is used for instance by Auction Manager\n  /// with participation NFTs, where we dont know how many people will bid and need participation\n  /// printing tokens to redeem, so we give it ONE of these tokens to use after the auction is over,\n  /// because when the auction begins we just dont know how many printing tokens we will need,\n  /// but at the end we will. At the end it then burns this token with token-metadata to\n  /// get the printing tokens it needs to give to bidders. Each bidder then redeems a printing token\n  /// to get their limited editions.\n  oneTimePrintingAuthorizationMint: StringPublicKey;\n\n  constructor(args: ArgsV1) {\n    super(args);\n    this.key = MetadataKey.MasterEditionV1;\n  }\n}\n\ntype ArgsV2 = { key: MetadataKey; supply: BN; maxSupply?: BN };\nexport class MasterEditionV2Data extends Borsh.Data<ArgsV2> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['supply', 'u64'],\n    ['maxSupply', { kind: 'option', type: 'u64' }],\n  ]);\n\n  key: MetadataKey;\n  supply: BN;\n  maxSupply?: BN;\n\n  constructor(args: ArgsV2) {\n    super(args);\n    this.key = MetadataKey.MasterEditionV2;\n  }\n}\n\nexport type MasterEditionData = MasterEditionV1Data | MasterEditionV2Data;\n\nexport class MasterEdition extends Account<MasterEditionData> {\n  static readonly EDITION_PREFIX = 'edition';\n\n  constructor(key: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(key, info);\n\n    if (!this.assertOwner(MetadataProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (MasterEdition.isMasterEditionV1(this.info.data)) {\n      this.data = MasterEditionV1Data.deserialize(this.info.data);\n    } else if (MasterEdition.isMasterEditionV2(this.info.data)) {\n      this.data = MasterEditionV2Data.deserialize(this.info.data);\n    } else {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n  }\n\n  static async getPDA(mint: AnyPublicKey) {\n    return MetadataProgram.findProgramAddress([\n      Buffer.from(MetadataProgram.PREFIX),\n      MetadataProgram.PUBKEY.toBuffer(),\n      new PublicKey(mint).toBuffer(),\n      Buffer.from(MasterEdition.EDITION_PREFIX),\n    ]);\n  }\n\n  static isCompatible(data: Buffer) {\n    return MasterEdition.isMasterEditionV1(data) || MasterEdition.isMasterEditionV2(data);\n  }\n\n  static isMasterEditionV1(data: Buffer) {\n    return data[0] === MetadataKey.MasterEditionV1;\n  }\n\n  static isMasterEditionV2(data: Buffer) {\n    return data[0] === MetadataKey.MasterEditionV2;\n  }\n\n  async getEditions(connection: Connection) {\n    return (\n      await MetadataProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for EditionV1 by key\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(Buffer.from([MetadataKey.EditionV1])),\n            },\n          },\n          // Filter for assigned to this master edition\n          {\n            memcmp: {\n              offset: 1,\n              bytes: this.pubkey.toBase58(),\n            },\n          },\n        ],\n      })\n    ).map((account) => Edition.from(account));\n  }\n}\n","import { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { AnyPublicKey } from '@metaplex/types';\nimport {\n  AccountInfo as TokenAccountInfo,\n  AccountLayout,\n  TOKEN_PROGRAM_ID,\n  u64,\n} from '@solana/spl-token';\nimport { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport { Buffer } from 'buffer';\nimport { Account } from '../../../Account';\n\nexport class TokenAccount extends Account<TokenAccountInfo> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(TOKEN_PROGRAM_ID)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!TokenAccount.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data.length === AccountLayout.span;\n  }\n\n  static async getTokenAccountsByOwner(connection: Connection, owner: AnyPublicKey) {\n    return (\n      await connection.getTokenAccountsByOwner(new PublicKey(owner), {\n        programId: TOKEN_PROGRAM_ID,\n      })\n    ).value.map(({ pubkey, account }) => new TokenAccount(pubkey, account));\n  }\n}\n\nexport const deserialize = (data: Buffer) => {\n  const accountInfo = AccountLayout.decode(data);\n  accountInfo.mint = new PublicKey(accountInfo.mint);\n  accountInfo.owner = new PublicKey(accountInfo.owner);\n  accountInfo.amount = u64.fromBuffer(accountInfo.amount);\n\n  if (accountInfo.delegateOption === 0) {\n    accountInfo.delegate = null;\n    accountInfo.delegatedAmount = new u64(0);\n  } else {\n    accountInfo.delegate = new PublicKey(accountInfo.delegate);\n    accountInfo.delegatedAmount = u64.fromBuffer(accountInfo.delegatedAmount);\n  }\n\n  accountInfo.isInitialized = accountInfo.state !== 0;\n  accountInfo.isFrozen = accountInfo.state === 2;\n\n  if (accountInfo.isNativeOption === 1) {\n    accountInfo.rentExemptReserve = u64.fromBuffer(accountInfo.isNative);\n    accountInfo.isNative = true;\n  } else {\n    accountInfo.rentExemptReserve = null;\n    accountInfo.isNative = false;\n  }\n\n  if (accountInfo.closeAuthorityOption === 0) {\n    accountInfo.closeAuthority = null;\n  } else {\n    accountInfo.closeAuthority = new PublicKey(accountInfo.closeAuthority);\n  }\n\n  return accountInfo;\n};\n","import { Transaction } from '../../../Transaction';\nimport { MintLayout, Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { PublicKey, SystemProgram, TransactionCtorFields } from '@solana/web3.js';\n\ntype CreateMintParams = {\n  newAccountPubkey: PublicKey;\n  lamports: number;\n  decimals?: number;\n  owner?: PublicKey;\n  freezeAuthority?: PublicKey;\n};\n\nexport class CreateMint extends Transaction {\n  constructor(options: TransactionCtorFields, params: CreateMintParams) {\n    const { feePayer } = options;\n    const { newAccountPubkey, lamports, decimals, owner, freezeAuthority } = params;\n\n    super(options);\n\n    this.add(\n      SystemProgram.createAccount({\n        fromPubkey: feePayer,\n        newAccountPubkey,\n        lamports,\n        space: MintLayout.span,\n        programId: TOKEN_PROGRAM_ID,\n      }),\n    );\n\n    this.add(\n      Token.createInitMintInstruction(\n        TOKEN_PROGRAM_ID,\n        newAccountPubkey,\n        decimals ?? 0,\n        owner ?? feePayer,\n        freezeAuthority ?? feePayer,\n      ),\n    );\n  }\n}\n","import { Transaction } from '../../../Transaction';\nimport { AccountLayout, Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { PublicKey, SystemProgram, TransactionCtorFields } from '@solana/web3.js';\n\ntype CreateTokenAccountParams = {\n  newAccountPubkey: PublicKey;\n  lamports: number;\n  mint: PublicKey;\n  owner?: PublicKey;\n};\n\nexport class CreateTokenAccount extends Transaction {\n  constructor(options: TransactionCtorFields, params: CreateTokenAccountParams) {\n    const { feePayer } = options;\n    const { newAccountPubkey, lamports, mint, owner } = params;\n\n    super(options);\n\n    this.add(\n      SystemProgram.createAccount({\n        fromPubkey: feePayer,\n        newAccountPubkey,\n        lamports,\n        space: AccountLayout.span,\n        programId: TOKEN_PROGRAM_ID,\n      }),\n    );\n\n    this.add(\n      Token.createInitAccountInstruction(\n        TOKEN_PROGRAM_ID,\n        mint,\n        newAccountPubkey,\n        owner ?? feePayer,\n      ),\n    );\n  }\n}\n","import { Transaction } from '../../../Transaction';\nimport { ASSOCIATED_TOKEN_PROGRAM_ID, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Buffer } from 'buffer';\n\ntype CreateAssociatedTokenAccountParams = {\n  associatedTokenAddress: PublicKey;\n  walletAddress?: PublicKey;\n  splTokenMintAddress: PublicKey;\n};\n\nexport class CreateAssociatedTokenAccount extends Transaction {\n  constructor(options: TransactionCtorFields, params: CreateAssociatedTokenAccountParams) {\n    const { feePayer } = options;\n    const { associatedTokenAddress, walletAddress, splTokenMintAddress } = params;\n    super(options);\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: true,\n          },\n          {\n            pubkey: associatedTokenAddress,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: walletAddress ?? feePayer,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: splTokenMintAddress,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: ASSOCIATED_TOKEN_PROGRAM_ID,\n        data: Buffer.from([]),\n      }),\n    );\n  }\n}\n","import { Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { PublicKey, TransactionCtorFields } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Transaction } from '../../../Transaction';\n\ntype MintToParams = {\n  mint: PublicKey;\n  dest: PublicKey;\n  amount: number | BN;\n  authority?: PublicKey;\n};\n\nexport class MintTo extends Transaction {\n  constructor(options: TransactionCtorFields, params: MintToParams) {\n    const { feePayer } = options;\n    const { mint, dest, authority, amount } = params;\n\n    super(options);\n\n    this.add(\n      Token.createMintToInstruction(\n        TOKEN_PROGRAM_ID,\n        mint,\n        dest,\n        authority ?? feePayer,\n        [],\n        new BN(amount).toNumber(),\n      ),\n    );\n  }\n}\n","import { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport bs58 from 'bs58';\nimport { Buffer } from 'buffer';\nimport { config } from '../../../config';\nimport { Account } from '../../../Account';\nimport { TokenAccount } from '../../shared';\nimport { MetadataKey, MetadataProgram } from '../MetadataProgram';\nimport { Edition } from './Edition';\nimport { MasterEdition } from './MasterEdition';\n\ntype CreatorArgs = { address: StringPublicKey; verified: boolean; share: number };\nexport class Creator extends Borsh.Data<CreatorArgs> {\n  static readonly SCHEMA = this.struct([\n    ['address', 'pubkeyAsString'],\n    ['verified', 'u8'],\n    ['share', 'u8'],\n  ]);\n\n  address: StringPublicKey;\n  verified: boolean;\n  share: number;\n}\n\ntype DataArgs = {\n  name: string;\n  symbol: string;\n  uri: string;\n  sellerFeeBasisPoints: number;\n  creators: Creator[] | null;\n};\nexport class MetadataDataData extends Borsh.Data<DataArgs> {\n  static readonly SCHEMA = new Map([\n    ...Creator.SCHEMA,\n    ...this.struct([\n      ['name', 'string'],\n      ['symbol', 'string'],\n      ['uri', 'string'],\n      ['sellerFeeBasisPoints', 'u16'],\n      ['creators', { kind: 'option', type: [Creator] }],\n    ]),\n  ]);\n\n  name: string;\n  symbol: string;\n  uri: string;\n  sellerFeeBasisPoints: number;\n  creators: Creator[] | null;\n\n  constructor(args: DataArgs) {\n    super(args);\n\n    const METADATA_REPLACE = new RegExp('\\u0000', 'g');\n    this.name = args.name.replace(METADATA_REPLACE, '');\n    this.uri = args.uri.replace(METADATA_REPLACE, '');\n    this.symbol = args.symbol.replace(METADATA_REPLACE, '');\n  }\n}\n\ntype Args = {\n  updateAuthority: StringPublicKey;\n  mint: StringPublicKey;\n  data: MetadataDataData;\n  primarySaleHappened: boolean;\n  isMutable: boolean;\n  editionNonce: number | null;\n};\nexport class MetadataData extends Borsh.Data<Args> {\n  static readonly SCHEMA = new Map([\n    ...MetadataDataData.SCHEMA,\n    ...this.struct([\n      ['key', 'u8'],\n      ['updateAuthority', 'pubkeyAsString'],\n      ['mint', 'pubkeyAsString'],\n      ['data', MetadataDataData],\n      ['primarySaleHappened', 'u8'], // bool\n      ['isMutable', 'u8'], // bool\n    ]),\n  ]);\n\n  key: MetadataKey;\n  updateAuthority: StringPublicKey;\n  mint: StringPublicKey;\n  data: MetadataDataData;\n  primarySaleHappened: boolean;\n  isMutable: boolean;\n  editionNonce: number | null;\n\n  // set lazy\n  masterEdition?: StringPublicKey;\n  edition?: StringPublicKey;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetadataKey.MetadataV1;\n  }\n}\n\nexport class Metadata extends Account<MetadataData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetadataProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!Metadata.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = MetadataData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetadataKey.MetadataV1;\n  }\n\n  static async getPDA(mint: AnyPublicKey) {\n    return MetadataProgram.findProgramAddress([\n      Buffer.from(MetadataProgram.PREFIX),\n      MetadataProgram.PUBKEY.toBuffer(),\n      new PublicKey(mint).toBuffer(),\n    ]);\n  }\n\n  static async findMany(\n    connection: Connection,\n    filters: {\n      mint?: AnyPublicKey;\n      updateAuthority?: AnyPublicKey;\n      creators?: AnyPublicKey[];\n    } = {},\n  ) {\n    const baseFilters = [\n      // Filter for MetadataV1 by key\n      {\n        memcmp: {\n          offset: 0,\n          bytes: bs58.encode(Buffer.from([MetadataKey.MetadataV1])),\n        },\n      },\n      // Filter for assigned to update authority\n      filters.updateAuthority && {\n        memcmp: {\n          offset: 1,\n          bytes: new PublicKey(filters.updateAuthority).toBase58(),\n        },\n      },\n      // Filter for assigned to mint\n      filters.mint && {\n        memcmp: {\n          offset: 33,\n          bytes: new PublicKey(filters.mint).toBase58(),\n        },\n      },\n    ].filter(Boolean);\n\n    if (filters.creators) {\n      return (\n        await Promise.all(\n          Array.from(Array(config.maxCreatorLimit).keys()).reduce(\n            (prev, i) => [\n              ...prev,\n              ...filters.creators.map((pubkey) =>\n                MetadataProgram.getProgramAccounts(connection, {\n                  filters: [\n                    ...baseFilters,\n                    {\n                      memcmp: {\n                        offset: computeCreatorOffset(i),\n                        bytes: new PublicKey(pubkey).toBase58(),\n                      },\n                    },\n                  ],\n                }),\n              ),\n            ],\n            [],\n          ),\n        )\n      )\n        .flat()\n        .map((account) => Metadata.from(account));\n    } else {\n      return (await MetadataProgram.getProgramAccounts(connection, { filters: baseFilters })).map(\n        (account) => Metadata.from(account),\n      );\n    }\n  }\n\n  static async findByOwner(connection: Connection, owner: AnyPublicKey) {\n    const accounts = await TokenAccount.getTokenAccountsByOwner(connection, owner);\n    const accountMap = new Map(accounts.map(({ data }) => [data.mint.toString(), data]));\n    // Slow method\n    const allMetadata = await Metadata.findMany(connection);\n\n    return allMetadata.filter(\n      (metadata) =>\n        accountMap.has(metadata.data.mint) &&\n        (accountMap?.get(metadata.data.mint)?.amount?.toNumber() || 0) > 0,\n    );\n  }\n\n  static async findByOwnerV2(connection: Connection, owner: AnyPublicKey) {\n    const accounts = await TokenAccount.getTokenAccountsByOwner(connection, owner);\n    const accountsWithAmount = accounts\n      .map(({ data }) => data)\n      .filter(({ amount }) => amount?.toNumber() > 0);\n\n    return (\n      await Promise.all(\n        accountsWithAmount.map(({ mint }) => Metadata.findMany(connection, { mint })),\n      )\n    ).flat();\n  }\n\n  static async findDataByOwner(\n    connection: Connection,\n    owner: AnyPublicKey,\n  ): Promise<MetadataData[]> {\n    const accounts = await TokenAccount.getTokenAccountsByOwner(connection, owner);\n\n    const metadataPdaLookups = accounts.reduce((memo, { data }) => {\n      // Only include tokens where amount equal to 1.\n      // Note: This is not the same as mint supply.\n      // NFTs by definition have supply of 1, but an account balance > 1 implies a mint supply > 1.\n      return data.amount?.eq(new BN(1)) ? [...memo, Metadata.getPDA(data.mint)] : memo;\n    }, []);\n\n    const metadataAddresses = await Promise.all(metadataPdaLookups);\n    const tokenInfo = await Account.getInfos(connection, metadataAddresses);\n    return Array.from(tokenInfo.values()).map((m) => MetadataData.deserialize(m.data));\n  }\n\n  static async getEdition(connection: Connection, mint: AnyPublicKey) {\n    const pda = await Edition.getPDA(mint);\n    const info = await Account.getInfo(connection, pda);\n    const key = info?.data[0];\n\n    switch (key) {\n      case MetadataKey.EditionV1:\n        return new Edition(pda, info);\n      case MetadataKey.MasterEditionV1:\n      case MetadataKey.MasterEditionV2:\n        return new MasterEdition(pda, info);\n      default:\n        return;\n    }\n  }\n}\n\nexport const MAX_NAME_LENGTH = 32;\nexport const MAX_SYMBOL_LENGTH = 10;\nexport const MAX_URI_LENGTH = 200;\nexport const MAX_CREATOR_LEN = 32 + 1 + 1;\n\nexport const computeCreatorOffset = (index: number) => {\n  return (\n    1 + // key\n    32 + // update auth\n    32 + // mint\n    4 + // name string length\n    MAX_NAME_LENGTH + // name\n    4 + // uri string length\n    MAX_URI_LENGTH + // uri\n    4 + // symbol string length\n    MAX_SYMBOL_LENGTH + // symbol\n    2 + // seller fee basis points\n    1 + // whether or not there is a creators vec\n    4 + // creators vec length\n    index * MAX_CREATOR_LEN\n  );\n};\n","import { Borsh } from '@metaplex/utils';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataDataData } from '../accounts/Metadata';\nimport { MetadataProgram } from '../MetadataProgram';\n\nexport class CreateMetadataArgs extends Borsh.Data<{ data: MetadataDataData; isMutable: boolean }> {\n  static readonly SCHEMA = new Map([\n    ...MetadataDataData.SCHEMA,\n    ...this.struct([\n      ['instruction', 'u8'],\n      ['data', MetadataDataData],\n      ['isMutable', 'u8'],\n    ]),\n  ]);\n\n  instruction = 0;\n  data: MetadataDataData;\n  isMutable: boolean;\n}\n\ntype CreateMetadataParams = {\n  metadata: PublicKey;\n  metadataData: MetadataDataData;\n  updateAuthority: PublicKey;\n  mint: PublicKey;\n  mintAuthority: PublicKey;\n};\n\nexport class CreateMetadata extends Transaction {\n  constructor(options: TransactionCtorFields, params: CreateMetadataParams) {\n    super(options);\n    const { feePayer } = options;\n    const { metadata, metadataData, updateAuthority, mint, mintAuthority } = params;\n\n    const data = CreateMetadataArgs.serialize({\n      data: metadataData,\n      isMutable: true,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: metadata,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: mint,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: mintAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: updateAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetadataProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataDataData } from '../accounts/Metadata';\nimport { MetadataProgram } from '../MetadataProgram';\n\nexport class UpdateMetadataArgs extends Borsh.Data<{\n  data?: MetadataDataData;\n  updateAuthority?: string;\n  primarySaleHappened: boolean | null;\n}> {\n  static readonly SCHEMA = new Map([\n    ...MetadataDataData.SCHEMA,\n    ...this.struct([\n      ['instruction', 'u8'],\n      ['data', { kind: 'option', type: MetadataDataData }],\n      ['updateAuthority', { kind: 'option', type: 'pubkeyAsString' }],\n      ['primarySaleHappened', { kind: 'option', type: 'u8' }],\n    ]),\n  ]);\n\n  instruction = 1;\n  // NOTE: do not add \"=null\". This breaks serialization.\n  data: MetadataDataData | null;\n  updateAuthority: string | null;\n  primarySaleHappened: boolean | null;\n}\n\ntype UpdateMetadataParams = {\n  metadata: PublicKey;\n  updateAuthority: PublicKey;\n  metadataData?: MetadataDataData;\n  newUpdateAuthority?: PublicKey;\n  primarySaleHappened?: boolean | null;\n};\n\nexport class UpdateMetadata extends Transaction {\n  constructor(options: TransactionCtorFields, params: UpdateMetadataParams) {\n    super(options);\n    const { metadata, metadataData, updateAuthority, newUpdateAuthority, primarySaleHappened } =\n      params;\n\n    const data = UpdateMetadataArgs.serialize({\n      data: metadataData,\n      updateAuthority: newUpdateAuthority && newUpdateAuthority.toString(),\n      primarySaleHappened: primarySaleHappened || null,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: metadata,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: updateAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n        ],\n        programId: MetadataProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataProgram } from '../MetadataProgram';\n\nexport class CreateMasterEditionArgs extends Borsh.Data<{ maxSupply: BN | null }> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['maxSupply', { kind: 'option', type: 'u64' }],\n  ]);\n\n  instruction = 10;\n  maxSupply: BN | null;\n}\n\ntype CreateMasterEditionParams = {\n  edition: PublicKey;\n  metadata: PublicKey;\n  updateAuthority: PublicKey;\n  mint: PublicKey;\n  mintAuthority: PublicKey;\n  maxSupply?: BN;\n};\n\nexport class CreateMasterEdition extends Transaction {\n  constructor(options: TransactionCtorFields, params: CreateMasterEditionParams) {\n    super(options);\n    const { feePayer } = options;\n    const { edition, metadata, updateAuthority, mint, mintAuthority, maxSupply } = params;\n\n    const data = CreateMasterEditionArgs.serialize({\n      maxSupply: maxSupply || null,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: edition,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: mint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: updateAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: mintAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: metadata,\n            isSigner: false,\n            isWritable: false,\n          },\n\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetadataProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataProgram } from '../MetadataProgram';\n\nexport class MintNewEditionFromMasterEditionViaTokenArgs extends Borsh.Data<{ edition: BN }> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['edition', 'u64'],\n  ]);\n\n  instruction = 11;\n  edition: BN;\n}\n\ntype MintNewEditionFromMasterEditionViaTokenParams = {\n  edition: PublicKey;\n  metadata: PublicKey;\n  updateAuthority: PublicKey;\n  mint: PublicKey;\n  mintAuthority: PublicKey;\n  masterEdition: PublicKey;\n  masterMetadata: PublicKey;\n  editionMarker: PublicKey;\n  tokenOwner: PublicKey;\n  tokenAccount: PublicKey;\n  editionValue: BN;\n};\n\nexport class MintNewEditionFromMasterEditionViaToken extends Transaction {\n  constructor(\n    options: TransactionCtorFields,\n    params: MintNewEditionFromMasterEditionViaTokenParams,\n  ) {\n    super(options);\n    const { feePayer } = options;\n    const {\n      edition,\n      metadata,\n      updateAuthority,\n      masterEdition,\n      masterMetadata,\n      mint,\n      editionMarker,\n      mintAuthority,\n      tokenOwner,\n      tokenAccount,\n      editionValue,\n    } = params;\n\n    const data = MintNewEditionFromMasterEditionViaTokenArgs.serialize({\n      edition: editionValue,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: metadata,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: edition,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: masterEdition,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: mint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: editionMarker,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: mintAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: tokenOwner,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: tokenAccount,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: updateAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: masterMetadata,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetadataProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataProgram } from '../MetadataProgram';\n\nexport class UpdatePrimarySaleHappenedViaTokenArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = 4;\n}\n\ntype UpdatePrimarySaleHappenedViaTokenParams = {\n  metadata: PublicKey;\n  owner: PublicKey;\n  tokenAccount: PublicKey;\n};\n\nexport class UpdatePrimarySaleHappenedViaToken extends Transaction {\n  constructor(options: TransactionCtorFields, params: UpdatePrimarySaleHappenedViaTokenParams) {\n    super(options);\n    const { metadata, owner, tokenAccount } = params;\n\n    const data = UpdatePrimarySaleHappenedViaTokenArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: metadata,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: owner,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: tokenAccount,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetadataProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataProgram } from '../MetadataProgram';\n\nexport class SignMetadataArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = 7;\n}\n\ntype SignMetadataParams = {\n  metadata: PublicKey;\n  creator: PublicKey;\n};\n\nexport class SignMetadata extends Transaction {\n  constructor(options: TransactionCtorFields, params: SignMetadataParams) {\n    super(options);\n    const { metadata, creator } = params;\n\n    const data = SignMetadataArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: metadata,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: creator,\n            isSigner: true,\n            isWritable: false,\n          },\n        ],\n        programId: MetadataProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataProgram } from '../../metadata';\nimport { VaultProgram } from '../../vault';\nimport { MetaplexProgram } from '../MetaplexProgram';\n\nexport class RedeemBidArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = 2;\n}\n\nexport enum ProxyCallAddress {\n  RedeemBid = 0,\n  RedeemFullRightsTransferBid = 1,\n}\n\nexport class RedeemUnusedWinningConfigItemsAsAuctioneerArgs extends Borsh.Data<{\n  winningConfigItemIndex: number;\n  proxyCall: ProxyCallAddress;\n}> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['winningConfigItemIndex', 'u8'],\n    ['proxyCall', 'u8'],\n  ]);\n\n  instruction = 12;\n  winningConfigItemIndex: number;\n  proxyCall: ProxyCallAddress;\n}\n\ntype RedeemBidParams = {\n  vault: PublicKey;\n  auction: PublicKey;\n  auctionManager: PublicKey;\n  bidRedemption: PublicKey;\n  bidderMeta: PublicKey;\n  safetyDepositTokenStore: PublicKey;\n  destination: PublicKey;\n  safetyDeposit: PublicKey;\n  fractionMint: PublicKey;\n  bidder: PublicKey;\n  isPrintingType: boolean;\n  safetyDepositConfig: PublicKey;\n  auctionExtended: PublicKey;\n  transferAuthority: PublicKey;\n  masterEdition?: PublicKey;\n  reservationList?: PublicKey;\n  // If this is an auctioneer trying to reclaim a specific winning index, pass it here,\n  // and this will instead call the proxy route instead of the real one, wrapping the original\n  // redemption call in an override call that forces the winning index if the auctioneer is authorized.\n  auctioneerReclaimIndex?: number;\n};\n\nexport class RedeemBid extends Transaction {\n  constructor(options: TransactionCtorFields, params: ParamsWithStore<RedeemBidParams>) {\n    super(options);\n    const { feePayer } = options;\n    const {\n      store,\n      vault,\n      auction,\n      auctionExtended,\n      auctionManager,\n      bidRedemption,\n      bidderMeta: bidMetadata,\n      safetyDepositTokenStore,\n      destination,\n      safetyDeposit,\n      fractionMint,\n      bidder,\n      isPrintingType,\n      safetyDepositConfig,\n      transferAuthority,\n      masterEdition,\n      reservationList,\n      auctioneerReclaimIndex,\n    } = params;\n\n    const data = auctioneerReclaimIndex\n      ? RedeemUnusedWinningConfigItemsAsAuctioneerArgs.serialize({\n          winningConfigItemIndex: auctioneerReclaimIndex,\n          proxyCall: ProxyCallAddress.RedeemBid,\n        })\n      : RedeemBidArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: auctionManager,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: safetyDepositTokenStore,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: destination,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidRedemption,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: safetyDeposit,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: bidMetadata,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: bidder,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: VaultProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: MetadataProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: safetyDepositConfig,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: auctionExtended,\n            isSigner: false,\n            isWritable: false,\n          },\n          ...(isPrintingType && masterEdition && reservationList\n            ? [\n                {\n                  pubkey: masterEdition,\n                  isSigner: false,\n                  isWritable: true,\n                },\n                {\n                  pubkey: reservationList,\n                  isSigner: false,\n                  isWritable: true,\n                },\n              ]\n            : []),\n        ],\n        programId: MetaplexProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Borsh } from '@metaplex/utils';\nimport { Transaction } from '../../../Transaction';\nimport { VaultProgram } from '../../vault';\nimport { MetadataProgram } from '../../metadata';\nimport { AuctionProgram } from '../../auction';\nimport { MetaplexProgram } from '../MetaplexProgram';\nimport { ParamsWithStore } from '@metaplex/types';\n\nexport class SetStoreArgs extends Borsh.Data<{ public: boolean }> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['public', 'u8'],\n  ]);\n\n  instruction = 8;\n  public: boolean;\n}\n\ntype SetStoreParams = {\n  admin: PublicKey;\n  isPublic: boolean;\n};\n\nexport class SetStore extends Transaction {\n  constructor(options: TransactionCtorFields, params: ParamsWithStore<SetStoreParams>) {\n    super(options);\n    const { feePayer } = options;\n    const { admin, store, isPublic } = params;\n\n    const data = SetStoreArgs.serialize({ public: isPublic });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: admin,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          { pubkey: TOKEN_PROGRAM_ID, isSigner: false, isWritable: false },\n          {\n            pubkey: VaultProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: MetadataProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: AuctionProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetaplexProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetaplexProgram } from '../MetaplexProgram';\n\nexport class SetWhitelistedCreatorArgs extends Borsh.Data<{ activated: boolean }> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['activated', 'u8'],\n  ]);\n\n  instruction = 9;\n  activated: boolean;\n}\n\ntype SetWhitelistedCreatorParams = {\n  admin: PublicKey;\n  whitelistedCreatorPDA: PublicKey;\n  creator: PublicKey;\n  activated: boolean;\n};\n\nexport class SetWhitelistedCreator extends Transaction {\n  constructor(\n    options: TransactionCtorFields,\n    params: ParamsWithStore<SetWhitelistedCreatorParams>,\n  ) {\n    super(options);\n    const { feePayer } = options;\n    const { admin, whitelistedCreatorPDA, store, creator, activated } = params;\n\n    const data = SetWhitelistedCreatorArgs.serialize({ activated });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: whitelistedCreatorPDA,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: admin,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: creator,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetaplexProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport {\n  PublicKey,\n  SYSVAR_CLOCK_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { MetaplexProgram } from '../MetaplexProgram';\nimport { Transaction } from '../../../Transaction';\nimport { AuctionProgram } from '../../auction';\nimport { ParamsWithStore } from '@metaplex/types';\n\nexport class StartAuctionArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = 5;\n}\n\ntype StartAuctionParams = {\n  auction: PublicKey;\n  auctionManager: PublicKey;\n  auctionManagerAuthority: PublicKey;\n};\n\nexport class StartAuction extends Transaction {\n  constructor(options: TransactionCtorFields, params: ParamsWithStore<StartAuctionParams>) {\n    super(options);\n    const { store, auction, auctionManager, auctionManagerAuthority } = params;\n\n    const data = StartAuctionArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: auctionManager,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auctionManagerAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: AuctionProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_CLOCK_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetaplexProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { Borsh, TupleNumericType } from '@metaplex/utils';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetaplexProgram } from '../MetaplexProgram';\n\nexport class InitAuctionManagerV2Args extends Borsh.Data<{\n  amountType: TupleNumericType;\n  lengthType: TupleNumericType;\n  maxRanges: BN;\n}> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['amountType', 'u8'],\n    ['lengthType', 'u8'],\n    ['maxRanges', 'u64'],\n  ]);\n\n  instruction = 17;\n  amountType: TupleNumericType = TupleNumericType.U8;\n  lengthType: TupleNumericType = TupleNumericType.U8;\n  maxRanges: BN = new BN(1);\n}\n\ntype InitAuctionManagerV2Params = {\n  vault: PublicKey;\n  auction: PublicKey;\n  auctionManager: PublicKey;\n  auctionManagerAuthority: PublicKey;\n  acceptPaymentAccount: PublicKey;\n  tokenTracker: PublicKey;\n  amountType: TupleNumericType;\n  lengthType: TupleNumericType;\n  maxRanges: BN;\n};\n\nexport class InitAuctionManagerV2 extends Transaction {\n  constructor(options: TransactionCtorFields, params: ParamsWithStore<InitAuctionManagerV2Params>) {\n    super(options);\n    const { feePayer } = options;\n    const {\n      store,\n      vault,\n      auction,\n      auctionManager,\n      auctionManagerAuthority,\n      acceptPaymentAccount,\n      tokenTracker,\n      amountType,\n      lengthType,\n      maxRanges,\n    } = params;\n\n    const data = InitAuctionManagerV2Args.serialize({ amountType, lengthType, maxRanges });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: auctionManager,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: tokenTracker,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: false,\n          },\n\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: auctionManagerAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: acceptPaymentAccount,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetaplexProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SYSVAR_CLOCK_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { AuctionProgram } from '../../auction';\nimport { MetaplexProgram } from '../MetaplexProgram';\n\nexport class ClaimBidArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = 6;\n}\n\ntype ClaimBidParams = {\n  vault: PublicKey;\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  auctionManager: PublicKey;\n  acceptPayment: PublicKey;\n  bidder: PublicKey;\n  bidderPot: PublicKey;\n  bidderPotToken: PublicKey;\n  tokenMint: PublicKey;\n};\n\nexport class ClaimBid extends Transaction {\n  constructor(options: TransactionCtorFields, params: ParamsWithStore<ClaimBidParams>) {\n    super(options);\n    const {\n      store,\n      vault,\n      auction,\n      auctionExtended,\n      auctionManager,\n      bidder,\n      bidderPot,\n      bidderPotToken,\n      acceptPayment,\n      tokenMint,\n    } = params;\n\n    const data = ClaimBidArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: acceptPayment,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderPotToken,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderPot,\n            isSigner: false,\n            isWritable: true,\n          },\n\n          {\n            pubkey: auctionManager,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: bidder,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: tokenMint,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: AuctionProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_CLOCK_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: auctionExtended,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetaplexProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataProgram } from '../../metadata';\nimport { VaultProgram } from '../../vault';\nimport { MetaplexProgram } from '../MetaplexProgram';\nimport { ProxyCallAddress, RedeemUnusedWinningConfigItemsAsAuctioneerArgs } from './RedeemBid';\n\nexport class RedeemFullRightsTransferBidArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = 3;\n}\n\ntype RedeemFullRightsTransferBidParams = {\n  vault: PublicKey;\n  auction: PublicKey;\n  auctionManager: PublicKey;\n  bidRedemption: PublicKey;\n  bidMetadata: PublicKey;\n  safetyDepositTokenStore: PublicKey;\n  destination: PublicKey;\n  safetyDeposit: PublicKey;\n  fractionMint: PublicKey;\n  bidder: PublicKey;\n  safetyDepositConfig: PublicKey;\n  auctionExtended: PublicKey;\n  transferAuthority: PublicKey;\n  masterMetadata: PublicKey;\n  newAuthority: PublicKey;\n  auctioneerReclaimIndex?: number;\n};\n\nexport class RedeemFullRightsTransferBid extends Transaction {\n  constructor(\n    options: TransactionCtorFields,\n    params: ParamsWithStore<RedeemFullRightsTransferBidParams>,\n  ) {\n    super(options);\n    const { feePayer } = options;\n    const {\n      store,\n      vault,\n      auction,\n      auctionExtended,\n      auctionManager,\n      bidRedemption,\n      bidMetadata,\n      safetyDepositTokenStore,\n      destination,\n      safetyDeposit,\n      fractionMint,\n      bidder,\n      safetyDepositConfig,\n      transferAuthority,\n      masterMetadata,\n      newAuthority,\n      auctioneerReclaimIndex,\n    } = params;\n\n    const data = auctioneerReclaimIndex\n      ? RedeemUnusedWinningConfigItemsAsAuctioneerArgs.serialize({\n          winningConfigItemIndex: auctioneerReclaimIndex,\n          proxyCall: ProxyCallAddress.RedeemFullRightsTransferBid,\n        })\n      : RedeemFullRightsTransferBidArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: auctionManager,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: safetyDepositTokenStore,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: destination,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidRedemption,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: safetyDeposit,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: bidMetadata,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: bidder,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: VaultProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: MetadataProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: masterMetadata,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: newAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: safetyDepositConfig,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: auctionExtended,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetaplexProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Transaction } from '../../../Transaction';\nimport {\n  PublicKey,\n  SystemProgram,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { config } from '../../../config';\nimport { Buffer } from 'buffer';\n\ntype PayForFilesParams = {\n  lamports: number;\n  fileHashes: Buffer[];\n  arweaveWallet?: PublicKey;\n};\n\nexport class PayForFiles extends Transaction {\n  constructor(options: TransactionCtorFields, params: PayForFilesParams) {\n    const { feePayer } = options;\n    const { lamports, fileHashes, arweaveWallet } = params;\n\n    super(options);\n\n    this.add(\n      SystemProgram.transfer({\n        fromPubkey: feePayer,\n        toPubkey: arweaveWallet ?? new PublicKey(config.arweaveWallet),\n        lamports,\n      }),\n    );\n\n    fileHashes.forEach((data) => {\n      this.add(\n        new TransactionInstruction({\n          keys: [],\n          programId: new PublicKey(config.programs.memo),\n          data,\n        }),\n      );\n    });\n  }\n}\n","import { Connection, Keypair, PublicKey } from '@solana/web3.js';\nimport {\n  ASSOCIATED_TOKEN_PROGRAM_ID,\n  MintLayout,\n  Token,\n  TOKEN_PROGRAM_ID,\n} from '@solana/spl-token';\nimport { CreateAssociatedTokenAccount, CreateMint, MintTo } from '../../programs';\n\nexport async function prepareTokenAccountAndMintTx(connection: Connection, owner: PublicKey) {\n  const mint = Keypair.generate();\n  const mintRent = await connection.getMinimumBalanceForRentExemption(MintLayout.span);\n  const createMintTx = new CreateMint(\n    { feePayer: owner },\n    {\n      newAccountPubkey: mint.publicKey,\n      lamports: mintRent,\n    },\n  );\n\n  const recipient = await Token.getAssociatedTokenAddress(\n    ASSOCIATED_TOKEN_PROGRAM_ID,\n    TOKEN_PROGRAM_ID,\n    mint.publicKey,\n    owner,\n  );\n\n  const createAssociatedTokenAccountTx = new CreateAssociatedTokenAccount(\n    { feePayer: owner },\n    {\n      associatedTokenAddress: recipient,\n      splTokenMintAddress: mint.publicKey,\n    },\n  );\n\n  const mintToTx = new MintTo(\n    { feePayer: owner },\n    {\n      mint: mint.publicKey,\n      dest: recipient,\n      amount: 1,\n    },\n  );\n\n  return { mint, createMintTx, createAssociatedTokenAccountTx, mintToTx };\n}\n","import { Keypair } from '@solana/web3.js';\nimport { Transaction } from '../Transaction';\n\ninterface TransactionsBatchParams {\n  beforeTransactions?: Transaction[];\n  transactions: Transaction[];\n  afterTransactions?: Transaction[];\n}\n\nexport class TransactionsBatch {\n  beforeTransactions: Transaction[];\n  transactions: Transaction[];\n  afterTransactions: Transaction[];\n\n  signers: Keypair[] = [];\n\n  constructor({\n    beforeTransactions = [],\n    transactions,\n    afterTransactions = [],\n  }: TransactionsBatchParams) {\n    this.beforeTransactions = beforeTransactions;\n    this.transactions = transactions;\n    this.afterTransactions = afterTransactions;\n  }\n\n  addSigner(signer: Keypair) {\n    this.signers.push(signer);\n  }\n\n  addBeforeTransaction(transaction: Transaction) {\n    this.beforeTransactions.push(transaction);\n  }\n\n  addTransaction(transaction: Transaction) {\n    this.transactions.push(transaction);\n  }\n\n  addAfterTransaction(transaction: Transaction) {\n    this.afterTransactions.push(transaction);\n  }\n\n  toTransactions() {\n    return [...this.beforeTransactions, ...this.transactions, ...this.afterTransactions];\n  }\n\n  toInstructions() {\n    return this.toTransactions().flatMap((t) => t.instructions);\n  }\n}\n","import { Connection } from '../Connection';\nimport { Wallet } from '../wallet';\n\nimport { ActivateVault, CombineVault, Vault } from '../programs/vault';\nimport { Keypair, PublicKey } from '@solana/web3.js';\nimport { AccountLayout, Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { CreateTokenAccount, Transaction } from '../programs';\nimport { sendTransaction } from '../actions/transactions';\nimport BN from 'bn.js';\nimport { TransactionsBatch } from '../utils/transactions-batch';\n\ninterface CloseVaultParams {\n  connection: Connection;\n  wallet: Wallet;\n  vault: PublicKey;\n  priceMint: PublicKey;\n}\n\ninterface CloseVaultResponse {\n  txId;\n}\n\n// This command \"closes\" the vault, by activating & combining it in one go, handing it over to the auction manager\n// authority (that may or may not exist yet.)\nexport const closeVault = async ({\n  connection,\n  wallet,\n  vault,\n  priceMint,\n}: CloseVaultParams): Promise<CloseVaultResponse> => {\n  const accountRent = await connection.getMinimumBalanceForRentExemption(AccountLayout.span);\n\n  const fractionMintAuthority = await Vault.getPDA(vault);\n\n  const txBatch = new TransactionsBatch({ transactions: [] });\n\n  const txOptions = { feePayer: wallet.publicKey };\n\n  const {\n    data: { fractionMint, fractionTreasury, redeemTreasury, pricingLookupAddress },\n  } = await Vault.load(connection, vault);\n\n  const fractionMintKey = new PublicKey(fractionMint);\n  const fractionTreasuryKey = new PublicKey(fractionTreasury);\n  const redeemTreasuryKey = new PublicKey(redeemTreasury);\n  const pricingLookupAddressKey = new PublicKey(pricingLookupAddress);\n\n  const activateVaultTx = new ActivateVault(txOptions, {\n    vault,\n    numberOfShares: new BN(0),\n    fractionMint: fractionMintKey,\n    fractionTreasury: fractionTreasuryKey,\n    fractionMintAuthority,\n    vaultAuthority: wallet.publicKey,\n  });\n  txBatch.addTransaction(activateVaultTx);\n\n  const outstandingShareAccount = Keypair.generate();\n  const outstandingShareAccountTx = new CreateTokenAccount(txOptions, {\n    newAccountPubkey: outstandingShareAccount.publicKey,\n    lamports: accountRent,\n    mint: fractionMintKey,\n    owner: wallet.publicKey,\n  });\n  txBatch.addTransaction(outstandingShareAccountTx);\n  txBatch.addSigner(outstandingShareAccount);\n\n  const payingTokenAccount = Keypair.generate();\n  const payingTokenAccountTx = new CreateTokenAccount(txOptions, {\n    newAccountPubkey: payingTokenAccount.publicKey,\n    lamports: accountRent,\n    mint: priceMint,\n    owner: wallet.publicKey,\n  });\n  txBatch.addTransaction(payingTokenAccountTx);\n  txBatch.addSigner(payingTokenAccount);\n\n  const transferAuthority = Keypair.generate();\n\n  const createApproveTx = (account: Keypair) =>\n    new Transaction().add(\n      Token.createApproveInstruction(\n        TOKEN_PROGRAM_ID,\n        account.publicKey,\n        transferAuthority.publicKey,\n        wallet.publicKey,\n        [],\n        0,\n      ),\n    );\n\n  txBatch.addTransaction(createApproveTx(payingTokenAccount));\n  txBatch.addTransaction(createApproveTx(outstandingShareAccount));\n  txBatch.addSigner(transferAuthority);\n\n  const combineVaultTx = new CombineVault(txOptions, {\n    vault,\n    outstandingShareTokenAccount: outstandingShareAccount.publicKey,\n    payingTokenAccount: payingTokenAccount.publicKey,\n    fractionMint: fractionMintKey,\n    fractionTreasury: fractionTreasuryKey,\n    redeemTreasury: redeemTreasuryKey,\n    burnAuthority: fractionMintAuthority,\n    externalPriceAccount: pricingLookupAddressKey,\n    transferAuthority: transferAuthority.publicKey,\n    vaultAuthority: wallet.publicKey,\n    newVaultAuthority: wallet.publicKey,\n  });\n  txBatch.addTransaction(combineVaultTx);\n\n  const txId = await sendTransaction({\n    connection,\n    signers: txBatch.signers,\n    txs: txBatch.transactions,\n    wallet,\n  });\n\n  return {\n    txId,\n  };\n};\n","import { Keypair, PublicKey } from '@solana/web3.js';\nimport { AccountLayout, NATIVE_MINT, Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { sendTransaction } from './transactions';\nimport { AuctionExtended, BidderMetadata, BidderPot, CancelBid } from '../programs/auction';\nimport { TransactionsBatch } from '../utils/transactions-batch';\nimport { AuctionManager } from '../programs/metaplex';\nimport { CreateTokenAccount, Transaction } from '../programs';\n\ninterface ICancelBidParams {\n  connection: Connection;\n  wallet: Wallet;\n  auction: PublicKey;\n  bidderPotToken: PublicKey;\n  destAccount?: PublicKey;\n}\n\ninterface ICancelBidResponse {\n  txId: string;\n}\n\nexport const cancelBid = async ({\n  connection,\n  wallet,\n  auction,\n  bidderPotToken,\n  destAccount,\n}: ICancelBidParams): Promise<ICancelBidResponse> => {\n  const bidder = wallet.publicKey;\n  const auctionManager = await AuctionManager.getPDA(auction);\n  const manager = await AuctionManager.load(connection, auctionManager);\n  const {\n    data: { tokenMint },\n  } = await manager.getAuction(connection);\n\n  const auctionTokenMint = new PublicKey(tokenMint);\n  const vault = new PublicKey(manager.data.vault);\n  const auctionExtended = await AuctionExtended.getPDA(vault);\n  const bidderPot = await BidderPot.getPDA(auction, bidder);\n  const bidderMeta = await BidderMetadata.getPDA(auction, bidder);\n\n  const accountRentExempt = await connection.getMinimumBalanceForRentExemption(AccountLayout.span);\n  const txBatch = await getCancelBidTransactions({\n    destAccount,\n    bidder,\n    accountRentExempt,\n    bidderPot,\n    bidderPotToken,\n    bidderMeta,\n    auction,\n    auctionExtended,\n    auctionTokenMint,\n    vault,\n  });\n\n  const txId = await sendTransaction({\n    connection,\n    wallet,\n    txs: txBatch.toTransactions(),\n    signers: txBatch.signers,\n  });\n\n  return { txId };\n};\n\ninterface ICancelBidTransactionsParams {\n  destAccount?: PublicKey;\n  bidder: PublicKey;\n  accountRentExempt: number;\n  bidderPot: PublicKey;\n  bidderPotToken: PublicKey;\n  bidderMeta: PublicKey;\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  auctionTokenMint: PublicKey;\n  vault: PublicKey;\n}\n\nexport const getCancelBidTransactions = async ({\n  destAccount,\n  bidder,\n  accountRentExempt,\n  bidderPot,\n  bidderPotToken,\n  bidderMeta,\n  auction,\n  auctionExtended,\n  auctionTokenMint,\n  vault,\n}: ICancelBidTransactionsParams): Promise<TransactionsBatch> => {\n  const txBatch = new TransactionsBatch({ transactions: [] });\n  if (!destAccount) {\n    const account = Keypair.generate();\n    const createTokenAccountTransaction = new CreateTokenAccount(\n      { feePayer: bidder },\n      {\n        newAccountPubkey: account.publicKey,\n        lamports: accountRentExempt,\n        mint: NATIVE_MINT,\n      },\n    );\n    const closeTokenAccountInstruction = new Transaction().add(\n      Token.createCloseAccountInstruction(TOKEN_PROGRAM_ID, account.publicKey, bidder, bidder, []),\n    );\n    txBatch.addTransaction(createTokenAccountTransaction);\n    txBatch.addAfterTransaction(closeTokenAccountInstruction);\n    txBatch.addSigner(account);\n    destAccount = account.publicKey;\n  }\n\n  const cancelBidTransaction = new CancelBid(\n    { feePayer: bidder },\n    {\n      bidder,\n      bidderToken: destAccount,\n      bidderPot,\n      bidderPotToken,\n      bidderMeta,\n      auction,\n      auctionExtended,\n      tokenMint: auctionTokenMint,\n      resource: vault,\n    },\n  );\n  txBatch.addTransaction(cancelBidTransaction);\n\n  return txBatch;\n};\n","import BN from 'bn.js';\nimport { Keypair, PublicKey } from '@solana/web3.js';\nimport { AccountLayout, NATIVE_MINT, Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { sendTransaction } from './transactions';\nimport { AuctionExtended, BidderMetadata, BidderPot, PlaceBid } from '../programs/auction';\nimport { TransactionsBatch } from '../utils/transactions-batch';\nimport { getCancelBidTransactions } from './cancelBid';\nimport { AuctionManager } from '../programs/metaplex';\nimport { CreateTokenAccount, Transaction } from '../programs';\n\ninterface IPlaceBidParams {\n  connection: Connection;\n  wallet: Wallet;\n  auction: PublicKey;\n  bidderPotToken?: PublicKey;\n  // amount in lamports\n  amount: BN;\n}\n\ninterface IPlaceBidResponse {\n  txId: string;\n  bidderPotToken: PublicKey;\n  bidderMeta: PublicKey;\n}\n\nexport const placeBid = async ({\n  connection,\n  wallet,\n  amount,\n  auction,\n  bidderPotToken,\n}: IPlaceBidParams): Promise<IPlaceBidResponse> => {\n  // get data for transactions\n  const bidder = wallet.publicKey;\n  const accountRentExempt = await connection.getMinimumBalanceForRentExemption(AccountLayout.span);\n  const auctionManager = await AuctionManager.getPDA(auction);\n  const manager = await AuctionManager.load(connection, auctionManager);\n  const {\n    data: { tokenMint },\n  } = await manager.getAuction(connection);\n  const auctionTokenMint = new PublicKey(tokenMint);\n  const vault = new PublicKey(manager.data.vault);\n  const auctionExtended = await AuctionExtended.getPDA(vault);\n  const bidderPot = await BidderPot.getPDA(auction, bidder);\n  const bidderMeta = await BidderMetadata.getPDA(auction, bidder);\n  ////\n\n  let txBatch = new TransactionsBatch({ transactions: [] });\n\n  if (bidderPotToken) {\n    // cancel prev bid\n    txBatch = await getCancelBidTransactions({\n      destAccount: null,\n      bidder,\n      accountRentExempt,\n      bidderPot,\n      bidderPotToken,\n      bidderMeta,\n      auction,\n      auctionExtended,\n      auctionTokenMint,\n      vault,\n    });\n    ////\n  } else {\n    // create a new account for bid\n    const account = Keypair.generate();\n    const createBidderPotTransaction = new CreateTokenAccount(\n      { feePayer: bidder },\n      {\n        newAccountPubkey: account.publicKey,\n        lamports: accountRentExempt,\n        mint: auctionTokenMint,\n        owner: auction,\n      },\n    );\n    txBatch.addSigner(account);\n    txBatch.addTransaction(createBidderPotTransaction);\n    bidderPotToken = account.publicKey;\n    ////\n  }\n\n  // create paying account\n  const payingAccount = Keypair.generate();\n  const createTokenAccountTransaction = new CreateTokenAccount(\n    { feePayer: bidder },\n    {\n      newAccountPubkey: payingAccount.publicKey,\n      // TODO: find out why we put such amount of lamports\n      lamports: amount.toNumber() + accountRentExempt * 3,\n      mint: NATIVE_MINT,\n    },\n  );\n  const closeTokenAccountTransaction = new Transaction().add(\n    Token.createCloseAccountInstruction(\n      TOKEN_PROGRAM_ID,\n      payingAccount.publicKey,\n      bidder,\n      bidder,\n      [],\n    ),\n  );\n  txBatch.addTransaction(createTokenAccountTransaction);\n  txBatch.addAfterTransaction(closeTokenAccountTransaction);\n  txBatch.addSigner(payingAccount);\n  ////\n\n  // transfer authority\n  const transferAuthority = Keypair.generate();\n  const createApproveTransaction = new Transaction().add(\n    Token.createApproveInstruction(\n      TOKEN_PROGRAM_ID,\n      payingAccount.publicKey,\n      transferAuthority.publicKey,\n      bidder,\n      [],\n      amount.toNumber(),\n    ),\n  );\n  txBatch.addTransaction(createApproveTransaction);\n\n  const createRevokeTransaction = new Transaction().add(\n    Token.createRevokeInstruction(TOKEN_PROGRAM_ID, payingAccount.publicKey, bidder, []),\n  );\n  txBatch.addAfterTransaction(createRevokeTransaction);\n  txBatch.addSigner(transferAuthority);\n  ////\n\n  // create place bid transaction\n  const placeBidTransaction = new PlaceBid(\n    { feePayer: bidder },\n    {\n      bidder,\n      bidderToken: payingAccount.publicKey,\n      bidderPot,\n      bidderPotToken,\n      bidderMeta,\n      auction,\n      auctionExtended,\n      tokenMint: auctionTokenMint,\n      transferAuthority: transferAuthority.publicKey,\n      amount,\n      resource: vault,\n    },\n  );\n  txBatch.addTransaction(placeBidTransaction);\n  ////\n\n  const txId = await sendTransaction({\n    connection,\n    wallet,\n    txs: txBatch.toTransactions(),\n    signers: txBatch.signers,\n  });\n\n  return { txId, bidderPotToken, bidderMeta };\n};\n","import { Keypair, PublicKey } from '@solana/web3.js';\nimport { AccountLayout } from '@solana/spl-token';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { sendTransaction } from './transactions';\nimport { AuctionExtended, BidderMetadata } from '../programs/auction';\nimport { TransactionsBatch } from '../utils/transactions-batch';\nimport {\n  AuctionManager,\n  MetaplexProgram,\n  RedeemFullRightsTransferBid,\n  SafetyDepositConfig,\n} from '../programs/metaplex';\nimport { CreateTokenAccount } from '../programs';\nimport { Vault } from '../programs/vault';\nimport { Metadata, UpdatePrimarySaleHappenedViaToken } from '../programs/metadata';\n\ninterface IRedeemBidParams {\n  connection: Connection;\n  wallet: Wallet;\n  auction: PublicKey;\n  store: PublicKey;\n}\n\ninterface IRedeemBidResponse {\n  txId: string;\n}\n\nexport const redeemBid = async ({\n  connection,\n  wallet,\n  store,\n  auction,\n}: IRedeemBidParams): Promise<IRedeemBidResponse> => {\n  // get data for transactions\n  const bidder = wallet.publicKey;\n  const accountRentExempt = await connection.getMinimumBalanceForRentExemption(AccountLayout.span);\n  const auctionManager = await AuctionManager.getPDA(auction);\n  const manager = await AuctionManager.load(connection, auctionManager);\n  const vault = await Vault.load(connection, manager.data.vault);\n  const fractionMint = new PublicKey(vault.data.fractionMint);\n  const auctionExtended = await AuctionExtended.getPDA(vault.pubkey);\n  // assuming we have 1 item\n  const [safetyDepositBox] = await vault.getSafetyDepositBoxes(connection);\n  const tokenMint = new PublicKey(safetyDepositBox.data.tokenMint);\n  const safetyDepositTokenStore = new PublicKey(safetyDepositBox.data.store);\n  const bidderMeta = await BidderMetadata.getPDA(auction, bidder);\n  const bidRedemption = await getBidRedemptionPDA(auction, bidderMeta);\n  const safetyDepositConfig = await SafetyDepositConfig.getPDA(\n    auctionManager,\n    safetyDepositBox.pubkey,\n  );\n  const transferAuthority = await Vault.getPDA(vault.pubkey);\n  const metadata = await Metadata.getPDA(tokenMint);\n  ////\n\n  const txBatch = await getRedeemBidTransactions({\n    accountRentExempt,\n    tokenMint,\n    bidder,\n    bidderMeta,\n    store,\n    vault: vault.pubkey,\n    auction,\n    auctionExtended,\n    auctionManager,\n    fractionMint,\n    safetyDepositTokenStore,\n    safetyDeposit: safetyDepositBox.pubkey,\n    bidRedemption,\n    safetyDepositConfig,\n    transferAuthority,\n    metadata,\n  });\n\n  const txId = await sendTransaction({\n    connection,\n    wallet,\n    txs: txBatch.toTransactions(),\n    signers: txBatch.signers,\n  });\n\n  return { txId };\n};\n\ninterface IRedeemBidTransactionsParams {\n  bidder: PublicKey;\n  accountRentExempt: number;\n  bidderPotToken?: PublicKey;\n  bidderMeta: PublicKey;\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  tokenMint: PublicKey;\n  vault: PublicKey;\n  store: PublicKey;\n  auctionManager: PublicKey;\n  bidRedemption: PublicKey;\n  safetyDepositTokenStore: PublicKey;\n  safetyDeposit: PublicKey;\n  fractionMint: PublicKey;\n  safetyDepositConfig: PublicKey;\n  transferAuthority: PublicKey;\n  metadata: PublicKey;\n}\n\nexport const getRedeemBidTransactions = async ({\n  accountRentExempt,\n  bidder,\n  tokenMint,\n  store,\n  vault,\n  auction,\n  auctionManager,\n  auctionExtended,\n  bidRedemption,\n  bidderMeta: bidMetadata,\n  safetyDepositTokenStore,\n  safetyDeposit,\n  fractionMint,\n  safetyDepositConfig,\n  transferAuthority,\n  metadata,\n}: IRedeemBidTransactionsParams) => {\n  const txBatch = new TransactionsBatch({ transactions: [] });\n\n  // create a new account for redeeming\n  const account = Keypair.generate();\n  const createDestinationTransaction = new CreateTokenAccount(\n    { feePayer: bidder },\n    {\n      newAccountPubkey: account.publicKey,\n      lamports: accountRentExempt,\n      mint: tokenMint,\n    },\n  );\n  txBatch.addSigner(account);\n  txBatch.addTransaction(createDestinationTransaction);\n  ////\n\n  // create redeem bid\n  const redeemBidTransaction = new RedeemFullRightsTransferBid(\n    { feePayer: bidder },\n    {\n      store,\n      vault,\n      auction,\n      auctionManager,\n      bidRedemption,\n      bidMetadata,\n      safetyDepositTokenStore,\n      destination: account.publicKey,\n      safetyDeposit,\n      fractionMint,\n      bidder,\n      safetyDepositConfig,\n      auctionExtended,\n      transferAuthority,\n      newAuthority: bidder,\n      masterMetadata: metadata,\n    },\n  );\n  txBatch.addTransaction(redeemBidTransaction);\n  ////\n\n  // update primary sale happened via token\n  const updatePrimarySaleHappenedViaTokenTransaction = new UpdatePrimarySaleHappenedViaToken(\n    { feePayer: bidder },\n    {\n      metadata,\n      owner: bidder,\n      tokenAccount: account.publicKey,\n    },\n  );\n  txBatch.addTransaction(updatePrimarySaleHappenedViaTokenTransaction);\n  ////\n\n  return txBatch;\n};\n\nexport const getBidRedemptionPDA = async (auction: PublicKey, bidderMeta: PublicKey) => {\n  return (\n    await PublicKey.findProgramAddress(\n      [Buffer.from(MetaplexProgram.PREFIX), auction.toBuffer(), bidderMeta.toBuffer()],\n      MetaplexProgram.PUBKEY,\n    )\n  )[0];\n};\n","import { PublicKey } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { sendTransaction } from './transactions';\nimport { Auction, AuctionExtended, BidderPot } from '../programs/auction';\nimport { TransactionsBatch } from '../utils/transactions-batch';\nimport { AuctionManager, ClaimBid } from '../programs/metaplex';\n\ninterface IClaimBidParams {\n  connection: Connection;\n  wallet: Wallet;\n  auction: PublicKey;\n  store: PublicKey;\n  bidderPotToken: PublicKey;\n}\n\ninterface IClaimBidResponse {\n  txId: string;\n}\n\nexport const claimBid = async ({\n  connection,\n  wallet,\n  store,\n  auction,\n  bidderPotToken,\n}: IClaimBidParams): Promise<IClaimBidResponse> => {\n  // get data for transactions\n  const bidder = wallet.publicKey;\n  const auctionManager = await AuctionManager.getPDA(auction);\n  const manager = await AuctionManager.load(connection, auctionManager);\n  const vault = new PublicKey(manager.data.vault);\n  const {\n    data: { tokenMint },\n  } = await Auction.load(connection, auction);\n  const acceptPayment = new PublicKey(manager.data.acceptPayment);\n  const auctionExtended = await AuctionExtended.getPDA(vault);\n  const auctionTokenMint = new PublicKey(tokenMint);\n  const bidderPot = await BidderPot.getPDA(auction, bidder);\n  ////\n\n  const txBatch = await getClaimBidTransactions({\n    auctionTokenMint,\n    bidder,\n    store,\n    vault,\n    auction,\n    auctionExtended,\n    auctionManager,\n    acceptPayment,\n    bidderPot,\n    bidderPotToken,\n  });\n\n  const txId = await sendTransaction({\n    connection,\n    wallet,\n    txs: txBatch.toTransactions(),\n    signers: txBatch.signers,\n  });\n\n  return { txId };\n};\n\ninterface IClaimBidTransactionsParams {\n  bidder: PublicKey;\n  bidderPotToken?: PublicKey;\n  bidderPot: PublicKey;\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  auctionTokenMint: PublicKey;\n  vault: PublicKey;\n  store: PublicKey;\n  auctionManager: PublicKey;\n  acceptPayment: PublicKey;\n}\n\nexport const getClaimBidTransactions = async ({\n  bidder,\n  auctionTokenMint,\n  store,\n  vault,\n  auction,\n  auctionManager,\n  auctionExtended,\n  acceptPayment,\n  bidderPot,\n  bidderPotToken,\n}: IClaimBidTransactionsParams) => {\n  const txBatch = new TransactionsBatch({ transactions: [] });\n\n  // create claim bid\n  const claimBidTransaction = new ClaimBid(\n    { feePayer: bidder },\n    {\n      store,\n      vault,\n      auction,\n      auctionExtended,\n      auctionManager,\n      bidder,\n      tokenMint: auctionTokenMint,\n      acceptPayment,\n      bidderPot,\n      bidderPotToken,\n    },\n  );\n  txBatch.addTransaction(claimBidTransaction);\n  ////\n\n  return txBatch;\n};\n","function RetryOperation(timeouts, options) {\n  // Compatibility for the old (timeouts, retryForever) signature\n  if (typeof options === 'boolean') {\n    options = { forever: options };\n  }\n\n  this._originalTimeouts = JSON.parse(JSON.stringify(timeouts));\n  this._timeouts = timeouts;\n  this._options = options || {};\n  this._maxRetryTime = options && options.maxRetryTime || Infinity;\n  this._fn = null;\n  this._errors = [];\n  this._attempts = 1;\n  this._operationTimeout = null;\n  this._operationTimeoutCb = null;\n  this._timeout = null;\n  this._operationStart = null;\n  this._timer = null;\n\n  if (this._options.forever) {\n    this._cachedTimeouts = this._timeouts.slice(0);\n  }\n}\nmodule.exports = RetryOperation;\n\nRetryOperation.prototype.reset = function() {\n  this._attempts = 1;\n  this._timeouts = this._originalTimeouts.slice(0);\n}\n\nRetryOperation.prototype.stop = function() {\n  if (this._timeout) {\n    clearTimeout(this._timeout);\n  }\n  if (this._timer) {\n    clearTimeout(this._timer);\n  }\n\n  this._timeouts       = [];\n  this._cachedTimeouts = null;\n};\n\nRetryOperation.prototype.retry = function(err) {\n  if (this._timeout) {\n    clearTimeout(this._timeout);\n  }\n\n  if (!err) {\n    return false;\n  }\n  var currentTime = new Date().getTime();\n  if (err && currentTime - this._operationStart >= this._maxRetryTime) {\n    this._errors.push(err);\n    this._errors.unshift(new Error('RetryOperation timeout occurred'));\n    return false;\n  }\n\n  this._errors.push(err);\n\n  var timeout = this._timeouts.shift();\n  if (timeout === undefined) {\n    if (this._cachedTimeouts) {\n      // retry forever, only keep last error\n      this._errors.splice(0, this._errors.length - 1);\n      timeout = this._cachedTimeouts.slice(-1);\n    } else {\n      return false;\n    }\n  }\n\n  var self = this;\n  this._timer = setTimeout(function() {\n    self._attempts++;\n\n    if (self._operationTimeoutCb) {\n      self._timeout = setTimeout(function() {\n        self._operationTimeoutCb(self._attempts);\n      }, self._operationTimeout);\n\n      if (self._options.unref) {\n          self._timeout.unref();\n      }\n    }\n\n    self._fn(self._attempts);\n  }, timeout);\n\n  if (this._options.unref) {\n      this._timer.unref();\n  }\n\n  return true;\n};\n\nRetryOperation.prototype.attempt = function(fn, timeoutOps) {\n  this._fn = fn;\n\n  if (timeoutOps) {\n    if (timeoutOps.timeout) {\n      this._operationTimeout = timeoutOps.timeout;\n    }\n    if (timeoutOps.cb) {\n      this._operationTimeoutCb = timeoutOps.cb;\n    }\n  }\n\n  var self = this;\n  if (this._operationTimeoutCb) {\n    this._timeout = setTimeout(function() {\n      self._operationTimeoutCb();\n    }, self._operationTimeout);\n  }\n\n  this._operationStart = new Date().getTime();\n\n  this._fn(this._attempts);\n};\n\nRetryOperation.prototype.try = function(fn) {\n  console.log('Using RetryOperation.try() is deprecated');\n  this.attempt(fn);\n};\n\nRetryOperation.prototype.start = function(fn) {\n  console.log('Using RetryOperation.start() is deprecated');\n  this.attempt(fn);\n};\n\nRetryOperation.prototype.start = RetryOperation.prototype.try;\n\nRetryOperation.prototype.errors = function() {\n  return this._errors;\n};\n\nRetryOperation.prototype.attempts = function() {\n  return this._attempts;\n};\n\nRetryOperation.prototype.mainError = function() {\n  if (this._errors.length === 0) {\n    return null;\n  }\n\n  var counts = {};\n  var mainError = null;\n  var mainErrorCount = 0;\n\n  for (var i = 0; i < this._errors.length; i++) {\n    var error = this._errors[i];\n    var message = error.message;\n    var count = (counts[message] || 0) + 1;\n\n    counts[message] = count;\n\n    if (count >= mainErrorCount) {\n      mainError = error;\n      mainErrorCount = count;\n    }\n  }\n\n  return mainError;\n};\n","var RetryOperation = require('./retry_operation');\n\nexports.operation = function(options) {\n  var timeouts = exports.timeouts(options);\n  return new RetryOperation(timeouts, {\n      forever: options && (options.forever || options.retries === Infinity),\n      unref: options && options.unref,\n      maxRetryTime: options && options.maxRetryTime\n  });\n};\n\nexports.timeouts = function(options) {\n  if (options instanceof Array) {\n    return [].concat(options);\n  }\n\n  var opts = {\n    retries: 10,\n    factor: 2,\n    minTimeout: 1 * 1000,\n    maxTimeout: Infinity,\n    randomize: false\n  };\n  for (var key in options) {\n    opts[key] = options[key];\n  }\n\n  if (opts.minTimeout > opts.maxTimeout) {\n    throw new Error('minTimeout is greater than maxTimeout');\n  }\n\n  var timeouts = [];\n  for (var i = 0; i < opts.retries; i++) {\n    timeouts.push(this.createTimeout(i, opts));\n  }\n\n  if (options && options.forever && !timeouts.length) {\n    timeouts.push(this.createTimeout(i, opts));\n  }\n\n  // sort the array numerically ascending\n  timeouts.sort(function(a,b) {\n    return a - b;\n  });\n\n  return timeouts;\n};\n\nexports.createTimeout = function(attempt, opts) {\n  var random = (opts.randomize)\n    ? (Math.random() + 1)\n    : 1;\n\n  var timeout = Math.round(random * Math.max(opts.minTimeout, 1) * Math.pow(opts.factor, attempt));\n  timeout = Math.min(timeout, opts.maxTimeout);\n\n  return timeout;\n};\n\nexports.wrap = function(obj, options, methods) {\n  if (options instanceof Array) {\n    methods = options;\n    options = null;\n  }\n\n  if (!methods) {\n    methods = [];\n    for (var key in obj) {\n      if (typeof obj[key] === 'function') {\n        methods.push(key);\n      }\n    }\n  }\n\n  for (var i = 0; i < methods.length; i++) {\n    var method   = methods[i];\n    var original = obj[method];\n\n    obj[method] = function retryWrapper(original) {\n      var op       = exports.operation(options);\n      var args     = Array.prototype.slice.call(arguments, 1);\n      var callback = args.pop();\n\n      args.push(function(err) {\n        if (op.retry(err)) {\n          return;\n        }\n        if (err) {\n          arguments[0] = op.mainError();\n        }\n        callback.apply(this, arguments);\n      });\n\n      op.attempt(function() {\n        original.apply(obj, args);\n      });\n    }.bind(obj, original);\n    obj[method].options = options;\n  }\n};\n","// Packages\nvar retrier = require('retry');\n\nfunction retry(fn, opts) {\n  function run(resolve, reject) {\n    var options = opts || {};\n    var op;\n\n    // Default `randomize` to true\n    if (!('randomize' in options)) {\n      options.randomize = true;\n    }\n\n    op = retrier.operation(options);\n\n    // We allow the user to abort retrying\n    // this makes sense in the cases where\n    // knowledge is obtained that retrying\n    // would be futile (e.g.: auth errors)\n\n    function bail(err) {\n      reject(err || new Error('Aborted'));\n    }\n\n    function onError(err, num) {\n      if (err.bail) {\n        bail(err);\n        return;\n      }\n\n      if (!op.retry(err)) {\n        reject(op.mainError());\n      } else if (options.onRetry) {\n        options.onRetry(err, num);\n      }\n    }\n\n    function runAttempt(num) {\n      var val;\n\n      try {\n        val = fn(bail, num);\n      } catch (err) {\n        onError(err, num);\n        return;\n      }\n\n      Promise.resolve(val)\n        .then(resolve)\n        .catch(function catchIt(err) {\n          onError(err, num);\n        });\n    }\n\n    op.attempt(runAttempt);\n  }\n\n  return new Promise(run);\n}\n\nmodule.exports = retry;\n","module.exports = require('./lib/retry');","import { PublicKey } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { sendTransaction } from './transactions';\nimport { SetStore, Store } from '../programs/metaplex';\n\ninterface IInitStoreParams {\n  connection: Connection;\n  wallet: Wallet;\n  isPublic?: boolean;\n}\n\ninterface IInitStoreResponse {\n  storeId: PublicKey;\n  txId: string;\n}\n\nexport const initStore = async ({\n  connection,\n  wallet,\n  isPublic = true,\n}: IInitStoreParams): Promise<IInitStoreResponse> => {\n  const storeId = await Store.getPDA(wallet.publicKey);\n  const tx = new SetStore(\n    { feePayer: wallet.publicKey },\n    {\n      admin: new PublicKey(wallet.publicKey),\n      store: storeId,\n      isPublic,\n    },\n  );\n\n  const txId = await sendTransaction({ connection, wallet, txs: [tx] });\n\n  return { storeId, txId };\n};\n","import { PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Connection } from '../Connection';\nimport {\n  CreateMasterEdition,\n  CreateMetadata,\n  Creator,\n  MasterEdition,\n  Metadata,\n  MetadataDataData,\n} from '../programs/metadata';\nimport { Wallet } from '../wallet';\nimport { sendTransaction } from './transactions';\nimport { lookup } from '../utils/metadata';\nimport { prepareTokenAccountAndMintTx } from './shared';\n\ninterface MintNFTParams {\n  connection: Connection;\n  wallet: Wallet;\n  uri: string;\n  maxSupply?: number;\n}\n\ninterface MintNFTResponse {\n  txId: string;\n  mint: PublicKey;\n  metadata: PublicKey;\n  edition: PublicKey;\n}\n\nexport const mintNFT = async ({\n  connection,\n  wallet,\n  uri,\n  maxSupply,\n}: MintNFTParams): Promise<MintNFTResponse> => {\n  const { mint, createMintTx, createAssociatedTokenAccountTx, mintToTx } =\n    await prepareTokenAccountAndMintTx(connection, wallet.publicKey);\n\n  const metadataPDA = await Metadata.getPDA(mint.publicKey);\n  const editionPDA = await MasterEdition.getPDA(mint.publicKey);\n\n  const {\n    name,\n    symbol,\n    seller_fee_basis_points,\n    properties: { creators },\n  } = await lookup(uri);\n\n  const creatorsData = creators.reduce<Creator[]>((memo, { address, share }) => {\n    const verified = address === wallet.publicKey.toString();\n\n    const creator = new Creator({\n      address,\n      share,\n      verified,\n    });\n\n    memo = [...memo, creator];\n\n    return memo;\n  }, []);\n\n  const metadataData = new MetadataDataData({\n    name,\n    symbol,\n    uri,\n    sellerFeeBasisPoints: seller_fee_basis_points,\n    creators: creatorsData,\n  });\n\n  const createMetadataTx = new CreateMetadata(\n    {\n      feePayer: wallet.publicKey,\n    },\n    {\n      metadata: metadataPDA,\n      metadataData,\n      updateAuthority: wallet.publicKey,\n      mint: mint.publicKey,\n      mintAuthority: wallet.publicKey,\n    },\n  );\n\n  const masterEditionTx = new CreateMasterEdition(\n    { feePayer: wallet.publicKey },\n    {\n      edition: editionPDA,\n      metadata: metadataPDA,\n      updateAuthority: wallet.publicKey,\n      mint: mint.publicKey,\n      mintAuthority: wallet.publicKey,\n      maxSupply: maxSupply ? new BN(maxSupply) : null,\n    },\n  );\n\n  const txId = await sendTransaction({\n    connection,\n    signers: [mint],\n    txs: [\n      createMintTx,\n      createMetadataTx,\n      createAssociatedTokenAccountTx,\n      mintToTx,\n      masterEditionTx,\n    ],\n    wallet,\n  });\n\n  return {\n    txId,\n    mint: mint.publicKey,\n    metadata: metadataPDA,\n    edition: editionPDA,\n  };\n};\n","import { Connection, PublicKey } from '@solana/web3.js';\nimport { ASSOCIATED_TOKEN_PROGRAM_ID, Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { Wallet } from '../wallet';\nimport {\n  Edition,\n  EditionMarker,\n  MasterEdition,\n  Metadata,\n  MintNewEditionFromMasterEditionViaToken,\n} from '../programs/metadata';\nimport { Account } from '../Account';\nimport BN from 'bn.js';\nimport { prepareTokenAccountAndMintTx } from './shared';\nimport { sendTransaction } from './transactions';\n\ninterface MintEditionFromMasterParams {\n  connection: Connection;\n  wallet: Wallet;\n  masterEditionMint: PublicKey;\n  updateAuthority?: PublicKey;\n}\n\ninterface MintEditionFromMasterResponse {\n  txId: string;\n  mint: PublicKey;\n  metadata: PublicKey;\n  edition: PublicKey;\n}\n\nexport const mintEditionFromMaster = async (\n  { connection, wallet, masterEditionMint, updateAuthority } = {} as MintEditionFromMasterParams,\n): Promise<MintEditionFromMasterResponse> => {\n  const masterPDA = await MasterEdition.getPDA(masterEditionMint);\n  const masterMetaPDA = await Metadata.getPDA(masterEditionMint);\n  const masterInfo = await Account.getInfo(connection, masterPDA);\n  const masterData = new MasterEdition(masterPDA, masterInfo).data;\n\n  //take the current outstanding supply and increment by 1\n  const editionValue = masterData.supply.add(new BN(1));\n\n  const { mint, createMintTx, createAssociatedTokenAccountTx, mintToTx } =\n    await prepareTokenAccountAndMintTx(connection, wallet.publicKey);\n\n  const tokenAccount = await Token.getAssociatedTokenAddress(\n    ASSOCIATED_TOKEN_PROGRAM_ID,\n    TOKEN_PROGRAM_ID,\n    masterEditionMint,\n    wallet.publicKey,\n  );\n\n  const metadataPDA = await Metadata.getPDA(mint.publicKey);\n  const editionMarker = await EditionMarker.getPDA(masterEditionMint, editionValue);\n  const editionPDA = await Edition.getPDA(mint.publicKey);\n\n  const newEditionFromMasterTx = new MintNewEditionFromMasterEditionViaToken(\n    { feePayer: wallet.publicKey },\n    {\n      edition: editionPDA, //empty, created inside program\n      metadata: metadataPDA, //empty, created inside program\n      updateAuthority: updateAuthority ?? wallet.publicKey,\n      mint: mint.publicKey,\n      mintAuthority: wallet.publicKey,\n      masterEdition: masterPDA,\n      masterMetadata: masterMetaPDA,\n      editionMarker, // empty if this is the 1st limited edition being created\n      tokenOwner: wallet.publicKey,\n      tokenAccount,\n      editionValue,\n    },\n  );\n\n  const txId = await sendTransaction({\n    connection,\n    signers: [mint],\n    txs: [createMintTx, createAssociatedTokenAccountTx, mintToTx, newEditionFromMasterTx],\n    wallet,\n  });\n\n  return {\n    txId,\n    mint: mint.publicKey,\n    metadata: metadataPDA,\n    edition: editionPDA,\n  };\n};\n","import { Connection } from '../Connection';\nimport { Wallet } from '../wallet';\n\nimport { InitVault, Vault, VaultProgram } from '../programs/vault';\nimport { Keypair, PublicKey, SystemProgram } from '@solana/web3.js';\nimport { AccountLayout, MintLayout, NATIVE_MINT } from '@solana/spl-token';\nimport { CreateMint, CreateTokenAccount, Transaction } from '../programs';\nimport { sendTransaction } from '../actions/transactions';\nimport { TransactionsBatch } from '../utils/transactions-batch';\n\ninterface CreateVaultParams {\n  connection: Connection;\n  wallet: Wallet;\n  priceMint: PublicKey;\n  externalPriceAccount: PublicKey;\n}\n\ninterface CreateVaultResponse {\n  txId;\n  vault: PublicKey;\n  fractionMint: PublicKey;\n  redeemTreasury: PublicKey;\n  fractionTreasury: PublicKey;\n}\n\n// This command creates the external pricing oracle a vault\n// This gets the vault ready for adding the tokens.\nexport const createVault = async ({\n  connection,\n  wallet,\n  priceMint = NATIVE_MINT,\n  externalPriceAccount,\n}: CreateVaultParams): Promise<CreateVaultResponse> => {\n  const accountRent = await connection.getMinimumBalanceForRentExemption(AccountLayout.span);\n\n  const mintRent = await connection.getMinimumBalanceForRentExemption(MintLayout.span);\n\n  const vaultRent = await connection.getMinimumBalanceForRentExemption(Vault.MAX_VAULT_SIZE);\n\n  const vault = Keypair.generate();\n\n  const vaultAuthority = await Vault.getPDA(vault.publicKey);\n\n  const txBatch = new TransactionsBatch({ transactions: [] });\n\n  const fractionMint = Keypair.generate();\n  const fractionMintTx = new CreateMint(\n    { feePayer: wallet.publicKey },\n    {\n      newAccountPubkey: fractionMint.publicKey,\n      lamports: mintRent,\n      owner: vaultAuthority,\n      freezeAuthority: vaultAuthority,\n    },\n  );\n  txBatch.addTransaction(fractionMintTx);\n  txBatch.addSigner(fractionMint);\n\n  const redeemTreasury = Keypair.generate();\n  const redeemTreasuryTx = new CreateTokenAccount(\n    { feePayer: wallet.publicKey },\n    {\n      newAccountPubkey: redeemTreasury.publicKey,\n      lamports: accountRent,\n      mint: priceMint,\n      owner: vaultAuthority,\n    },\n  );\n  txBatch.addTransaction(redeemTreasuryTx);\n  txBatch.addSigner(redeemTreasury);\n\n  const fractionTreasury = Keypair.generate();\n  const fractionTreasuryTx = new CreateTokenAccount(\n    { feePayer: wallet.publicKey },\n    {\n      newAccountPubkey: fractionTreasury.publicKey,\n      lamports: accountRent,\n      mint: fractionMint.publicKey,\n      owner: vaultAuthority,\n    },\n  );\n  txBatch.addTransaction(fractionTreasuryTx);\n  txBatch.addSigner(fractionTreasury);\n\n  const uninitializedVaultTx = new Transaction().add(\n    SystemProgram.createAccount({\n      fromPubkey: wallet.publicKey,\n      newAccountPubkey: vault.publicKey,\n      lamports: vaultRent,\n      space: Vault.MAX_VAULT_SIZE,\n      programId: VaultProgram.PUBKEY,\n    }),\n  );\n  txBatch.addTransaction(uninitializedVaultTx);\n  txBatch.addSigner(vault);\n\n  const initVaultTx = new InitVault(\n    { feePayer: wallet.publicKey },\n    {\n      vault: vault.publicKey,\n      vaultAuthority: wallet.publicKey,\n      fractionalTreasury: fractionTreasury.publicKey,\n      pricingLookupAddress: externalPriceAccount,\n      redeemTreasury: redeemTreasury.publicKey,\n      fractionalMint: fractionMint.publicKey,\n      allowFurtherShareCreation: true,\n    },\n  );\n  txBatch.addTransaction(initVaultTx);\n\n  const txId = await sendTransaction({\n    connection,\n    signers: txBatch.signers,\n    txs: txBatch.transactions,\n    wallet,\n  });\n\n  return {\n    txId,\n    vault: vault.publicKey,\n    fractionMint: fractionMint.publicKey,\n    redeemTreasury: redeemTreasury.publicKey,\n    fractionTreasury: fractionTreasury.publicKey,\n  };\n};\n","import { Connection } from '../Connection';\nimport { Wallet } from '../wallet';\n\nimport {\n  ExternalPriceAccountData,\n  Vault,\n  VaultProgram,\n  UpdateExternalPriceAccount,\n} from '../programs/vault';\nimport { Keypair, PublicKey, SystemProgram, TransactionCtorFields } from '@solana/web3.js';\nimport { NATIVE_MINT } from '@solana/spl-token';\nimport { Transaction } from '../programs';\nimport { sendTransaction } from '../actions/transactions';\nimport { TransactionsBatch } from '../utils/transactions-batch';\nimport BN from 'bn.js';\n\ninterface CreateExternalPriceAccountParams {\n  connection: Connection;\n  wallet: Wallet;\n}\n\ninterface CreateExternalPriceAccountResponse {\n  txId;\n  externalPriceAccount: PublicKey;\n  priceMint: PublicKey;\n}\n\n// This command creates the external pricing oracle\nexport const createExternalPriceAccount = async ({\n  connection,\n  wallet,\n}: CreateExternalPriceAccountParams): Promise<CreateExternalPriceAccountResponse> => {\n  const txBatch = new TransactionsBatch({ transactions: [] });\n  const txOptions: TransactionCtorFields = { feePayer: wallet.publicKey };\n\n  const epaRentExempt = await connection.getMinimumBalanceForRentExemption(\n    Vault.MAX_EXTERNAL_ACCOUNT_SIZE,\n  );\n\n  const externalPriceAccount = Keypair.generate();\n\n  const externalPriceAccountData = new ExternalPriceAccountData({\n    pricePerShare: new BN(0),\n    priceMint: NATIVE_MINT.toBase58(),\n    allowedToCombine: true,\n  });\n\n  const uninitializedEPA = new Transaction().add(\n    SystemProgram.createAccount({\n      fromPubkey: wallet.publicKey,\n      newAccountPubkey: externalPriceAccount.publicKey,\n      lamports: epaRentExempt,\n      space: Vault.MAX_EXTERNAL_ACCOUNT_SIZE,\n      programId: VaultProgram.PUBKEY,\n    }),\n  );\n  txBatch.addTransaction(uninitializedEPA);\n  txBatch.addSigner(externalPriceAccount);\n\n  const updateEPA = new UpdateExternalPriceAccount(txOptions, {\n    externalPriceAccount: externalPriceAccount.publicKey,\n    externalPriceAccountData,\n  });\n  txBatch.addTransaction(updateEPA);\n\n  const txId = await sendTransaction({\n    connection,\n    signers: txBatch.signers,\n    txs: txBatch.transactions,\n    wallet,\n  });\n\n  return {\n    txId,\n    externalPriceAccount: externalPriceAccount.publicKey,\n    priceMint: NATIVE_MINT,\n  };\n};\n","import { Connection, PublicKey } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { CreateMetadata, Metadata, MetadataDataData } from '../programs/metadata';\nimport { sendTransaction } from './transactions';\n\ninterface CreateMetadataParams {\n  connection: Connection;\n  wallet: Wallet;\n  editionMint: PublicKey; // can be any mint with 0 decimals\n  metadataData: MetadataDataData;\n  updateAuthority?: PublicKey;\n}\n\nexport const createMetadata = async (\n  { connection, wallet, editionMint, metadataData, updateAuthority } = {} as CreateMetadataParams,\n): Promise<string> => {\n  const metadata = await Metadata.getPDA(editionMint);\n\n  const createMetadataTx = new CreateMetadata(\n    { feePayer: wallet.publicKey },\n    {\n      metadata,\n      metadataData,\n      updateAuthority: updateAuthority ?? wallet.publicKey,\n      mint: editionMint,\n      mintAuthority: wallet.publicKey,\n    },\n  );\n  return sendTransaction({\n    connection,\n    signers: [],\n    txs: [createMetadataTx],\n    wallet,\n  });\n};\n","import { Connection, PublicKey } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { CreateMasterEdition, MasterEdition, Metadata } from '../programs/metadata';\nimport { sendTransaction } from './transactions';\nimport BN from 'bn.js';\n\ninterface CreateMasterEditionParams {\n  connection: Connection;\n  wallet: Wallet;\n  editionMint: PublicKey;\n  updateAuthority?: PublicKey;\n  maxSupply?: BN;\n}\n\n/*\n * NOTE 1: a metadata account must already exist\n * NOTE 2: must have exactly 1 editionMint token with 0 decimals outstanding\n */\nexport const createMasterEdition = async (\n  { connection, wallet, editionMint, updateAuthority, maxSupply } = {} as CreateMasterEditionParams,\n): Promise<string> => {\n  const metadata = await Metadata.getPDA(editionMint);\n  const edition = await MasterEdition.getPDA(editionMint);\n\n  const createMetadataTx = new CreateMasterEdition(\n    { feePayer: wallet.publicKey },\n    {\n      edition,\n      metadata,\n      updateAuthority: updateAuthority ?? wallet.publicKey,\n      mint: editionMint,\n      mintAuthority: wallet.publicKey,\n      maxSupply,\n    },\n  );\n  return sendTransaction({\n    connection,\n    signers: [],\n    txs: [createMetadataTx],\n    wallet,\n  });\n};\n","import { Connection, Keypair, PublicKey } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { Metadata, SignMetadata } from '../programs/metadata';\nimport { sendTransaction } from './transactions';\n\ninterface SignMetadataParams {\n  connection: Connection;\n  wallet: Wallet;\n  editionMint: PublicKey;\n  signer?: Keypair;\n}\n\nexport const signMetadata = async (\n  { connection, wallet, editionMint, signer } = {} as SignMetadataParams,\n): Promise<string> => {\n  const metadata = await Metadata.getPDA(editionMint);\n  const signTx = new SignMetadata(\n    { feePayer: wallet.publicKey },\n    {\n      metadata,\n      creator: signer ? signer.publicKey : wallet.publicKey,\n    },\n  );\n  return await sendTransaction({\n    connection,\n    signers: signer ? [signer] : [],\n    txs: [signTx],\n    wallet,\n  });\n};\n","import { Connection, PublicKey } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { Metadata, MetadataDataData, UpdateMetadata } from '../programs/metadata';\nimport { sendTransaction } from './transactions';\n\ninterface UpdateMetadataParams {\n  connection: Connection;\n  wallet: Wallet;\n  editionMint: PublicKey;\n  newMetadataData?: MetadataDataData;\n  newUpdateAuthority?: PublicKey;\n  primarySaleHappened?: boolean;\n}\n\n/*\n * Can be used to update any of the below 3:\n * 1) data inside metadata, but only if it's mutable (which is only possible for MasterEditions)\n * 2) updateAuthority\n * 3) whether primary sale has happened (can only be set true, never back false)\n */\nexport const updateMetadata = async (\n  {\n    connection,\n    wallet,\n    editionMint,\n    newMetadataData,\n    newUpdateAuthority,\n    primarySaleHappened,\n  } = {} as UpdateMetadataParams,\n): Promise<string> => {\n  const metadata = await Metadata.getPDA(editionMint);\n  const updateTx = new UpdateMetadata(\n    { feePayer: wallet.publicKey },\n    {\n      metadata,\n      updateAuthority: wallet.publicKey,\n      metadataData: newMetadataData,\n      newUpdateAuthority,\n      primarySaleHappened,\n    },\n  );\n  return sendTransaction({\n    connection,\n    signers: [],\n    txs: [updateTx],\n    wallet,\n  });\n};\n","import { PublicKey } from '@solana/web3.js';\nimport { AccountLayout } from '@solana/spl-token';\nimport retry from 'async-retry';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { sendTransaction } from './transactions';\nimport { Auction, AuctionExtended, BidderPot } from '../programs/auction';\nimport { AuctionManager, SafetyDepositConfig } from '../programs/metaplex';\nimport { placeBid } from './placeBid';\nimport { getClaimBidTransactions } from './claimBid';\nimport { getRedeemBidTransactions } from './redeemBid';\nimport { Vault } from '../programs/vault/accounts/Vault';\nimport { Metadata } from '../programs/metadata';\nimport { getBidRedemptionPDA } from './redeemBid';\nimport { Account } from '../Account';\n\ninterface IInstantSaleParams {\n  connection: Connection;\n  wallet: Wallet;\n  auction: PublicKey;\n  store: PublicKey;\n}\n\ninterface IInstantSaleResponse {\n  txId: string;\n}\n\nexport const instantSale = async ({\n  connection,\n  wallet,\n  store,\n  auction,\n}: IInstantSaleParams): Promise<IInstantSaleResponse> => {\n  // get data for transactions\n  const bidder = wallet.publicKey;\n  const accountRentExempt = await connection.getMinimumBalanceForRentExemption(AccountLayout.span);\n  const auctionManager = await AuctionManager.getPDA(auction);\n  const manager = await AuctionManager.load(connection, auctionManager);\n  const vault = await Vault.load(connection, manager.data.vault);\n  const {\n    data: { tokenMint },\n  } = await Auction.load(connection, auction);\n  const auctionExtended = await AuctionExtended.getPDA(vault.pubkey);\n  const acceptPayment = new PublicKey(manager.data.acceptPayment);\n  const {\n    data: { instantSalePrice },\n  } = await AuctionExtended.load(connection, auctionExtended);\n  const auctionTokenMint = new PublicKey(tokenMint);\n  const bidderPot = await BidderPot.getPDA(auction, bidder);\n  const fractionMint = new PublicKey(vault.data.fractionMint);\n  // assuming we have 1 item\n  const [safetyDepositBox] = await vault.getSafetyDepositBoxes(connection);\n  const metadataTokenMint = new PublicKey(safetyDepositBox.data.tokenMint);\n  const safetyDepositTokenStore = new PublicKey(safetyDepositBox.data.store);\n  const safetyDepositConfig = await SafetyDepositConfig.getPDA(\n    auctionManager,\n    safetyDepositBox.pubkey,\n  );\n  const transferAuthority = await Vault.getPDA(vault.pubkey);\n  const metadata = await Metadata.getPDA(metadataTokenMint);\n  ////\n\n  const { bidderPotToken, bidderMeta } = await placeBid({\n    connection,\n    wallet,\n    amount: instantSalePrice,\n    auction,\n  });\n\n  // workaround to wait for bidderMeta to be created\n  await retry(async (bail) => {\n    await Account.getInfo(connection, bidderMeta);\n  });\n  const bidRedemption = await getBidRedemptionPDA(auction, bidderMeta);\n\n  const redeemBatch = await getRedeemBidTransactions({\n    accountRentExempt,\n    tokenMint: metadataTokenMint,\n    bidder,\n    bidderMeta,\n    store,\n    vault: vault.pubkey,\n    auction,\n    auctionExtended,\n    auctionManager,\n    fractionMint,\n    safetyDepositTokenStore,\n    safetyDeposit: safetyDepositBox.pubkey,\n    bidRedemption,\n    safetyDepositConfig,\n    transferAuthority,\n    metadata,\n  });\n\n  const claimBatch = await getClaimBidTransactions({\n    auctionTokenMint,\n    bidder,\n    store,\n    vault: vault.pubkey,\n    auction,\n    auctionExtended,\n    auctionManager,\n    acceptPayment,\n    bidderPot,\n    bidderPotToken,\n  });\n\n  const txs = [...redeemBatch.toTransactions(), ...claimBatch.toTransactions()];\n  const signers = [...redeemBatch.signers, ...claimBatch.signers];\n\n  const txId = await sendTransaction({\n    connection,\n    wallet,\n    txs,\n    signers,\n  });\n\n  return { txId };\n};\n","import { PublicKey } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { sendTransaction } from './transactions';\nimport { Transaction } from '../Transaction';\nimport { Token, TOKEN_PROGRAM_ID, u64 } from '@solana/spl-token';\n\ninterface IBurnTokenParams {\n  connection: Connection;\n  wallet: Wallet;\n  token: PublicKey;\n  mint: PublicKey;\n  amount: number | u64;\n  owner?: PublicKey;\n  // close token account after\n  close?: boolean;\n}\n\ninterface IBurnTokenResponse {\n  txId: string;\n}\n\nexport const burnToken = async ({\n  connection,\n  wallet,\n  token,\n  mint,\n  amount,\n  owner,\n  close = true,\n}: IBurnTokenParams): Promise<IBurnTokenResponse> => {\n  const tx = new Transaction({ feePayer: wallet.publicKey }).add(\n    Token.createBurnInstruction(\n      TOKEN_PROGRAM_ID,\n      mint,\n      token,\n      owner ?? wallet.publicKey,\n      [],\n      amount,\n    ),\n  );\n\n  if (close) {\n    tx.add(\n      Token.createCloseAccountInstruction(\n        TOKEN_PROGRAM_ID,\n        token,\n        wallet.publicKey,\n        owner ?? wallet.publicKey,\n        [],\n      ),\n    );\n  }\n\n  const txId = await sendTransaction({ connection, wallet, txs: [tx] });\n\n  return { txId };\n};\n","import { PublicKey } from '@solana/web3.js';\nimport { ASSOCIATED_TOKEN_PROGRAM_ID, Token, TOKEN_PROGRAM_ID, u64 } from '@solana/spl-token';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { sendTransaction } from './transactions';\nimport { Transaction } from '../Transaction';\nimport { Account } from '../Account';\nimport { CreateAssociatedTokenAccount } from '../programs/shared/transactions/CreateAssociatedTokenAccount';\n\ninterface ISendTokenParams {\n  connection: Connection;\n  wallet: Wallet;\n  // token account address\n  source: PublicKey;\n  // destination wallet address\n  destination: PublicKey;\n  mint: PublicKey;\n  amount: number | u64;\n}\n\ninterface ISendTokenResponse {\n  txId: string;\n}\n\nexport const sendToken = async ({\n  connection,\n  wallet,\n  source,\n  destination,\n  mint,\n  amount,\n}: ISendTokenParams): Promise<ISendTokenResponse> => {\n  const txs = [];\n  const destAta = await Token.getAssociatedTokenAddress(\n    ASSOCIATED_TOKEN_PROGRAM_ID,\n    TOKEN_PROGRAM_ID,\n    mint,\n    destination,\n  );\n  const transactionCtorFields = {\n    feePayer: wallet.publicKey,\n  };\n\n  try {\n    // check if the account exists\n    await Account.load(connection, destAta);\n  } catch {\n    txs.push(\n      new CreateAssociatedTokenAccount(transactionCtorFields, {\n        associatedTokenAddress: destAta,\n        splTokenMintAddress: mint,\n        walletAddress: destination,\n      }),\n    );\n  }\n\n  txs.push(\n    new Transaction(transactionCtorFields).add(\n      Token.createTransferInstruction(\n        TOKEN_PROGRAM_ID,\n        source,\n        destAta,\n        wallet.publicKey,\n        [],\n        amount,\n      ),\n    ),\n  );\n\n  const txId = await sendTransaction({ connection, wallet, txs });\n\n  return { txId };\n};\n","import { Keypair, PublicKey, Transaction } from '@solana/web3.js';\n\nexport interface Wallet {\n  publicKey: PublicKey;\n  signTransaction(tx: Transaction): Promise<Transaction>;\n  signAllTransactions(txs: Transaction[]): Promise<Transaction[]>;\n}\n\nexport class NodeWallet implements Wallet {\n  constructor(readonly payer: Keypair) {}\n\n  async signTransaction(tx: Transaction): Promise<Transaction> {\n    tx.partialSign(this.payer);\n    return tx;\n  }\n\n  async signAllTransactions(txs: Transaction[]): Promise<Transaction[]> {\n    return txs.map((tx) => {\n      tx.partialSign(this.payer);\n      return tx;\n    });\n  }\n\n  get publicKey(): PublicKey {\n    return this.payer.publicKey;\n  }\n}\n"],"names":["Currency","bind","fn","thisArg","args","Array","arguments","length","i","apply","require$$0","toString","Object","prototype","isArray","val","call","isUndefined","isObject","isPlainObject","getPrototypeOf","isFunction","forEach","obj","l","key","hasOwnProperty","utils","isArrayBuffer","isBuffer","constructor","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","window","document","merge","result","assignValue","slice","extend","a","b","trim","str","replace","stripBOM","content","charCodeAt","encode","encodeURIComponent","buildURL","url","params","paramsSerializer","serializedParams","parts","v","toISOString","JSON","stringify","push","join","hashmarkIndex","indexOf","InterceptorManager","this","handlers","use","fulfilled","rejected","options","synchronous","runWhen","eject","id","h","InterceptorManager_1","enhanceError","error","config","code","request","response","isAxiosError","toJSON","message","name","description","number","fileName","lineNumber","columnNumber","stack","createError","Error","cookies","write","value","expires","path","domain","secure","cookie","Date","toGMTString","read","match","RegExp","decodeURIComponent","remove","now","isAbsoluteURL","test","combineURLs","baseURL","relativeURL","ignoreDuplicateOf","isURLSameOrigin","originURL","msie","userAgent","urlParsingNode","createElement","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","charAt","location","requestURL","parsed","settle","resolve","reject","validateStatus","status","require$$2","require$$3","buildFullPath","requestedURL","parseHeaders","headers","split","line","substr","toLowerCase","concat","require$$6","require$$7","xhr","Promise","requestData","data","requestHeaders","responseType","XMLHttpRequest","auth","username","password","unescape","Authorization","btoa","fullPath","onloadend","responseHeaders","getAllResponseHeaders","responseText","statusText","open","method","toUpperCase","timeout","onreadystatechange","readyState","responseURL","setTimeout","onabort","onerror","ontimeout","timeoutErrorMessage","transitional","clarifyTimeoutError","xsrfValue","withCredentials","xsrfCookieName","undefined","xsrfHeaderName","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","then","cancel","abort","send","normalizeHeaderName","normalizedName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","adapter","defaults","silentJSONParsing","forcedJSONParsing","process","transformRequest","rawValue","parser","encoder","parse","e","stringifySafely","transformResponse","strictJSONParsing","maxContentLength","maxBodyLength","common","Accept","defaults_1","require$$1","isCancel","__CANCEL__","transformData","fns","context","throwIfCancellationRequested","throwIfRequested","mergeConfig","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","target","source","mergeDeepProperties","prop","axiosKeys","otherKeys","keys","filter","pkg","validators","type","thing","deprecatedWarnings","currentVerArr","version","isOlderVersion","thanVersion","pkgVersionArr","destVer","validator","isDeprecated","formatMessage","opt","desc","opts","console","warn","assertOptions","schema","allowUnknown","TypeError","dispatchRequest","reason","require$$4","require$$5","Axios","instanceConfig","interceptors","boolean","requestInterceptorChain","synchronousRequestInterceptors","interceptor","unshift","responseInterceptorChain","chain","shift","newConfig","onFulfilled","onRejected","getUri","Axios_1","Cancel","Cancel_1","CancelToken","executor","resolvePromise","token","c","CancelToken_1","createInstance","defaultConfig","instance","axios","create","all","promises","spread","callback","arr","payload","Coingecko","static","currency","AR","SOL","USD","EUR","getRate","from","to","fromArray","toArray","map","translateCurrency","reduce","previousPairs","fromCurrency","toCurrency","rate","browser","self","ARWEAVE_URL","LAMPORT_MULTIPLIER","Math","WINSTON_MULTIPLIER","ChainId","ENV","devnet","endpoint","clusterApiUrl","Devnet","MainnetBeta","testnet","Testnet","Connection","SolanaConnection","commitment","super","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","len","revLookup","uint8","extraBytes","maxChunkLength","len2","encodeChunk","lookup","Uint8Array","start","end","num","output","offset","isLE","mLen","nBytes","m","eLen","eMax","eBias","nBits","d","s","NaN","Infinity","pow","rt","abs","isNaN","floor","log","LN2","base64","ieee754","customInspectSymbol","Symbol","exports","Buffer","alloc","K_MAX_LENGTH","createBuffer","RangeError","buf","setPrototypeOf","arg","encodingOrOffset","allocUnsafe","string","encoding","isEncoding","byteLength","actual","fromString","arrayView","isInstance","copy","fromArrayBuffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","checked","numberIsNaN","fromObject","toPrimitive","assertSize","size","array","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","String","readUInt16BE","foundIndex","found","j","hexWrite","Number","remaining","strLen","parseInt","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","defineProperty","enumerable","get","poolSize","fill","allocUnsafeSlow","_isBuffer","compare","x","y","list","pos","set","swap16","swap32","swap64","toLocaleString","equals","inspect","max","INSPECT_MAX_BYTES","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","_arr","ret","out","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","BigInt","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","last","boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","E","sym","getMessage","Base","writable","configurable","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","input","msg","received","isInteger","INVALID_BASE64_RE","leadSurrogate","toByteArray","base64clean","src","dst","alphabet","table","i16","BufferBigIntNotDefined","Account","pubkey","info","PublicKey","account","connection","getInfo","getAccountInfo","pubkeys","getMultipleAccounts","results","Map","entries","k","_buildArgs","unsafeRes","_rpcRequest","Boolean","acc","index","assertOwner","owner","executable","lamports","module","assert","inherits","ctor","superCtor","super_","TempCtor","BN","base","endian","isBN","negative","words","red","_init","wordSize","parseHex4Bits","parseHexByte","lowerBound","r","parseBase","move","dest","left","right","cmp","_initNumber","_initArray","_parseHex","_parseBase","ceil","w","off","_strip","limbLen","limbPow","total","mod","word","imuln","_iaddn","_move","clone","_expand","_normSign","for","zeros","groupSizes","groupBases","smallMulTo","carry","ncarry","rword","maxJ","padding","groupSize","groupBase","isZero","modrn","idivn","toNumber","toBuffer","toArrayLike","ArrayType","reqLength","allocate","_toArrayLikeLE","position","_toArrayLikeBE","clz32","_countBits","t","_zeroBits","bitLength","zeroBits","toTwos","width","inotn","iaddn","fromTwos","testn","notn","ineg","isNeg","neg","iuor","ior","or","uor","iuand","iand","and","uand","iuxor","ixor","xor","uxor","bytesNeeded","bitsLeft","setn","bit","wbit","iadd","isub","add","comb10MulTo","mid","o","a0","al0","ah0","a1","al1","ah1","a2","al2","ah2","a3","al3","ah3","a4","al4","ah4","a5","al5","ah5","a6","al6","ah6","a7","al7","ah7","a8","al8","ah8","a9","al9","ah9","b0","bl0","bh0","b1","bl1","bh1","b2","bl2","bh2","b3","bl3","bh3","b4","bl4","bh4","b5","bl5","bh5","b6","bl6","bh6","b7","bl7","bh7","b8","bl8","bh8","b9","bl9","bh9","w0","imul","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","w11","w12","w13","w14","w15","w16","w17","w18","bigMulTo","hncarry","jumboMulTo","mulTo","mulf","isNegNum","muln","sqr","isqr","toBitArray","q","iushln","bits","carryMask","newCarry","ishln","iushrn","hint","extended","mask","maskedWords","ishrn","shln","ushln","shrn","ushrn","imaskn","maskn","isubn","addn","subn","iabs","_ishlnsubmul","_wordDiv","mode","bhi","diff","qj","div","divmod","positive","divn","umod","divRound","dm","half","r2","andln","p","modn","egcd","A","B","C","D","g","isEven","yp","xp","im","isOdd","jm","gcd","_invmp","x1","x2","delta","cmpn","invm","bincn","ucmp","gtn","gt","gten","gte","ltn","lt","lten","lte","eqn","eq","Red","toRed","ctx","convertTo","_forceRed","fromRed","convertFrom","forceRed","redAdd","redIAdd","redSub","redISub","redShl","shl","redMul","_verify2","redIMul","redSqr","_verify1","redISqr","redSqrt","sqrt","redInvm","redNeg","redPow","primes","k256","p224","p192","p25519","MPrime","_tmp","K256","P224","P192","P25519","prime","_prime","Mont","imod","rinv","minv","ireduce","rlen","imulK","strip","outLen","prev","next","mod3","one","nOne","lpow","z","inv","wnd","current","currentLen","mont","u","copyProps","SafeBuffer","SlowBuffer","_Buffer","ALPHABET","BASE_MAP","xc","BASE","LEADER","FACTOR","iFACTOR","decodeUnsafe","psz","zeroes","b256","it3","it4","vch","pbegin","pend","b58","it1","it2","repeat","decode","bs58","inRange","ToDictionary","Stream","tokens","endOfStream","prepend","pop","finished","decoderError","fatal","opt_code_point","DEFAULT_ENCODING","TextDecoder","_streaming","_BOMseen","_decoder","_fatal","_ignoreBOM","TextEncoder","_encoder","_options","UTF8Decoder","utf8_code_point","utf8_bytes_seen","utf8_bytes_needed","utf8_lower_boundary","utf8_upper_boundary","handler","stream","bite","code_point","UTF8Encoder","count","temp","input_stream","code_points","cp","codePointsToString","opt_string","stringToCodePoints","__createBinding","k2","__setModuleDefault","__decorate","decorators","getOwnPropertyDescriptor","Reflect","decorate","__importStar","__esModule","__importDefault","default","lib","serialize_1","BinaryReader_1","BinaryWriter_1","bn_js_1","bs58_1","textDecoder","global","INITIAL_LENGTH","BorshError","fieldPath","originalMessage","addToFieldPath","fieldName","splice","BinaryWriter","maybeResize","writeU8","writeU16","writeU32","writeU64","writeBuffer","writeU128","writeU256","writeU512","writeString","writeFixedArray","writeArray","elem","handlingRangeError","propertyKey","propertyDescriptor","originalMethod","BinaryReader","readU8","readU16","readU32","readU64","readBuffer","readU128","readU256","readU512","readString","readFixedArray","readArray","capitalizeFirstLetter","serializeField","fieldType","writer","item","kind","serializeStruct","structSchema","fields","field","idx","values","deserializeField","reader","deserializeStruct","classType","deserializeUnchecked_1","extendBorsh","readPubkey","writePubkey","readPubkeyAsString","base58","writePubkeyAsString","Data","assign","struct","serialize","SCHEMA","deserializeUnchecked","_globalThis","globalThis","algorithm","async","outputFormat","crypto","subtle","digest","view","DataView","hexCodes","getUint32","padStart","bufferToHex","file","sha256","TupleNumericType","getBNFromData","dataType","U8","U16","U32","U64","ErrorCode","MetaplexError","errorCode","ERROR_INVALID_OWNER","ERROR_INVALID_ACCOUNT_DATA","ERROR_DEPRECATED_ACCOUNT_DATA","Transaction","SolanaTransaction","transactions","combinedTransaction","transaction","instructions","instruction","sendTransaction","wallet","txs","signers","tx","fromCombined","feePayer","publicKey","recentBlockhash","getRecentBlockhash","blockhash","partialSign","signTransaction","sendRawTransaction","Program","seeds","findProgramAddress","PUBKEY","configOrCommitment","extra","dataSlice","filters","toBase58","auction","metadata","metaplex","vault","packs","memo","MetaplexKey","MetaplexProgram","WINNER_INDEX_OFFSETS","BidRedemptionTicket","isBidRedemptionTicketV1","isBidRedemptionTicketV2","winnerIndex","BidRedemptionTicketV2","auctionManager","BidRedemptionTicketV1","AuctionProgram","AuctionState","BidStateType","PriceFloorType","WinnerLimitType","BidderMetadataData","Borsh.Data","_a","BidderMetadata","isCompatible","deserialize","DATA_SIZE","bidder","PREFIX","BidderPotData","BidderPot","Bid","BidState","getWinnerAt","convertedIndex","bids","getAmountAt","amount","getWinnerIndex","findIndex","zeroBased","_b","PriceFloor","Minimum","minPrice","_c","AuctionData","_d","Auction","getProgramAccounts","authority","memcmp","err","getBidderPots","dataSize","getBidderMetadata","AuctionDataExtended","AuctionExtended","EXTENDED","CancelBidArgs","CancelBid","auctionExtended","bidderPot","bidderMeta","bidderToken","bidderPotToken","tokenMint","resource","TransactionInstruction","isSigner","isWritable","SYSVAR_CLOCK_PUBKEY","SYSVAR_RENT_PUBKEY","SystemProgram","programId","TOKEN_PROGRAM_ID","WinnerLimit","CreateAuctionArgs","CreateAuctionV2Args","PlaceBidArgs","PlaceBid","transferAuthority","SetAuctionAuthorityArgs","AuctionManagerStatus","WinningConfigType","WinningConstraint","NonWinningConstraint","creator","currentAuthority","newAuthority","AuctionManagerStateV2","Initialized","AuctionManagerV2Data","AuctionManagerV2","AuctionManager","isAuctionManagerV1","isAuctionManagerV2","AuctionManagerV1","store","getAuction","load","getBidRedemptionTickets","haveWinnerIndex","PayoutTicketData","PayoutTicketV1","PayoutTicket","recipient","PrizeTrackingTicketData","PrizeTrackingTicketV1","PrizeTrackingTicket","mint","SafetyDepositConfig","SafetyDepositConfigV1","safetyDeposit","order","winningConfigType","amountType","lengthType","amountRanges","participationConfig","participationState","lengthOfArray","winnerConstraint","nonWinningConstraint","fixedPrice","collectedToAcceptPayment","WhitelistedCreatorData","WhitelistedCreatorV1","WhitelistedCreator","StoreData","StoreV1","Store","getWhitelistedCreators","getAuctionManagers","AuctionWinnerTokenTypeTracker","AuctionWinnerTokenTypeTrackerV1","TOTALS","VaultKey","VaultInstructions","VaultState","VaultProgram","SafetyDepositBoxData","SafetyDepositBoxV1","SafetyDepositBox","AmountArgs","NumberOfShareArgs","VaultData","VaultV1","Vault","getSafetyDepositBoxes","ExternalPriceAccountData","ExternalPriceAccountV1","ExternalPriceAccount","ActivateVault","vaultAuthority","fractionMint","fractionTreasury","fractionMintAuthority","numberOfShares","CombineVaultArgs","CombineVault","outstandingShareTokenAccount","payingTokenAccount","redeemTreasury","newVaultAuthority","externalPriceAccount","burnAuthority","InitVaultArgs","InitVault","fractionalMint","fractionalTreasury","pricingLookupAddress","allowFurtherShareCreation","RedeemSharesArgs","RedeemShares","SetVaultAuthorityArgs","SetVaultAuthority","UpdateExternalPriceAccountArgs","UpdateExternalPriceAccount","externalPriceAccountData","MetadataKey","AddSharesToTreasury","tokenAccount","tokenStoreAccount","safetyDepositBox","AddTokenToInactiveVault","MintFractionalShares","outstandingSharesAccount","proceedsAccount","destination","WithdrawSharesFromTreasury","WithdrawTokenFromSafetyDepositBox","MetadataProgram","EditionData","EditionV1","Edition","EDITION_PREFIX","EditionMarkerData","EditionMarker","editionTaken","edition","editionOffset","indexOffset","positionInBitsetFromRight","ledger","editionNumber","MasterEditionV1Data","MasterEditionV1","MasterEditionV2Data","MasterEditionV2","MasterEdition","isMasterEditionV1","isMasterEditionV2","getEditions","TokenAccount","AccountLayout","span","getTokenAccountsByOwner","accountInfo","u64","fromBuffer","delegateOption","delegate","delegatedAmount","isInitialized","state","isFrozen","isNativeOption","rentExemptReserve","isNative","closeAuthorityOption","closeAuthority","CreateMint","newAccountPubkey","decimals","freezeAuthority","createAccount","fromPubkey","space","MintLayout","Token","createInitMintInstruction","CreateTokenAccount","createInitAccountInstruction","CreateAssociatedTokenAccount","associatedTokenAddress","walletAddress","splTokenMintAddress","ASSOCIATED_TOKEN_PROGRAM_ID","MintTo","createMintToInstruction","Creator","MetadataDataData","METADATA_REPLACE","uri","symbol","MetadataData","MetadataV1","Metadata","baseFilters","updateAuthority","creators","computeCreatorOffset","flat","accounts","accountMap","findMany","has","accountsWithAmount","metadataPdaLookups","getPDA","metadataAddresses","tokenInfo","getInfos","pda","CreateMetadataArgs","CreateMetadata","metadataData","mintAuthority","isMutable","UpdateMetadataArgs","UpdateMetadata","newUpdateAuthority","primarySaleHappened","CreateMasterEditionArgs","CreateMasterEdition","maxSupply","MintNewEditionFromMasterEditionViaTokenArgs","MintNewEditionFromMasterEditionViaToken","masterEdition","masterMetadata","editionMarker","tokenOwner","editionValue","UpdatePrimarySaleHappenedViaTokenArgs","UpdatePrimarySaleHappenedViaToken","SignMetadataArgs","SignMetadata","ProxyCallAddress","SetStoreArgs","SetStore","admin","isPublic","public","SetWhitelistedCreatorArgs","StartAuctionArgs","InitAuctionManagerV2Args","ClaimBidArgs","ClaimBid","acceptPayment","RedeemBidArgs","RedeemUnusedWinningConfigItemsAsAuctioneerArgs","RedeemFullRightsTransferBidArgs","RedeemFullRightsTransferBid","bidRedemption","bidMetadata","safetyDepositTokenStore","safetyDepositConfig","auctioneerReclaimIndex","winningConfigItemIndex","proxyCall","whitelistedCreatorPDA","activated","auctionManagerAuthority","acceptPaymentAccount","tokenTracker","maxRanges","isPrintingType","reservationList","RedeemBid","fileHashes","arweaveWallet","transfer","toPubkey","prepareTokenAccountAndMintTx","Keypair","generate","mintRent","getMinimumBalanceForRentExemption","createMintTx","getAssociatedTokenAddress","createAssociatedTokenAccountTx","mintToTx","TransactionsBatch","beforeTransactions","afterTransactions","addSigner","signer","addBeforeTransaction","addTransaction","addAfterTransaction","toTransactions","toInstructions","flatMap","getCancelBidTransactions","destAccount","accountRentExempt","auctionTokenMint","txBatch","createTokenAccountTransaction","NATIVE_MINT","closeTokenAccountInstruction","createCloseAccountInstruction","cancelBidTransaction","placeBid","manager","createBidderPotTransaction","payingAccount","closeTokenAccountTransaction","createApproveTransaction","createApproveInstruction","createRevokeTransaction","createRevokeInstruction","placeBidTransaction","txId","getRedeemBidTransactions","createDestinationTransaction","redeemBidTransaction","updatePrimarySaleHappenedViaTokenTransaction","getBidRedemptionPDA","getClaimBidTransactions","claimBidTransaction","RetryOperation","timeouts","forever","_originalTimeouts","_timeouts","_maxRetryTime","maxRetryTime","_fn","_errors","_attempts","_operationTimeout","_operationTimeoutCb","_timeout","_operationStart","_timer","_cachedTimeouts","retry_operation","reset","stop","clearTimeout","retry","currentTime","getTime","unref","attempt","timeoutOps","cb","try","attempts","mainError","counts","mainErrorCount","retries","factor","minTimeout","maxTimeout","randomize","createTimeout","sort","random","round","methods","original","op","operation","retrier","bail","onError","onRetry","catch","storeId","metadataPDA","editionPDA","seller_fee_basis_points","properties","creatorsData","address","share","verified","sellerFeeBasisPoints","createMetadataTx","masterEditionTx","masterEditionMint","masterPDA","masterMetaPDA","masterInfo","supply","newEditionFromMasterTx","priceMint","accountRent","txOptions","fractionMintKey","fractionTreasuryKey","redeemTreasuryKey","pricingLookupAddressKey","activateVaultTx","outstandingShareAccount","outstandingShareAccountTx","payingTokenAccountTx","createApproveTx","combineVaultTx","vaultRent","MAX_VAULT_SIZE","fractionMintTx","redeemTreasuryTx","fractionTreasuryTx","uninitializedVaultTx","initVaultTx","epaRentExempt","MAX_EXTERNAL_ACCOUNT_SIZE","pricePerShare","allowedToCombine","uninitializedEPA","updateEPA","editionMint","signTx","newMetadataData","updateTx","instantSalePrice","metadataTokenMint","redeemBatch","claimBatch","close","createBurnInstruction","destAta","transactionCtorFields","createTransferInstruction","env","getAssetCostToStore","files","arweaveRate","solanaRate","buffers","totalBytes","sum","f","txnFeeInWinstons","byteCostInWinstons","totalArCost","mintKey","txid","fileEntries","tags","body","append","post","payer","signAllTransactions"],"mappings":"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"}